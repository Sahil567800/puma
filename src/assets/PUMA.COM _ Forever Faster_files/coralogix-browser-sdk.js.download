(()=>{var t={7845:(t,e,r)=>{"use strict";r.d(e,{TD:()=>u});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},o=Symbol.for("io.opentelemetry.js.api.logs"),i=n;var s=function(){function t(){}return t.prototype.emit=function(t){},t}(),a=(new s,new(function(){function t(){}return t.prototype.getLogger=function(t,e,r){return new s},t}())),u=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalLoggerProvider=function(t){return i[o]?this.getLoggerProvider():(i[o]=(e=1,r=t,n=a,function(t){return t===e?r:n}),t);var e,r,n},t.prototype.getLoggerProvider=function(){var t,e;return null!==(e=null===(t=i[o])||void 0===t?void 0:t.call(i,1))&&void 0!==e?e:a},t.prototype.getLogger=function(t,e,r){return this.getLoggerProvider().getLogger(t,e,r)},t.prototype.disable=function(){delete i[o]},t}().getInstance()},3276:(t,e,r)=>{"use strict";r.d(e,{c:()=>f});var n=r(5834),o=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},s=function(){function t(){}return t.prototype.active=function(){return n.I},t.prototype.with=function(t,e,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return e.call.apply(e,i([r],o(n),!1))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),a=r(5880),u=r(3872),c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},d="context",p=new s,f=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return(0,a.TG)(d,t,u.G.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,l([t,e,r],c(o),!1))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return(0,a.Rd)(d)||p},t.prototype.disable=function(){this._getContextManager().disable(),(0,a.J_)(d,u.G.instance())},t}()},3872:(t,e,r)=>{"use strict";r.d(e,{G:()=>d});var n=r(5880),o=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},s=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a("verbose",this._namespace,t)},t}();function a(t,e,r){var s=(0,n.Rd)("diag");if(s)return r.unshift(e),s[t].apply(s,i([],o(r),!1))}var u=r(6740);var c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},d=function(){function t(){function t(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=(0,n.Rd)("diag");if(o)return o[t].apply(o,l([],c(e),!1))}}var e=this;e.setLogger=function(t,r){var o,i,s;if(void 0===r&&(r={logLevel:u.n.INFO}),t===e){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(o=a.stack)&&void 0!==o?o:a.message),!1}"number"==typeof r&&(r={logLevel:r});var c=(0,n.Rd)("diag"),l=function(t,e){function r(r,n){var o=e[r];return"function"==typeof o&&t>=n?o.bind(e):function(){}}return t<u.n.NONE?t=u.n.NONE:t>u.n.ALL&&(t=u.n.ALL),e=e||{},{error:r("error",u.n.ERROR),warn:r("warn",u.n.WARN),info:r("info",u.n.INFO),debug:r("debug",u.n.DEBUG),verbose:r("verbose",u.n.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:u.n.INFO,t);if(c&&!r.suppressOverrideMessage){var d=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+d),l.warn("Current logger will overwrite one already registered from "+d)}return(0,n.TG)("diag",l,e,!0)},e.disable=function(){(0,n.J_)("diag",e)},e.createComponentLogger=function(t){return new s(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()},3593:(t,e,r)=>{"use strict";r.d(e,{u:()=>l,H:()=>c});var n=r(3872),o=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function t(t){this._entries=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(t){var e=o(t,2);return[e[0],e[1]]}))},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new t(this._entries);try{for(var a=i(n),u=a.next();!u.done;u=a.next()){var c=u.value;s._entries.delete(c)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return s},t.prototype.clear=function(){return new t},t}(),a=Symbol("BaggageEntryMetadata"),u=n.G.instance();function c(t){return void 0===t&&(t={}),new s(new Map(Object.entries(t)))}function l(t){return"string"!=typeof t&&(u.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:a,toString:function(){return t}}}},6339:(t,e,r)=>{"use strict";r.d(e,{D:()=>n});var n=r(3276).c.getInstance()},5834:(t,e,r)=>{"use strict";function n(t){return Symbol.for(t)}r.d(e,{I:()=>o,Y:()=>n});var o=new function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(t){return r._currentContext.get(t)},r.setValue=function(e,n){var o=new t(r._currentContext);return o._currentContext.set(e,n),o},r.deleteValue=function(e){var n=new t(r._currentContext);return n._currentContext.delete(e),n}}},928:(t,e,r)=>{"use strict";r.d(e,{K:()=>n});var n=r(3872).G.instance()},6740:(t,e,r)=>{"use strict";var n;r.d(e,{n:()=>n}),function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(n||(n={}))},2521:(t,e,r)=>{"use strict";r.r(e),r.d(e,{DiagConsoleLogger:()=>a,DiagLogLevel:()=>u.n,INVALID_SPANID:()=>I.fQ,INVALID_SPAN_CONTEXT:()=>I.Rr,INVALID_TRACEID:()=>I.AE,ProxyTracer:()=>d.T,ProxyTracerProvider:()=>p.K,ROOT_CONTEXT:()=>i.I,SamplingDecision:()=>f.U,SpanKind:()=>h.M,SpanStatusCode:()=>m.Q,TraceFlags:()=>g.r,ValueType:()=>n,baggageEntryMetadataFromString:()=>o.u,context:()=>C.D,createContextKey:()=>i.Y,createNoopMeter:()=>c.v7,createTraceState:()=>_,default:()=>w,defaultTextMapGetter:()=>l.r,defaultTextMapSetter:()=>l.M,diag:()=>R.K,isSpanContextValid:()=>b.BM,isValidSpanId:()=>b.Lc,isValidTraceId:()=>b.jN,metrics:()=>N.q,propagation:()=>A.u,trace:()=>O.g});var n,o=r(3593),i=r(5834),s=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],a=function(){function t(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(console){var n=console[t];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,e)}}}for(var e=0;e<s.length;e++)this[s[e].n]=t(s[e].c)},u=r(6740),c=r(4027);!function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"}(n||(n={}));var l=r(7008),d=r(9953),p=r(5983),f=r(1227),h=r(87),m=r(1820),g=r(8726),v="[_0-9a-z-*/]",y=new RegExp("^(?:"+("[a-z]"+v+"{0,255}")+"|"+("[a-z0-9]"+v+"{0,240}@[a-z]"+v+"{0,13}")+")$"),E=/^[ -~]{0,255}[!-~]$/,S=/,|=/;var T=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,e),r},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce((function(e,r){return e.push(r+"="+t.get(r)),e}),[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce((function(t,e){var r=e.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,e.length);(function(t){return y.test(t)})(o)&&function(t){return E.test(t)&&!S.test(t)}(i)&&t.set(o,i)}return t}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}();function _(t){return new T(t)}var b=r(7228),I=r(7007),C=r(6339),R=r(928),N=r(7782),A=r(9663),O=r(8570);const w={context:C.D,diag:R.K,metrics:N.q,propagation:A.u,trace:O.g}},5880:(t,e,r)=>{"use strict";r.d(e,{Rd:()=>d,TG:()=>l,J_:()=>p});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},o="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var s=function(t){var e=new Set([t]),r=new Set,n=t.match(i);if(!n)return function(){return!1};var o=+n[1],s=+n[2],a=+n[3];if(null!=n[4])return function(e){return e===t};function u(t){return r.add(t),!1}function c(t){return e.add(t),!0}return function(t){if(e.has(t))return!0;if(r.has(t))return!1;var n=t.match(i);if(!n)return u(t);var l=+n[1],d=+n[2],p=+n[3];return null!=n[4]||o!==l?u(t):0===o?s===d&&a<=p?c(t):u(t):s<=d?c(t):u(t)}}(o),a=o.split(".")[0],u=Symbol.for("opentelemetry.js.api."+a),c=n;function l(t,e,r,n){var i;void 0===n&&(n=!1);var s=c[u]=null!==(i=c[u])&&void 0!==i?i:{version:o};if(!n&&s[t]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(a.stack||a.message),!1}if(s.version!==o){a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+t+" does not match previously registered API v"+o);return r.error(a.stack||a.message),!1}return s[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+o+"."),!0}function d(t){var e,r,n=null===(e=c[u])||void 0===e?void 0:e.version;if(n&&s(n))return null===(r=c[u])||void 0===r?void 0:r[t]}function p(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+o+".");var r=c[u];r&&delete r[t]}},7782:(t,e,r)=>{"use strict";r.d(e,{q:()=>u});var n=r(4027),o=new(function(){function t(){}return t.prototype.getMeter=function(t,e,r){return n.dI},t}()),i=r(5880),s=r(3872),a="metrics",u=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(t){return(0,i.TG)(a,t,s.G.instance())},t.prototype.getMeterProvider=function(){return(0,i.Rd)(a)||o},t.prototype.getMeter=function(t,e,r){return this.getMeterProvider().getMeter(t,e,r)},t.prototype.disable=function(){(0,i.J_)(a,s.G.instance())},t}().getInstance()},4027:(t,e,r)=>{"use strict";r.d(e,{dI:()=>m,v7:()=>b});var n,o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=function(){function t(){}return t.prototype.createGauge=function(t,e){return v},t.prototype.createHistogram=function(t,e){return y},t.prototype.createCounter=function(t,e){return g},t.prototype.createUpDownCounter=function(t,e){return E},t.prototype.createObservableGauge=function(t,e){return T},t.prototype.createObservableCounter=function(t,e){return S},t.prototype.createObservableUpDownCounter=function(t,e){return _},t.prototype.addBatchObservableCallback=function(t,e){},t.prototype.removeBatchObservableCallback=function(t){},t}(),s=function(){},a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.add=function(t,e){},e}(s),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.add=function(t,e){},e}(s),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.record=function(t,e){},e}(s),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.record=function(t,e){},e}(s),d=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.removeCallback=function(t){},t}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(d),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(d),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(d),m=new i,g=new a,v=new c,y=new l,E=new u,S=new p,T=new f,_=new h;function b(){return m}},9663:(t,e,r)=>{"use strict";r.d(e,{u:()=>v});var n=r(5880),o=function(){function t(){}return t.prototype.inject=function(t,e){},t.prototype.extract=function(t,e){return t},t.prototype.fields=function(){return[]},t}(),i=r(7008),s=r(3276),a=(0,r(5834).Y)("OpenTelemetry Baggage Key");function u(t){return t.getValue(a)||void 0}function c(){return u(s.c.getInstance().active())}function l(t,e){return t.setValue(a,e)}function d(t){return t.deleteValue(a)}var p=r(3593),f=r(3872),h="propagation",m=new o,g=function(){function t(){this.createBaggage=p.H,this.getBaggage=u,this.getActiveBaggage=c,this.setBaggage=l,this.deleteBaggage=d}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(t){return(0,n.TG)(h,t,f.G.instance())},t.prototype.inject=function(t,e,r){return void 0===r&&(r=i.M),this._getGlobalPropagator().inject(t,e,r)},t.prototype.extract=function(t,e,r){return void 0===r&&(r=i.r),this._getGlobalPropagator().extract(t,e,r)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){(0,n.J_)(h,f.G.instance())},t.prototype._getGlobalPropagator=function(){return(0,n.Rd)(h)||m},t}(),v=g.getInstance()},7008:(t,e,r)=>{"use strict";r.d(e,{M:()=>o,r:()=>n});var n={get:function(t,e){if(null!=t)return t[e]},keys:function(t){return null==t?[]:Object.keys(t)}},o={set:function(t,e,r){null!=t&&(t[e]=r)}}},8570:(t,e,r)=>{"use strict";r.d(e,{g:()=>c});var n=r(5880),o=r(5983),i=r(7228),s=r(3557),a=r(3872),u="trace",c=function(){function t(){this._proxyTracerProvider=new o.K,this.wrapSpanContext=i.kw,this.isSpanContextValid=i.BM,this.deleteSpan=s.TW,this.getSpan=s.Br,this.getActiveSpan=s.HN,this.getSpanContext=s.A3,this.setSpan=s.WZ,this.setSpanContext=s.G3}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(t){var e=(0,n.TG)(u,this._proxyTracerProvider,a.G.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},t.prototype.getTracerProvider=function(){return(0,n.Rd)(u)||this._proxyTracerProvider},t.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},t.prototype.disable=function(){(0,n.J_)(u,a.G.instance()),this._proxyTracerProvider=new o.K},t}().getInstance()},7817:(t,e,r)=>{"use strict";r.d(e,{s:()=>o});var n=r(7007),o=function(){function t(t){void 0===t&&(t=n.Rr),this._spanContext=t}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,e){return this},t.prototype.addLink=function(t){return this},t.prototype.addLinks=function(t){return this},t.prototype.setStatus=function(t){return this},t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,e){},t}()},9127:(t,e,r)=>{"use strict";r.d(e,{E:()=>u});var n=r(3276),o=r(3557),i=r(7817),s=r(7228),a=n.c.getInstance(),u=function(){function t(){}return t.prototype.startSpan=function(t,e,r){if(void 0===r&&(r=a.active()),Boolean(null==e?void 0:e.root))return new i.s;var n,u=r&&(0,o.A3)(r);return"object"==typeof(n=u)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.BM)(u)?new i.s(u):new i.s},t.prototype.startActiveSpan=function(t,e,r,n){var i,s,u;if(!(arguments.length<2)){2===arguments.length?u=e:3===arguments.length?(i=e,u=r):(i=e,s=r,u=n);var c=null!=s?s:a.active(),l=this.startSpan(t,i,c),d=(0,o.WZ)(c,l);return a.with(d,u,void 0,l)}},t}()},9953:(t,e,r)=>{"use strict";r.d(e,{T:()=>o});var n=new(r(9127).E),o=function(){function t(t,e,r,n){this._provider=t,this.name=e,this.version=r,this.options=n}return t.prototype.startSpan=function(t,e,r){return this._getTracer().startSpan(t,e,r)},t.prototype.startActiveSpan=function(t,e,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):n},t}()},5983:(t,e,r)=>{"use strict";r.d(e,{K:()=>s});var n=r(9953),o=r(9127),i=new(function(){function t(){}return t.prototype.getTracer=function(t,e,r){return new o.E},t}()),s=function(){function t(){}return t.prototype.getTracer=function(t,e,r){var o;return null!==(o=this.getDelegateTracer(t,e,r))&&void 0!==o?o:new n.T(this,t,e,r)},t.prototype.getDelegate=function(){var t;return null!==(t=this._delegate)&&void 0!==t?t:i},t.prototype.setDelegate=function(t){this._delegate=t},t.prototype.getDelegateTracer=function(t,e,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(t,e,r)},t}()},1227:(t,e,r)=>{"use strict";var n;r.d(e,{U:()=>n}),function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},3557:(t,e,r)=>{"use strict";r.d(e,{A3:()=>p,Br:()=>a,G3:()=>d,HN:()=>u,TW:()=>l,WZ:()=>c});var n=r(5834),o=r(7817),i=r(3276),s=(0,n.Y)("OpenTelemetry Context Key SPAN");function a(t){return t.getValue(s)||void 0}function u(){return a(i.c.getInstance().active())}function c(t,e){return t.setValue(s,e)}function l(t){return t.deleteValue(s)}function d(t,e){return c(t,new o.s(e))}function p(t){var e;return null===(e=a(t))||void 0===e?void 0:e.spanContext()}},7007:(t,e,r)=>{"use strict";r.d(e,{AE:()=>i,Rr:()=>s,fQ:()=>o});var n=r(8726),o="0000000000000000",i="00000000000000000000000000000000",s={traceId:i,spanId:o,traceFlags:n.r.NONE}},87:(t,e,r)=>{"use strict";var n;r.d(e,{M:()=>n}),function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(n||(n={}))},7228:(t,e,r)=>{"use strict";r.d(e,{BM:()=>c,Lc:()=>u,jN:()=>a,kw:()=>l});var n=r(7007),o=r(7817),i=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(t){return i.test(t)&&t!==n.AE}function u(t){return s.test(t)&&t!==n.fQ}function c(t){return a(t.traceId)&&u(t.spanId)}function l(t){return new o.s(t)}},1820:(t,e,r)=>{"use strict";var n;r.d(e,{Q:()=>n}),function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(n||(n={}))},8726:(t,e,r)=>{"use strict";var n;r.d(e,{r:()=>n}),function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(n||(n={}))},3420:(t,e,r)=>{"use strict";var n;r.d(e,{I:()=>n}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(n||(n={}))},3250:(t,e,r)=>{"use strict";r.d(e,{Cx:()=>a,H3:()=>c,Vo:()=>n,WM:()=>s,bO:()=>o,bU:()=>i,ef:()=>u});var n="=",o=";",i=",",s="baggage",a=180,u=4096,c=8192},926:(t,e,r)=>{"use strict";r.d(e,{a:()=>a});var n=r(9663),o=r(8397),i=r(3250),s=r(315),a=function(){function t(){}return t.prototype.inject=function(t,e,r){var a=n.u.getBaggage(t);if(a&&!(0,o.Ll)(t)){var u=(0,s.getKeyPairs)(a).filter((function(t){return t.length<=i.ef})).slice(0,i.Cx),c=(0,s.serializeKeyPairs)(u);c.length>0&&r.set(e,i.WM,c)}},t.prototype.extract=function(t,e,r){var o=r.get(e,i.WM),a=Array.isArray(o)?o.join(i.bU):o;if(!a)return t;var u={};return 0===a.length?t:(a.split(i.bU).forEach((function(t){var e=(0,s.parsePairKeyValue)(t);if(e){var r={value:e.value};e.metadata&&(r.metadata=e.metadata),u[e.key]=r}})),0===Object.entries(u).length?t:n.u.setBaggage(t,n.u.createBaggage(u)))},t.prototype.fields=function(){return[i.WM]},t}()},315:(t,e,r)=>{"use strict";r.r(e),r.d(e,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>c,parsePairKeyValue:()=>u,serializeKeyPairs:()=>s});var n=r(3593),o=r(3250),i=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(t){return t.reduce((function(t,e){var r=""+t+(""!==t?o.bU:"")+e;return r.length>o.H3?t:r}),"")}function a(t){return t.getAllEntries().map((function(t){var e=i(t,2),r=e[0],n=e[1],s=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(s+=o.bO+n.metadata.toString()),s}))}function u(t){var e=t.split(o.bO);if(!(e.length<=0)){var r=e.shift();if(r){var i=r.indexOf(o.Vo);if(!(i<=0)){var s,a=decodeURIComponent(r.substring(0,i).trim()),u=decodeURIComponent(r.substring(i+1).trim());return e.length>0&&(s=(0,n.u)(e.join(o.bO))),{key:a,value:u,metadata:s}}}}}function c(t){return"string"!=typeof t||0===t.length?{}:t.split(o.bU).map((function(t){return u(t)})).filter((function(t){return void 0!==t&&t.value.length>0})).reduce((function(t,e){return t[e.key]=e.value,t}),{})}},551:(t,e,r)=>{"use strict";r.d(e,{Do:()=>u,FT:()=>s,sy:()=>a});var n=r(928),o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(t){var e,r,s={};if("object"!=typeof t||null==t)return s;try{for(var c=o(Object.entries(t)),l=c.next();!l.done;l=c.next()){var d=i(l.value,2),p=d[0],f=d[1];a(p)?u(f)?Array.isArray(f)?s[p]=f.slice():s[p]=f:n.K.warn("Invalid attribute value set for key: "+p):n.K.warn("Invalid attribute key: "+p)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return s}function a(t){return"string"==typeof t&&t.length>0}function u(t){return null==t||(Array.isArray(t)?function(t){var e,r,n;try{for(var i=o(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(null!=a){if(!n){if(c(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!0}(t):c(t))}function c(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}},6220:(t,e,r)=>{"use strict";r.d(e,{L:()=>i,c:()=>o});var n=(0,r(6470).x)();function o(t){n=t}function i(t){try{n(t)}catch(e){}}},6470:(t,e,r)=>{"use strict";r.d(e,{x:()=>o});var n=r(928);function o(){return function(t){n.K.error(function(t){return"string"==typeof t?t:JSON.stringify(function(t){var e={},r=t;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((function(t){if(!e[t]){var n=r[t];n&&(e[t]=String(n))}})),r=Object.getPrototypeOf(r);return e}(t))}(t))}}},7664:(t,e,r)=>{"use strict";r.d(e,{Dt:()=>g,J3:()=>d,Jt:()=>c,KO:()=>h,PW:()=>f,U:()=>u,Us:()=>p,X_:()=>v,aE:()=>l,i5:()=>a,ji:()=>m,vF:()=>y});var n=r(6383),o=9,i=Math.pow(10,6),s=Math.pow(10,o);function a(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*i)]}function u(){var t=n.t.timeOrigin;if("number"!=typeof t){var e=n.t;t=e.timing&&e.timing.fetchStart}return t}function c(t){return y(a(u()),a("number"==typeof t?t:n.t.now()))}function l(t){if(g(t))return t;if("number"==typeof t)return t<u()?c(t):a(t);if(t instanceof Date)return a(t.getTime());throw TypeError("Invalid input type")}function d(t,e){var r=e[0]-t[0],n=e[1]-t[1];return n<0&&(r-=1,n+=s),[r,n]}function p(t){var e=o,r=""+"0".repeat(e)+t[1]+"Z",n=r.substr(r.length-e-1);return new Date(1e3*t[0]).toISOString().replace("000Z",n)}function f(t){return t[0]*s+t[1]}function h(t){return 1e3*t[0]+t[1]/1e6}function m(t){return 1e6*t[0]+t[1]/1e3}function g(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function v(t){return g(t)||"number"==typeof t||t instanceof Date}function y(t,e){var r=[t[0]+e[0],t[1]+e[1]];return r[1]>=s&&(r[1]-=s,r[0]+=1),r}},15:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AlwaysOffSampler:()=>L,AlwaysOnSampler:()=>D,AnchoredClock:()=>o,BindOnceFuture:()=>J.q,CompositePropagator:()=>C.Y,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>W.qG,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>W.KR,DEFAULT_ENVIRONMENT:()=>W.J9,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>W.Ys,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>W.VH,ExportResultCode:()=>d.I,ParentBasedSampler:()=>F,RPCType:()=>T,RandomIdGenerator:()=>y,SDK_INFO:()=>b.m,TRACE_PARENT_HEADER:()=>R.FX,TRACE_STATE_HEADER:()=>R.C3,TimeoutError:()=>Y,TraceIdRatioBasedSampler:()=>B,TraceState:()=>G.n,TracesSamplerValues:()=>H.J,VERSION:()=>q.q,W3CBaggagePropagator:()=>n.a,W3CTraceContextPropagator:()=>R.jf,_globalThis:()=>h.E,addHrTimes:()=>u.vF,baggageUtils:()=>p,callWithTimeout:()=>K,deleteRPCMetadata:()=>O,getEnv:()=>f.d,getEnvWithoutDefaults:()=>f.v,getRPCMetadata:()=>w,getTimeOrigin:()=>u.U,globalErrorHandler:()=>s.L,hexToBase64:()=>v,hexToBinary:()=>l,hrTime:()=>u.Jt,hrTimeDuration:()=>u.J3,hrTimeToMicroseconds:()=>u.ji,hrTimeToMilliseconds:()=>u.KO,hrTimeToNanoseconds:()=>u.PW,hrTimeToTimeStamp:()=>u.Us,internal:()=>$,isAttributeKey:()=>i.sy,isAttributeValue:()=>i.Do,isTimeInput:()=>u.X_,isTimeInputHrTime:()=>u.Dt,isTracingSuppressed:()=>j.Ll,isUrlIgnored:()=>z.d,isWrapped:()=>Z,loggingErrorHandler:()=>a.x,merge:()=>V.T,millisToHrTime:()=>u.i5,otperformance:()=>_.t,parseEnvironment:()=>W.Ds,parseTraceParent:()=>R.j_,sanitizeAttributes:()=>i.FT,setGlobalErrorHandler:()=>s.c,setRPCMetadata:()=>A,suppressTracing:()=>j.hE,timeInputToHrTime:()=>u.aE,unrefTimer:()=>I.g,unsuppressTracing:()=>j.yy,urlMatches:()=>z.j});var n=r(926),o=function(){function t(t,e){this._monotonicClock=e,this._epochMillis=t.now(),this._performanceMillis=e.now()}return t.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},t}(),i=r(551),s=r(6220),a=r(6470),u=r(7664);function c(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function l(t){for(var e=new Uint8Array(t.length/2),r=0,n=0;n<t.length;n+=2){var o=c(t.charCodeAt(n)),i=c(t.charCodeAt(n+1));e[r++]=o<<4|i}return e}var d=r(3420),p=r(315),f=r(3580),h=r(5580),m=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},g=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};function v(t){return btoa(String.fromCharCode.apply(String,g([],m(l(t)),!1)))}var y=function(){this.generateTraceId=S(16),this.generateSpanId=S(8)},E=Array(32);function S(t){return function(){for(var e=0;e<2*t;e++)E[e]=Math.floor(16*Math.random())+48,E[e]>=58&&(E[e]+=39);return String.fromCharCode.apply(null,E.slice(0,2*t))}}var T,_=r(6383),b=r(9511),I=r(6869),C=r(3135),R=r(9588),N=(0,r(5834).Y)("OpenTelemetry SDK Context Key RPC_METADATA");function A(t,e){return t.setValue(N,e)}function O(t){return t.deleteValue(N)}function w(t){return t.getValue(N)}!function(t){t.HTTP="http"}(T||(T={}));var M,x=r(1227),L=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:x.U.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),D=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:x.U.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),P=r(8570),k=r(7228),U=r(8726),F=function(){function t(t){var e,r,n,o;this._root=t.root,this._root||((0,s.L)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new D),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new D,this._remoteParentNotSampled=null!==(r=t.remoteParentNotSampled)&&void 0!==r?r:new L,this._localParentSampled=null!==(n=t.localParentSampled)&&void 0!==n?n:new D,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new L}return t.prototype.shouldSample=function(t,e,r,n,o,i){var s=P.g.getSpanContext(t);return s&&(0,k.BM)(s)?s.isRemote?s.traceFlags&U.r.SAMPLED?this._remoteParentSampled.shouldSample(t,e,r,n,o,i):this._remoteParentNotSampled.shouldSample(t,e,r,n,o,i):s.traceFlags&U.r.SAMPLED?this._localParentSampled.shouldSample(t,e,r,n,o,i):this._localParentNotSampled.shouldSample(t,e,r,n,o,i):this._root.shouldSample(t,e,r,n,o,i)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),B=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:(0,k.jN)(e)&&this._accumulate(e)<this._upperBound?x.U.RECORD_AND_SAMPLED:x.U.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,r=0;r<t.length/8;r++){var n=8*r;e=(e^parseInt(t.slice(n,n+8),16))>>>0}return e},t}(),j=r(8397),G=r(8329),W=r(851),V=r(2820),H=r(9290),X=(M=function(t,e){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},M(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Y=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return X(e,t),e}(Error);function K(t,e){var r,n=new Promise((function(t,n){r=setTimeout((function(){n(new Y("Operation timed out."))}),e)}));return Promise.race([t,n]).then((function(t){return clearTimeout(r),t}),(function(t){throw clearTimeout(r),t}))}var z=r(7402);function Z(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}var J=r(1269),q=r(8923),Q=r(6339);var $={_export:function(t,e){return new Promise((function(r){Q.D.with((0,j.hE)(Q.D.active()),(function(){t.export(e,(function(t){r(t)}))}))}))}}},3580:(t,e,r)=>{"use strict";r.d(e,{d:()=>i,v:()=>s});var n=r(851),o=r(5580);function i(){var t=(0,n.Ds)(o.E);return Object.assign({},n.J9,t)}function s(){return(0,n.Ds)(o.E)}},5580:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{}},6383:(t,e,r)=>{"use strict";r.d(e,{t:()=>n});var n=performance},9511:(t,e,r)=>{"use strict";r.d(e,{m:()=>s});var n,o=r(8923),i=r(5364),s=((n={})[i.d_]="opentelemetry",n[i.QG]="browser",n[i.Ft]=i.L7,n[i.AX]=o.q,n)},6869:(t,e,r)=>{"use strict";function n(t){}r.d(e,{g:()=>n})},3135:(t,e,r)=>{"use strict";r.d(e,{Y:()=>i});var n=r(928),o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(){function t(t){var e;void 0===t&&(t={}),this._propagators=null!==(e=t.propagators)&&void 0!==e?e:[],this._fields=Array.from(new Set(this._propagators.map((function(t){return"function"==typeof t.fields?t.fields():[]})).reduce((function(t,e){return t.concat(e)}),[])))}return t.prototype.inject=function(t,e,r){var i,s;try{for(var a=o(this._propagators),u=a.next();!u.done;u=a.next()){var c=u.value;try{c.inject(t,e,r)}catch(l){n.K.warn("Failed to inject with "+c.constructor.name+". Err: "+l.message)}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}},t.prototype.extract=function(t,e,r){return this._propagators.reduce((function(t,o){try{return o.extract(t,e,r)}catch(i){n.K.warn("Failed to inject with "+o.constructor.name+". Err: "+i.message)}return t}),t)},t.prototype.fields=function(){return this._fields.slice()},t}()},8329:(t,e,r)=>{"use strict";r.d(e,{n:()=>a});var n="[_0-9a-z-*/]",o=new RegExp("^(?:"+("[a-z]"+n+"{0,255}")+"|"+("[a-z0-9]"+n+"{0,240}@[a-z]"+n+"{0,13}")+")$"),i=/^[ -~]{0,255}[!-~]$/,s=/,|=/;var a=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,e),r},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce((function(e,r){return e.push(r+"="+t.get(r)),e}),[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce((function(t,e){var r=e.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),u=r.slice(n+1,e.length);(function(t){return o.test(t)})(a)&&function(t){return i.test(t)&&!s.test(t)}(u)&&t.set(a,u)}return t}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()},9588:(t,e,r)=>{"use strict";r.d(e,{C3:()=>c,FX:()=>u,j_:()=>d,jf:()=>p});var n=r(8570),o=r(7228),i=r(8726),s=r(8397),a=r(8329),u="traceparent",c="tracestate",l=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function d(t){var e=l.exec(t);return e?"00"===e[1]&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}:null}var p=function(){function t(){}return t.prototype.inject=function(t,e,r){var a=n.g.getSpanContext(t);if(a&&!(0,s.Ll)(t)&&(0,o.BM)(a)){var l="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||i.r.NONE).toString(16);r.set(e,u,l),a.traceState&&r.set(e,c,a.traceState.serialize())}},t.prototype.extract=function(t,e,r){var o=r.get(e,u);if(!o)return t;var i=Array.isArray(o)?o[0]:o;if("string"!=typeof i)return t;var s=d(i);if(!s)return t;s.isRemote=!0;var l=r.get(e,c);if(l){var p=Array.isArray(l)?l.join(","):l;s.traceState=new a.n("string"==typeof p?p:void 0)}return n.g.setSpanContext(t,s)},t.prototype.fields=function(){return[u,c]},t}()},8397:(t,e,r)=>{"use strict";r.d(e,{Ll:()=>s,hE:()=>o,yy:()=>i});var n=(0,r(5834).Y)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(t){return t.setValue(n,!0)}function i(t){return t.deleteValue(n)}function s(t){return!0===t.getValue(n)}},1269:(t,e,r)=>{"use strict";r.d(e,{q:()=>s});var n=function(){function t(){var t=this;this._promise=new Promise((function(e,r){t._resolve=e,t._reject=r}))}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),o=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},s=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new n}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,i([this._that],o(r),!1))).then((function(t){return e._deferred.resolve(t)}),(function(t){return e._deferred.reject(t)}))}catch(s){this._deferred.reject(s)}}return this._deferred.promise},t}()},851:(t,e,r)=>{"use strict";r.d(e,{Ds:()=>_,J9:()=>g,KR:()=>p,VH:()=>m,Ys:()=>h,qG:()=>f});var n=r(6740),o=r(9290),i=",",s=["OTEL_SDK_DISABLED"];function a(t){return s.indexOf(t)>-1}var u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function c(t){return u.indexOf(t)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(t){return l.indexOf(t)>-1}var p=1/0,f=128,h=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.n.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:f,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.J.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function v(t,e,r){if(void 0!==r[t]){var n=String(r[t]);e[t]="true"===n.toLowerCase()}}function y(t,e,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[t]){var i=Number(r[t]);isNaN(i)||(e[t]=i<n?n:i>o?o:i)}}function E(t,e,r,n){void 0===n&&(n=i);var o=r[t];"string"==typeof o&&(e[t]=o.split(n).map((function(t){return t.trim()})))}var S={ALL:n.n.ALL,VERBOSE:n.n.VERBOSE,DEBUG:n.n.DEBUG,INFO:n.n.INFO,WARN:n.n.WARN,ERROR:n.n.ERROR,NONE:n.n.NONE};function T(t,e,r){var n=r[t];if("string"==typeof n){var o=S[n.toUpperCase()];null!=o&&(e[t]=o)}}function _(t){var e={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)T(n,e,t);else if(a(n))v(n,e,t);else if(c(n))y(n,e,t);else if(d(n))E(n,e,t);else{var o=t[n];null!=o&&(e[n]=String(o))}}return e}},2820:(t,e,r)=>{"use strict";r.d(e,{T:()=>v});var n,o,i="[object Object]",s="[object Null]",a="[object Undefined]",u=Function.prototype.toString,c=u.call(Object),l=(n=Object.getPrototypeOf,o=Object,function(t){return n(o(t))}),d=Object.prototype,p=d.hasOwnProperty,f=Symbol?Symbol.toStringTag:void 0,h=d.toString;function m(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||function(t){if(null==t)return void 0===t?a:s;return f&&f in Object(t)?function(t){var e=p.call(t,f),r=t[f],n=!1;try{t[f]=void 0,n=!0}catch(i){}var o=h.call(t);n&&(e?t[f]=r:delete t[f]);return o}(t):function(t){return h.call(t)}(t)}(t)!==i)return!1;var e=l(t);if(null===e)return!0;var r=p.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)===c}var g=20;function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.shift(),n=new WeakMap;t.length>0;)r=E(r,t.shift(),0,n);return r}function y(t){return T(t)?t.slice():t}function E(t,e,r,n){var o;if(void 0===r&&(r=0),!(r>g)){if(r++,I(t)||I(e)||_(e))o=y(e);else if(T(t)){if(o=t.slice(),T(e))for(var i=0,s=e.length;i<s;i++)o.push(y(e[i]));else if(b(e))for(i=0,s=(a=Object.keys(e)).length;i<s;i++){o[u=a[i]]=y(e[u])}}else if(b(t))if(b(e)){if(!function(t,e){if(!m(t)||!m(e))return!1;return!0}(t,e))return e;o=Object.assign({},t);var a;for(i=0,s=(a=Object.keys(e)).length;i<s;i++){var u,c=e[u=a[i]];if(I(c))void 0===c?delete o[u]:o[u]=c;else{var l=o[u],d=c;if(S(t,u,n)||S(e,u,n))delete o[u];else{if(b(l)&&b(d)){var p=n.get(l)||[],f=n.get(d)||[];p.push({obj:t,key:u}),f.push({obj:e,key:u}),n.set(l,p),n.set(d,f)}o[u]=E(o[u],c,r,n)}}}}else o=e;return o}}function S(t,e,r){for(var n=r.get(t[e])||[],o=0,i=n.length;o<i;o++){var s=n[o];if(s.key===e&&s.obj===t)return!0}return!1}function T(t){return Array.isArray(t)}function _(t){return"function"==typeof t}function b(t){return!I(t)&&!T(t)&&!_(t)&&"object"==typeof t}function I(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}},9290:(t,e,r)=>{"use strict";var n;r.d(e,{J:()=>n}),function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(n||(n={}))},7402:(t,e,r)=>{"use strict";r.d(e,{d:()=>i,j:()=>o});var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(t,e){return"string"==typeof e?t===e:!!t.match(e)}function i(t,e){var r,i;if(!e)return!1;try{for(var s=n(e),a=s.next();!a.done;a=s.next()){if(o(t,a.value))return!0}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return!1}},8923:(t,e,r)=>{"use strict";r.d(e,{q:()=>n});var n="1.25.1"},7680:(t,e,r)=>{"use strict";r.r(e),r.d(e,{FetchInstrumentation:()=>T});var n,o=r(8570),i=r(6339),s=r(9663),a=r(87),u=r(6789),c=r(2469),l=r(7402),d=r(7664),p=r(7376),f=r(7913);!function(t){t.COMPONENT="component",t.HTTP_ERROR_NAME="http.error_name",t.HTTP_STATUS_TEXT="http.status_text"}(n||(n={}));var h,m,g=r(3108),v="0.52.1",y=r(5580),E=(h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},h(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S="object"==typeof process&&"node"===(null===(m=process.release)||void 0===m?void 0:m.name),T=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,"@opentelemetry/instrumentation-fetch",v,e)||this;return r.component="fetch",r.version=v,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return E(e,t),e.prototype.init=function(){},e.prototype._addChildSpan=function(t,e){var r=this.tracer.startSpan("CORS Preflight",{startTime:e[p.S.FETCH_START]},o.g.setSpan(i.D.active(),t));this.getConfig().ignoreNetworkEvents||f.lx(r,e),r.end(e[p.S.RESPONSE_END])},e.prototype._addFinalSpanAttributes=function(t,e){var r=f.en(e.url);t.setAttribute(g.LZ1,e.status),null!=e.statusText&&t.setAttribute(n.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(g.oMZ,r.host),t.setAttribute(g.BM2,r.protocol.replace(":","")),"undefined"!=typeof navigator&&t.setAttribute(g.kXj,navigator.userAgent)},e.prototype._addHeaders=function(t,e){if(!f.n4(e,this.getConfig().propagateTraceHeaderCorsUrls)){var r={};return s.u.inject(i.D.active(),r),void(Object.keys(r).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(t instanceof Request)s.u.inject(i.D.active(),t.headers,{set:function(t,e,r){return t.set(e,"string"==typeof r?r:String(r))}});else if(t.headers instanceof Headers)s.u.inject(i.D.active(),t.headers,{set:function(t,e,r){return t.set(e,"string"==typeof r?r:String(r))}});else if(t.headers instanceof Map)s.u.inject(i.D.active(),t.headers,{set:function(t,e,r){return t.set(e,"string"==typeof r?r:String(r))}});else{r={};s.u.inject(i.D.active(),r),t.headers=Object.assign({},r,t.headers||{})}},e.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},e.prototype._createSpan=function(t,e){var r;if(void 0===e&&(e={}),!l.d(t,this.getConfig().ignoreUrls)){var o=(e.method||"GET").toUpperCase(),i="HTTP "+o;return this.tracer.startSpan(i,{kind:a.M.CLIENT,attributes:(r={},r[n.COMPONENT]=this.moduleName,r[g.ACM]=o,r[g.aVl]=t,r)})}this._diag.debug("ignoring span as url matches ignored url")},e.prototype._findResourceAndAddNetworkEvents=function(t,e,r){var n=e.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}var o=f.RX(e.spanUrl,e.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){var i=o.mainRequest;this._markResourceAsUsed(i);var s=o.corsPreFlightRequest;s&&(this._addChildSpan(t,s),this._markResourceAsUsed(s)),this.getConfig().ignoreNetworkEvents||f.lx(t,i)}},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._endSpan=function(t,e,r){var n=this,o=d.i5(Date.now()),i=d.Jt();this._addFinalSpanAttributes(t,r),setTimeout((function(){var r;null===(r=e.observer)||void 0===r||r.disconnect(),n._findResourceAndAddNetworkEvents(t,e,i),n._tasksCount--,n._clearResources(),t.end(o)}),300)},e.prototype._patchConstructor=function(){var t=this;return function(e){var r=t;return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s=this,a=f.en(t[0]instanceof Request?t[0].url:String(t[0])).href,u=t[0]instanceof Request?t[0]:t[1]||{},c=r._createSpan(a,u);if(!c)return e.apply(this,t);var l=r._prepareSpanData(a);function d(t,e){r._applyAttributesAfterFetch(t,u,e),r._endSpan(t,l,{status:e.status||0,statusText:e.message,url:a})}function p(t,e){r._applyAttributesAfterFetch(t,u,e),e.status>=200&&e.status<400?r._endSpan(t,l,e):r._endSpan(t,l,{status:e.status,statusText:e.statusText,url:a})}function h(t,e,r){try{var n=r.clone(),o=r.clone(),i=n.body;if(i){var s=i.getReader(),a=function(){s.read().then((function(e){e.done?p(t,o):a()}),(function(e){d(t,e)}))};a()}else p(t,r)}finally{e(r)}}function m(t,e,r){try{d(t,r)}finally{e(r)}}return new Promise((function(t,n){return i.D.with(o.g.setSpan(i.D.active(),c),(function(){return r._addHeaders(u,a),r._tasksCount++,e.apply(s,u instanceof Request?[u]:[a,u]).then(h.bind(s,c,t),m.bind(s,c,n))}))}))}}},e.prototype._applyAttributesAfterFetch=function(t,e,r){var n=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&(0,u._W)((function(){return o(t,e,r)}),(function(t){t&&n._diag.error("applyCustomAttributesOnSpan",t)}),!0)},e.prototype._prepareSpanData=function(t){var e=d.Jt(),r=[];if("function"!=typeof PerformanceObserver)return{entries:r,startTime:e,spanUrl:t};var n=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){"fetch"===e.initiatorType&&e.name===t&&r.push(e)}))}));return n.observe({entryTypes:["resource"]}),{entries:r,observer:n,startTime:e,spanUrl:t}},e.prototype.enable=function(){S?this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()"):((0,u.UW)(fetch)&&(this._unwrap(y.E,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(y.E,"fetch",this._patchConstructor()))},e.prototype.disable=function(){S||(this._unwrap(y.E,"fetch"),this._usedResources=new WeakSet)},e}(c.w)},1642:(t,e,r)=>{"use strict";r.r(e),r.d(e,{XMLHttpRequestInstrumentation:()=>S});var n,o=r(9663),i=r(6339),s=r(8570),a=r(87),u=r(6789),c=r(2469),l=r(6383),d=r(7402),p=r(7664),f=r(3108),h=r(7913),m=r(7376);!function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"}(n||(n={}));var g,v="0.52.1";!function(t){t.HTTP_STATUS_TEXT="http.status_text"}(g||(g={}));var y,E=(y=function(t,e){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},y(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,"@opentelemetry/instrumentation-xml-http-request",v,e)||this;return r.component="xml-http-request",r.version=v,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return E(e,t),e.prototype.init=function(){},e.prototype._addHeaders=function(t,e){var r=(0,h.en)(e).href;if(!(0,h.n4)(r,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};return o.u.inject(i.D.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var s={};o.u.inject(i.D.active(),s),Object.keys(s).forEach((function(e){t.setRequestHeader(e,String(s[e]))}))},e.prototype._addChildSpan=function(t,e){var r=this;i.D.with(s.g.setSpan(i.D.active(),t),(function(){var t=r.tracer.startSpan("CORS Preflight",{startTime:e[m.S.FETCH_START]});r.getConfig().ignoreNetworkEvents||(0,h.lx)(t,e),t.end(e[m.S.RESPONSE_END])}))},e.prototype._addFinalSpanAttributes=function(t,e,r){if("string"==typeof r){var n=(0,h.en)(r);void 0!==e.status&&t.setAttribute(f.LZ1,e.status),void 0!==e.statusText&&t.setAttribute(g.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(f.oMZ,n.host),t.setAttribute(f.BM2,n.protocol.replace(":","")),t.setAttribute(f.kXj,navigator.userAgent)}},e.prototype._applyAttributesAfterXHR=function(t,e){var r=this,n=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof n&&(0,u._W)((function(){return n(t,e)}),(function(t){t&&r._diag.error("applyCustomAttributesOnSpan",t)}),!0)},e.prototype._addResourceObserver=function(t,e){var r=this._xhrMem.get(t);r&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(r.createdResources={observer:new PerformanceObserver((function(t){var n=t.getEntries(),o=(0,h.en)(e);n.forEach((function(t){"xmlhttprequest"===t.initiatorType&&t.name===o.href&&r.createdResources&&r.createdResources.entries.push(t)}))})),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))},e.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(l.t.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},e.prototype._findResourceAndAddNetworkEvents=function(t,e,r,n,o){if(r&&n&&o&&t.createdResources){var i=t.createdResources.entries;i&&i.length||(i=l.t.getEntriesByType("resource"));var s=(0,h.RX)((0,h.en)(r).href,n,o,i,this._usedResources);if(s.mainRequest){var a=s.mainRequest;this._markResourceAsUsed(a);var u=s.corsPreFlightRequest;u&&(this._addChildSpan(e,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||(0,h.lx)(e,a)}}},e.prototype._cleanPreviousSpanInformation=function(t){var e=this._xhrMem.get(t);if(e){var r=e.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(t)}},e.prototype._createSpan=function(t,e,r){var o;if(!(0,d.d)(e,this.getConfig().ignoreUrls)){var i=r.toUpperCase(),s=this.tracer.startSpan(i,{kind:a.M.CLIENT,attributes:(o={},o[f.ACM]=r,o[f.aVl]=(0,h.en)(e).toString(),o)});return s.addEvent(n.METHOD_OPEN),this._cleanPreviousSpanInformation(t),this._xhrMem.set(t,{span:s,spanUrl:e}),s}this._diag.debug("ignoring span as url matches ignored url")},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._patchOpen=function(){var t=this;return function(e){var r=t;return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t[0],i=t[1];return r._createSpan(this,i,o),e.apply(this,t)}}},e.prototype._patchSend=function(){var t=this;function e(e,r){var n=t._xhrMem.get(r);if(n){n.status=r.status,n.statusText=r.statusText,t._xhrMem.delete(r),n.span&&t._applyAttributesAfterXHR(n.span,r);var o=(0,p.Jt)(),i=Date.now();setTimeout((function(){!function(e,r,n,o){var i=r.callbackToRemoveEvents;"function"==typeof i&&i();var s=r.span,a=r.spanUrl,u=r.sendStartTime;s&&(t._findResourceAndAddNetworkEvents(r,s,a,u,n),s.addEvent(e,o),t._addFinalSpanAttributes(s,r,a),s.end(o),t._tasksCount--),t._clearResources()}(e,n,o,i)}),300)}}function r(){e(n.EVENT_ERROR,this)}function o(){e(n.EVENT_ABORT,this)}function a(){e(n.EVENT_TIMEOUT,this)}function u(){this.status<299?e(n.EVENT_LOAD,this):e(n.EVENT_ERROR,this)}return function(e){return function(){for(var c=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=t._xhrMem.get(this);if(!f)return e.apply(this,l);var h=f.span,m=f.spanUrl;return h&&m&&i.D.with(s.g.setSpan(i.D.active(),h),(function(){t._tasksCount++,f.sendStartTime=(0,p.Jt)(),h.addEvent(n.METHOD_SEND),c.addEventListener("abort",o),c.addEventListener("error",r),c.addEventListener("load",u),c.addEventListener("timeout",a),f.callbackToRemoveEvents=function(){!function(e){e.removeEventListener("abort",o),e.removeEventListener("error",r),e.removeEventListener("load",u),e.removeEventListener("timeout",a);var n=t._xhrMem.get(e);n&&(n.callbackToRemoveEvents=void 0)}(c),f.createdResources&&f.createdResources.observer.disconnect()},t._addHeaders(c,m),t._addResourceObserver(c,m)})),e.apply(this,l)}}},e.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),(0,u.UW)(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),(0,u.UW)(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},e.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},e}(c.w)},978:(t,e,r)=>{"use strict";r.r(e),r.d(e,{InstrumentationBase:()=>a.w,InstrumentationNodeModuleDefinition:()=>u,InstrumentationNodeModuleFile:()=>l,isWrapped:()=>d.UW,registerInstrumentations:()=>s,safeExecuteInTheMiddle:()=>d._W,safeExecuteInTheMiddleAsync:()=>d.d0});var n=r(8570),o=r(7782),i=r(7845);function s(t){var e,r,s=t.tracerProvider||n.g.getTracerProvider(),a=t.meterProvider||o.q.getMeterProvider(),u=t.loggerProvider||i.TD.getLoggerProvider(),c=null!==(r=null===(e=t.instrumentations)||void 0===e?void 0:e.flat())&&void 0!==r?r:[];return function(t,e,r,n){for(var o=0,i=t.length;o<i;o++){var s=t[o];e&&s.setTracerProvider(e),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}(c,s,a,u),function(){!function(t){t.forEach((function(t){return t.disable()}))}(c)}}var a=r(2469),u=function(t,e,r,n,o){this.name=t,this.supportedVersions=e,this.patch=r,this.unpatch=n,this.files=o||[]},c=r(928);var l=function(t,e,r,n){var o;this.supportedVersions=e,this.patch=r,this.unpatch=n,this.name=(o=t,c.K.warn("Path normalization is not implemented for this platform. To silence this warning, ensure no node-specific instrumentations are loaded, and node-specific types (e.g. InstrumentationNodeModuleFile), are not used in a browser context)"),o)},d=r(6789)},2469:(t,e,r)=>{"use strict";r.d(e,{w:()=>p});var n,o=r(928),i=r(8570),s=r(7782),a=r(7845),u=r(6372),c=function(){return c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c.apply(this,arguments)},l=function(){function t(t,e,r){this.instrumentationName=t,this.instrumentationVersion=e,this._wrap=u.wrap,this._unwrap=u.unwrap,this._massWrap=u.massWrap,this._massUnwrap=u.massUnwrap,this._config=c({enabled:!0},r),this._diag=o.K.createComponentLogger({namespace:t}),this._tracer=i.g.getTracer(t,e),this._meter=s.q.getMeter(t,e),this._logger=a.TD.getLogger(t,e),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),t.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},t.prototype.getModuleDefinitions=function(){var t,e=null!==(t=this.init())&&void 0!==t?t:[];return Array.isArray(e)?e:[e]},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(t){this._config=c({},t)},t.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t.prototype._runSpanCustomizationHook=function(t,e,r,n){if(t)try{t(r,n)}catch(o){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:e},o)}},t}(),d=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e,r,n){var o=t.call(this,e,r,n)||this;return o._config.enabled&&o.enable(),o}return d(e,t),e}(l)},6789:(t,e,r)=>{"use strict";r.d(e,{UW:()=>a,_W:()=>i,d0:()=>s});var n=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{u(n.next(t))}catch(e){i(e)}}function a(t){try{u(n.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},o=function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function i(t,e,r){var n,o;try{o=t()}catch(i){n=i}finally{if(e(n,o),n&&!r)throw n;return o}}function s(t,e,r){return n(this,void 0,void 0,(function(){var n,i,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),[4,t()];case 1:return i=o.sent(),[3,4];case 2:return s=o.sent(),n=s,[3,4];case 3:if(e(n,i),n&&!r)throw n;return[2,i];case 4:return[2]}}))}))}function a(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}},3499:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AWSXRAY_TRACE_ID_HEADER:()=>a,AWSXRayPropagator:()=>u});var n=r(8570),o=r(7228),i=r(8726),s=r(7007),a="x-amzn-trace-id",u=function(){function t(){}return t.prototype.inject=function(t,e,r){var s,u=null===(s=n.g.getSpan(t))||void 0===s?void 0:s.spanContext();if(u&&(0,o.BM)(u)){var c=u.traceId,l="Root=1-"+c.substring(0,8)+"-"+c.substring(8)+";Parent="+u.spanId+";Sampled="+((i.r.SAMPLED&u.traceFlags)===i.r.SAMPLED?"1":"0");r.set(e,a,l)}},t.prototype.extract=function(t,e,r){var i=this.getSpanContextFromHeader(e,r);return(0,o.BM)(i)?n.g.setSpan(t,n.g.wrapSpanContext(i)):t},t.prototype.fields=function(){return[a]},t.prototype.getSpanContextFromHeader=function(e,r){var n=r.keys(e).find((function(t){return t.toLowerCase()===a}));if(!n)return s.Rr;var i=r.get(e,n);if(!i||"string"!=typeof i)return s.Rr;for(var u,c=0,l=s.AE,d=s.fQ,p=null;c<i.length;){var f=i.indexOf(";",c);f>=0?(u=i.substring(c,f).trim(),c=f+1):(u=i.substring(c).trim(),c=i.length);var h=u.indexOf("="),m=u.substring(h+1);u.startsWith("Root")?l=t._parseTraceId(m):u.startsWith("Parent")?d=t._parseSpanId(m):u.startsWith("Sampled")&&(p=t._parseTraceFlag(m))}if(null===p)return s.Rr;var g={traceId:l,spanId:d,traceFlags:p,isRemote:!0};return(0,o.BM)(g)?g:s.Rr},t._parseTraceId=function(t){if(35!==t.length)return s.AE;if(!t.startsWith("1"))return s.AE;if("-"!==t.charAt(1)||"-"!==t.charAt(10))return s.AE;var e=t.substring(2,10)+t.substring(11,35);return(0,o.jN)(e)?e:s.AE},t._parseSpanId=function(t){return(0,o.Lc)(t)?t:s.fQ},t._parseTraceFlag=function(t){return"0"===t?i.r.NONE:"1"===t?i.r.SAMPLED:null},t}()},6810:(t,e,r)=>{"use strict";r.r(e),r.d(e,{B3InjectEncoding:()=>b,B3Propagator:()=>C,B3_CONTEXT_HEADER:()=>u,X_B3_FLAGS:()=>f,X_B3_PARENT_SPAN_ID:()=>p,X_B3_SAMPLED:()=>d,X_B3_SPAN_ID:()=>l,X_B3_TRACE_ID:()=>c});var n=r(8397),o=r(8726),i=r(8570),s=r(7228),a=(0,r(5834).Y)("OpenTelemetry Context Key B3 Debug Flag"),u="b3",c="x-b3-traceid",l="x-b3-spanid",d="x-b3-sampled",p="x-b3-parentspanid",f="x-b3-flags",h=new Set([!0,"true","True","1",1]),m=new Set([!1,"false","False","0",0]);function g(t,e,r){return function(t){return Array.isArray(t)?t[0]:t}(e.get(t,r))}function v(t,e){return"1"===g(t,e,f)?"1":void 0}var y=function(){function t(){}return t.prototype.inject=function(t,e,r){var u=i.g.getSpanContext(t);if(u&&(0,s.BM)(u)&&!(0,n.Ll)(t)){var p=t.getValue(a);r.set(e,c,u.traceId),r.set(e,l,u.spanId),"1"===p?r.set(e,f,p):void 0!==u.traceFlags&&r.set(e,d,(o.r.SAMPLED&u.traceFlags)===o.r.SAMPLED?"1":"0")}},t.prototype.extract=function(t,e,r){var n,u=function(t,e){var r=g(t,e,c);return"string"==typeof r?r.padStart(32,"0"):""}(e,r),p=function(t,e){var r=g(t,e,l);return"string"==typeof r?r:""}(e,r),f=function(t,e){var r=g(t,e,d);return"1"===v(t,e)||h.has(r)?o.r.SAMPLED:void 0===r||m.has(r)?o.r.NONE:void 0}(e,r),y=v(e,r);return(0,s.jN)(u)&&(0,s.Lc)(p)&&((n=f)===o.r.SAMPLED||n===o.r.NONE)?(t=t.setValue(a,y),i.g.setSpanContext(t,{traceId:u,spanId:p,isRemote:!0,traceFlags:f})):t},t.prototype.fields=function(){return[c,l,f,d,p]},t}(),E=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},S=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,T="0".repeat(16),_=new Set(["d","1"]);var b,I=function(){function t(){}return t.prototype.inject=function(t,e,r){var o=i.g.getSpanContext(t);if(o&&(0,s.BM)(o)&&!(0,n.Ll)(t)){var c=t.getValue(a)||1&o.traceFlags,l=o.traceId+"-"+o.spanId+"-"+c;r.set(e,u,l)}},t.prototype.extract=function(t,e,r){var n=r.get(e,u),c=Array.isArray(n)?n[0]:n;if("string"!=typeof c)return t;var l=c.match(S);if(!l)return t;var d=E(l,4),p=d[1],f=d[2],h=d[3],m=function(t){return 32===t.length?t:""+T+t}(p);if(!(0,s.jN)(m)||!(0,s.Lc)(f))return t;var g=function(t){return t&&_.has(t)?o.r.SAMPLED:o.r.NONE}(h);return"d"===h&&(t=t.setValue(a,h)),i.g.setSpanContext(t,{traceId:m,spanId:f,isRemote:!0,traceFlags:g})},t.prototype.fields=function(){return[u]},t}();!function(t){t[t.SINGLE_HEADER=0]="SINGLE_HEADER",t[t.MULTI_HEADER=1]="MULTI_HEADER"}(b||(b={}));var C=function(){function t(t){void 0===t&&(t={}),this._b3MultiPropagator=new y,this._b3SinglePropagator=new I,t.injectEncoding===b.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}return t.prototype.inject=function(t,e,r){(0,n.Ll)(t)||this._inject(t,e,r)},t.prototype.extract=function(t,e,r){var n=r.get(e,u);return(Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(t,e,r):this._b3MultiPropagator.extract(t,e,r)},t.prototype.fields=function(){return this._fields},t}()},298:(t,e,r)=>{"use strict";r.d(e,{u:()=>A,X:()=>h});var n=r(928),o=r(8570),i=r(6339),s=r(9663),a=r(2820),u=r(3580),c=r(3135),l=r(9588),d=r(926),p=r(5364),f=r(9511);var h,m=function(){return m=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},m.apply(this,arguments)},g=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{u(n.next(t))}catch(e){i(e)}}function a(t){try{u(n.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},v=function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},y=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},E=function(){function t(t,e){var r,o=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==e?void 0:e.then((function(t){return o._attributes=Object.assign({},o._attributes,t),o.asyncAttributesPending=!1,t}),(function(t){return n.K.debug("a resource's async attributes promise rejected: %s",t),o.asyncAttributesPending=!1,{}}))}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[p.Ze]="unknown_service",e[p.Ft]=f.m[p.Ft],e[p.d_]=f.m[p.d_],e[p.AX]=f.m[p.AX],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&n.K.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return g(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.merge=function(e){var r,n=this;if(!e)return this;var o=m(m({},this._syncAttributes),null!==(r=e._syncAttributes)&&void 0!==r?r:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);var i=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((function(t){var r,o=y(t,2),i=o[0],s=o[1];return m(m(m(m({},n._syncAttributes),i),null!==(r=e._syncAttributes)&&void 0!==r?r:e.attributes),s)}));return new t(o,i)},t.EMPTY=new t({}),t}(),S=r(5611),T=r(5946),_=r(6220),b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I=function(){function t(t){this._spanProcessors=t}return t.prototype.forceFlush=function(){var t,e,r=[];try{for(var n=b(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.forceFlush())}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return new Promise((function(t){Promise.all(r).then((function(){t()})).catch((function(e){(0,_.L)(e||new Error("MultiSpanProcessor: forceFlush failed")),t()}))}))},t.prototype.onStart=function(t,e){var r,n;try{for(var o=b(this._spanProcessors),i=o.next();!i.done;i=o.next()){i.value.onStart(t,e)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.onEnd=function(t){var e,r;try{for(var n=b(this._spanProcessors),o=n.next();!o.done;o=n.next()){o.value.onEnd(t)}}catch(i){e={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.shutdown=function(){var t,e,r=[];try{for(var n=b(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.shutdown())}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return new Promise((function(t,e){Promise.all(r).then((function(){t()}),e)}))},t}(),C=r(7498),R=r(8797),N=r(1314);!function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"}(h||(h={}));var A=function(){function t(t){var e;void 0===t&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,a.T)({},(0,T.K)(),(0,N.r)(t));this.resource=null!==(e=r.resource)&&void 0!==e?e:E.empty(),this.resource=E.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new R.p(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new C.m}return t.prototype.getTracer=function(t,e,r){var n=t+"@"+(e||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new S.k({name:t,version:e,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},t.prototype.addSpanProcessor=function(t){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(t){return n.K.error("Error while trying to shutdown current span processor",t)})),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new I(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(t){void 0===t&&(t={}),o.g.setGlobalTracerProvider(this),void 0===t.propagator&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&i.D.setGlobalContextManager(t.contextManager),t.propagator&&s.u.setGlobalPropagator(t.propagator)},t.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map((function(e){return new Promise((function(r){var n,o=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+t+" ms")),n=h.timeout}),t);e.forceFlush().then((function(){clearTimeout(o),n!==h.timeout&&(n=h.resolved,r(n))})).catch((function(t){clearTimeout(o),n=h.error,r(t)}))}))}));return new Promise((function(t,r){Promise.all(e).then((function(e){var n=e.filter((function(t){return t!==h.resolved}));n.length>0?r(n):t()})).catch((function(t){return r([t])}))}))},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(t){var e;return null===(e=this.constructor._registeredPropagators.get(t))||void 0===e?void 0:e()},t.prototype._getSpanExporter=function(t){var e;return null===(e=this.constructor._registeredExporters.get(t))||void 0===e?void 0:e()},t.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set((0,u.d)().OTEL_PROPAGATORS)),r=e.map((function(e){var r=t._getPropagator(e);return r||n.K.warn('Propagator "'+e+'" requested through environment variable is unavailable.'),r})).reduce((function(t,e){return e&&t.push(e),t}),[]);return 0===r.length?void 0:1===e.length?r[0]:new c.Y({propagators:r})},t.prototype._buildExporterFromEnv=function(){var t=(0,u.d)().OTEL_TRACES_EXPORTER;if("none"!==t&&""!==t){var e=this._getSpanExporter(t);return e||n.K.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},t._registeredPropagators=new Map([["tracecontext",function(){return new l.jf}],["baggage",function(){return new d.a}]]),t._registeredExporters=new Map,t}()},4977:(t,e,r)=>{"use strict";var n;r.d(e,{U:()=>n}),function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},8281:(t,e,r)=>{"use strict";r.d(e,{D:()=>p});var n=r(1820),o=r(928),i=r(6383),s=r(7664),a=r(551),u=r(3108),c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},d=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},p=function(){function t(t,e,r,o,a,u,c,l,d,p){void 0===c&&(c=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:n.Q.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=u,this.kind=a,this.links=c;var f=Date.now();this._performanceStartTime=i.t.now(),this._performanceOffset=f-(this._performanceStartTime+(0,s.U)()),this._startTimeProvided=null!=l,this.startTime=this._getTime(null!=l?l:f),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=p&&this.setAttributes(p),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e)}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return null==e||this._isSpanEnded()?this:0===t.length?(o.K.warn("Invalid attribute key: "+t),this):(0,a.Do)(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(e),this):(o.K.warn("Invalid attribute value set for key: "+t),this)},t.prototype.setAttributes=function(t){var e,r;try{for(var n=c(Object.entries(t)),o=n.next();!o.done;o=n.next()){var i=l(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},t.prototype.addEvent=function(t,e,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return o.K.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&o.K.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,s.X_)(e)&&((0,s.X_)(r)||(r=e),e=void 0);var n=(0,a.FT)(e);return this.events.push({name:t,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},t.prototype.addLink=function(t){return this.links.push(t),this},t.prototype.addLinks=function(t){var e;return(e=this.links).push.apply(e,d([],l(t),!1)),this},t.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=t),this},t.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},t.prototype.end=function(t){this._isSpanEnded()?o.K.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,s.J3)(this.startTime,this.endTime),this._duration[0]<0&&(o.K.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&o.K.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},t.prototype._getTime=function(t){if("number"==typeof t&&t<i.t.now())return(0,s.Jt)(t+this._performanceOffset);if("number"==typeof t)return(0,s.i5)(t);if(t instanceof Date)return(0,s.i5)(t.getTime());if((0,s.Dt)(t))return t;if(this._startTimeProvided)return(0,s.i5)(Date.now());var e=i.t.now()-this._performanceStartTime;return(0,s.vF)(this.startTime,(0,s.i5)(e))},t.prototype.isRecording=function(){return!1===this._ended},t.prototype.recordException=function(t,e){var r={};"string"==typeof t?r[u.WTV]=t:t&&(t.code?r[u.qvI]=t.code.toString():t.name&&(r[u.qvI]=t.name),t.message&&(r[u.WTV]=t.message),t.stack&&(r[u.Wji]=t.stack)),r[u.qvI]||r[u.WTV]?this.addEvent("exception",r,e):o.K.warn("Failed to record an exception "+t)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&o.K.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substr(0,e)},t.prototype._truncateToSize=function(t){var e=this,r=this._attributeValueLengthLimit;return r<=0?(o.K.warn("Attribute value limit must be positive, got "+r),t):"string"==typeof t?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map((function(t){return"string"==typeof t?e._truncateToLimitUtil(t,r):t})):t},t}()},5611:(t,e,r)=>{"use strict";r.d(e,{k:()=>m});var n=r(6339),o=r(8570),i=r(928),s=r(7007),a=r(87),u=r(1227),c=r(8726),l=r(8397),d=r(551),p=r(8281),f=r(1314),h=r(90),m=function(){function t(t,e,r){this._tracerProvider=r;var n=(0,f.f)(e);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=e.idGenerator||new h.m,this.resource=r.resource,this.instrumentationLibrary=t}return t.prototype.startSpan=function(t,e,r){var f,h,m;void 0===e&&(e={}),void 0===r&&(r=n.D.active()),e.root&&(r=o.g.deleteSpan(r));var g=o.g.getSpan(r);if((0,l.Ll)(r))return i.K.debug("Instrumentation suppressed, returning Noop Span"),o.g.wrapSpanContext(s.Rr);var v,y,E,S=null==g?void 0:g.spanContext(),T=this._idGenerator.generateSpanId();S&&o.g.isSpanContextValid(S)?(v=S.traceId,y=S.traceState,E=S.spanId):v=this._idGenerator.generateTraceId();var _=null!==(f=e.kind)&&void 0!==f?f:a.M.INTERNAL,b=(null!==(h=e.links)&&void 0!==h?h:[]).map((function(t){return{context:t.context,attributes:(0,d.FT)(t.attributes)}})),I=(0,d.FT)(e.attributes),C=this._sampler.shouldSample(r,v,t,_,I,b);y=null!==(m=C.traceState)&&void 0!==m?m:y;var R={traceId:v,spanId:T,traceFlags:C.decision===u.U.RECORD_AND_SAMPLED?c.r.SAMPLED:c.r.NONE,traceState:y};if(C.decision===u.U.NOT_RECORD)return i.K.debug("Recording is off, propagating context in a non-recording span"),o.g.wrapSpanContext(R);var N=(0,d.FT)(Object.assign(I,C.attributes));return new p.D(this,r,t,R,_,E,b,e.startTime,void 0,N)},t.prototype.startActiveSpan=function(t,e,r,i){var s,a,u;if(!(arguments.length<2)){2===arguments.length?u=e:3===arguments.length?(s=e,u=r):(s=e,a=r,u=i);var c=null!=a?a:n.D.active(),l=this.startSpan(t,s,c),d=o.g.setSpan(c,l);return n.D.with(d,u,void 0,l)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}()},5946:(t,e,r)=>{"use strict";r.d(e,{K:()=>f,V:()=>h});var n=r(928),o=r(3580),i=r(9290),s=r(6375),a=r(1934),u=r(356),c=r(5751),l=(0,o.d)(),d=i.J.AlwaysOn,p=1;function f(){return{sampler:h(l),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.d)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.d)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.d)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.d)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function h(t){switch(void 0===t&&(t=(0,o.d)()),t.OTEL_TRACES_SAMPLER){case i.J.AlwaysOn:return new a.t;case i.J.AlwaysOff:return new s._;case i.J.ParentBasedAlwaysOn:return new u.N({root:new a.t});case i.J.ParentBasedAlwaysOff:return new u.N({root:new s._});case i.J.TraceIdRatio:return new c.a(m(t));case i.J.ParentBasedTraceIdRatio:return new u.N({root:new c.a(m(t))});default:return n.K.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+d+'".'),new a.t}}function m(t){if(void 0===t.OTEL_TRACES_SAMPLER_ARG||""===t.OTEL_TRACES_SAMPLER_ARG)return n.K.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+p+"."),p;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(n.K.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+p+"."),p):e<0||e>1?(n.K.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+p+"."),p):e}},7498:(t,e,r)=>{"use strict";r.d(e,{m:()=>n});var n=function(){function t(){}return t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}()},3901:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AlwaysOffSampler:()=>_._,AlwaysOnSampler:()=>b.t,BasicTracerProvider:()=>o.u,BatchSpanProcessor:()=>i.p,ConsoleSpanExporter:()=>l,ForceFlushState:()=>o.X,InMemorySpanExporter:()=>f,NoopSpanProcessor:()=>T.m,ParentBasedSampler:()=>I.N,RandomIdGenerator:()=>s.m,SamplingDecision:()=>R.U,SimpleSpanProcessor:()=>S,Span:()=>N.D,TraceIdRatioBasedSampler:()=>C.a,Tracer:()=>n.k});var n=r(5611),o=r(298),i=r(8797),s=r(90),a=r(7664),u=r(3420),c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(){function t(){}return t.prototype.export=function(t,e){return this._sendSpans(t,e)},t.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype._exportInfo=function(t){var e;return{resource:{attributes:t.resource.attributes},traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:null===(e=t.spanContext().traceState)||void 0===e?void 0:e.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,a.ji)(t.startTime),duration:(0,a.ji)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},t.prototype._sendSpans=function(t,e){var r,n;try{for(var o=c(t),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(e)return e({code:u.I.SUCCESS})},t}(),d=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},p=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},f=function(){function t(){this._finishedSpans=[],this._stopped=!1}return t.prototype.export=function(t,e){var r;if(this._stopped)return e({code:u.I.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,p([],d(t),!1)),setTimeout((function(){return e({code:u.I.SUCCESS})}),0)},t.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype.reset=function(){this._finishedSpans=[]},t.prototype.getFinishedSpans=function(){return this._finishedSpans},t}(),h=r(8726),m=r(1269),g=r(15),v=r(6220),y=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{u(n.next(t))}catch(e){i(e)}}function a(t){try{u(n.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))},E=function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},S=function(){function t(t){this._exporter=t,this._shutdownOnce=new m.q(this._shutdown,this),this._unresolvedExports=new Set}return t.prototype.forceFlush=function(){return y(this,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return t.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){var e,r,n=this;if(!this._shutdownOnce.isCalled&&0!=(t.spanContext().traceFlags&h.r.SAMPLED)){var o=function(){return g.internal._export(n._exporter,[t]).then((function(t){var e;t.code!==u.I.SUCCESS&&(0,v.L)(null!==(e=t.error)&&void 0!==e?e:new Error("SimpleSpanProcessor: span export failed (status "+t+")"))})).catch((function(t){(0,v.L)(t)}))};if(t.resource.asyncAttributesPending){var i=null===(r=(e=t.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(e).then((function(){return null!=i&&n._unresolvedExports.delete(i),o()}),(function(t){return(0,v.L)(t)}));null!=i&&this._unresolvedExports.add(i)}else o()}},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){return this._exporter.shutdown()},t}(),T=r(7498),_=r(6375),b=r(1934),I=r(356),C=r(5751),R=r(4977),N=r(8281)},90:(t,e,r)=>{"use strict";r.d(e,{m:()=>n});var n=function(){this.generateTraceId=i(16),this.generateSpanId=i(8)},o=Array(32);function i(t){return function(){for(var e=0;e<2*t;e++)o[e]=Math.floor(16*Math.random())+48,o[e]>=58&&(o[e]+=39);return String.fromCharCode.apply(null,o.slice(0,2*t))}}},8797:(t,e,r)=>{"use strict";r.d(e,{p:()=>m});var n,o=r(928),i=r(8726),s=r(6339),a=r(3580),u=r(1269),c=r(8397),l=r(3420),d=r(6220),p=r(6869),f=function(){function t(t,e){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,a.d)();this._maxExportBatchSize="number"==typeof(null==e?void 0:e.maxExportBatchSize)?e.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==e?void 0:e.maxQueueSize)?e.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==e?void 0:e.scheduledDelayMillis)?e.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==e?void 0:e.exportTimeoutMillis)?e.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new u.q(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(o.K.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){this._shutdownOnce.isCalled||0!=(t.spanContext().traceFlags&i.r.SAMPLED)&&this._addToBuffer(t)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var t=this;return Promise.resolve().then((function(){return t.onShutdown()})).then((function(){return t._flushAll()})).then((function(){return t._exporter.shutdown()}))},t.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&o.K.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(o.K.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},t.prototype._flushAll=function(){var t=this;return new Promise((function(e,r){for(var n=[],o=0,i=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);o<i;o++)n.push(t._flushOneBatch());Promise.all(n).then((function(){e()})).catch(r)}))},t.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(e,r){var n=setTimeout((function(){r(new Error("Timeout"))}),t._exportTimeoutMillis);s.D.with((0,c.hE)(s.D.active()),(function(){var o;t._finishedSpans.length<=t._maxExportBatchSize?(o=t._finishedSpans,t._finishedSpans=[]):o=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(o,(function(t){var o;clearTimeout(n),t.code===l.I.SUCCESS?e():r(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},s=null,a=0,u=o.length;a<u;a++){var c=o[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(c.resource.waitForAsyncAttributes()))}null===s?i():Promise.all(s).then(i,(function(t){(0,d.L)(t),r(t)}))}))}))},t.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var e=function(){t._isExporting=!0,t._flushOneBatch().finally((function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())})).catch((function(e){t._isExporting=!1,(0,d.L)(e)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout((function(){return e()}),this._scheduledDelayMillis),(0,p.g)(this._timer))}},t.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},t}(),h=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.onInit(r),n}return h(e,t),e.prototype.onInit=function(t){var e=this;!0!==(null==t?void 0:t.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&e.forceFlush()},this._pageHideListener=function(){e.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(f)},6375:(t,e,r)=>{"use strict";r.d(e,{_:()=>o});var n=r(4977),o=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:n.U.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}()},1934:(t,e,r)=>{"use strict";r.d(e,{t:()=>o});var n=r(4977),o=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:n.U.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}()},356:(t,e,r)=>{"use strict";r.d(e,{N:()=>c});var n=r(8570),o=r(7228),i=r(8726),s=r(6220),a=r(6375),u=r(1934),c=function(){function t(t){var e,r,n,o;this._root=t.root,this._root||((0,s.L)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new u.t),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new u.t,this._remoteParentNotSampled=null!==(r=t.remoteParentNotSampled)&&void 0!==r?r:new a._,this._localParentSampled=null!==(n=t.localParentSampled)&&void 0!==n?n:new u.t,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new a._}return t.prototype.shouldSample=function(t,e,r,s,a,u){var c=n.g.getSpanContext(t);return c&&(0,o.BM)(c)?c.isRemote?c.traceFlags&i.r.SAMPLED?this._remoteParentSampled.shouldSample(t,e,r,s,a,u):this._remoteParentNotSampled.shouldSample(t,e,r,s,a,u):c.traceFlags&i.r.SAMPLED?this._localParentSampled.shouldSample(t,e,r,s,a,u):this._localParentNotSampled.shouldSample(t,e,r,s,a,u):this._root.shouldSample(t,e,r,s,a,u)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}()},5751:(t,e,r)=>{"use strict";r.d(e,{a:()=>i});var n=r(7228),o=r(4977),i=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:(0,n.jN)(e)&&this._accumulate(e)<this._upperBound?o.U.RECORD_AND_SAMPLED:o.U.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,r=0;r<t.length/8;r++){var n=8*r;e=(e^parseInt(t.slice(n,n+8),16))>>>0}return e},t}()},1314:(t,e,r)=>{"use strict";r.d(e,{f:()=>s,r:()=>a});var n=r(5946),o=r(3580),i=r(851);function s(t){var e={sampler:(0,n.V)()},r=(0,n.K)(),o=Object.assign({},r,e,t);return o.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),o}function a(t){var e,r,n,s,a,u,c,l,d,p,f,h,m=Object.assign({},t.spanLimits),g=(0,o.v)();return m.attributeCountLimit=null!==(u=null!==(a=null!==(s=null!==(r=null===(e=t.spanLimits)||void 0===e?void 0:e.attributeCountLimit)&&void 0!==r?r:null===(n=t.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==s?s:g.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:g.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==u?u:i.qG,m.attributeValueLengthLimit=null!==(h=null!==(f=null!==(p=null!==(l=null===(c=t.spanLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:null===(d=t.generalLimits)||void 0===d?void 0:d.attributeValueLengthLimit)&&void 0!==p?p:g.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==f?f:g.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==h?h:i.KR,Object.assign({},t,{spanLimits:m})}},7376:(t,e,r)=>{"use strict";var n;r.d(e,{S:()=>n}),function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(n||(n={}))},5173:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AlwaysOffSampler:()=>f.AlwaysOffSampler,AlwaysOnSampler:()=>f.AlwaysOnSampler,BasicTracerProvider:()=>f.BasicTracerProvider,BatchSpanProcessor:()=>f.BatchSpanProcessor,ConsoleSpanExporter:()=>f.ConsoleSpanExporter,ForceFlushState:()=>f.ForceFlushState,InMemorySpanExporter:()=>f.InMemorySpanExporter,NoopSpanProcessor:()=>f.NoopSpanProcessor,ParentBasedSampler:()=>f.ParentBasedSampler,PerformanceTimingNames:()=>d.S,RandomIdGenerator:()=>f.RandomIdGenerator,SamplingDecision:()=>f.SamplingDecision,SimpleSpanProcessor:()=>f.SimpleSpanProcessor,Span:()=>f.Span,StackContextManager:()=>u,TraceIdRatioBasedSampler:()=>f.TraceIdRatioBasedSampler,Tracer:()=>f.Tracer,WebTracerProvider:()=>l,addSpanNetworkEvent:()=>p.M4,addSpanNetworkEvents:()=>p.lx,getElementXPath:()=>p.Hr,getResource:()=>p.RX,hasKey:()=>p.wH,normalizeUrl:()=>p.D5,parseUrl:()=>p.en,shouldPropagateTraceHeaders:()=>p.n4,sortResources:()=>p.rg});var n,o=r(298),i=r(5834),s=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},a=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},u=function(){function t(){this._enabled=!1,this._currentContext=i.I}return t.prototype._bindFunction=function(t,e){void 0===t&&(t=i.I);var r=this,n=function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r.with(t,(function(){return e.apply(n,o)}))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),n},t.prototype.active=function(){return this._currentContext},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):e},t.prototype.disable=function(){return this._currentContext=i.I,this._enabled=!1,this},t.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=i.I),this},t.prototype.with=function(t,e,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var u=this._currentContext;this._currentContext=t||i.I;try{return e.call.apply(e,a([r],s(n),!1))}finally{this._currentContext=u}},t}(),c=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor";return r}return c(e,t),e.prototype.register=function(e){void 0===e&&(e={}),void 0===e.contextManager&&(e.contextManager=new u),e.contextManager&&e.contextManager.enable(),t.prototype.register.call(this,e)},e}(o.u),d=r(7376),p=r(7913),f=r(3901)},7913:(t,e,r)=>{"use strict";r.d(e,{D5:()=>m,Hr:()=>g,M4:()=>c,RX:()=>f,en:()=>h,lx:()=>l,n4:()=>v,rg:()=>d,wH:()=>u});var n,o=r(7376),i=r(7664),s=r(7402),a=r(3108);function u(t,e){return e in t}function c(t,e,r,n){var i=void 0,s=void 0;u(r,e)&&"number"==typeof r[e]&&(i=r[e]);var a=n||o.S.FETCH_START;if(u(r,a)&&"number"==typeof r[a]&&(s=r[a]),void 0!==i&&void 0!==s&&i>=s)return t.addEvent(e,i),t}function l(t,e){c(t,o.S.FETCH_START,e),c(t,o.S.DOMAIN_LOOKUP_START,e),c(t,o.S.DOMAIN_LOOKUP_END,e),c(t,o.S.CONNECT_START,e),u(e,"name")&&e.name.startsWith("https:")&&c(t,o.S.SECURE_CONNECTION_START,e),c(t,o.S.CONNECT_END,e),c(t,o.S.REQUEST_START,e),c(t,o.S.RESPONSE_START,e),c(t,o.S.RESPONSE_END,e);var r=e[o.S.ENCODED_BODY_SIZE];void 0!==r&&t.setAttribute(a.ynx,r);var n=e[o.S.DECODED_BODY_SIZE];void 0!==n&&r!==n&&t.setAttribute(a.ljJ,n)}function d(t){return t.slice().sort((function(t,e){var r=t[o.S.FETCH_START],n=e[o.S.FETCH_START];return r>n?1:r<n?-1:0}))}function p(){return"undefined"!=typeof location?location.origin:void 0}function f(t,e,r,n,s,a){void 0===s&&(s=new WeakSet);var u=h(t),c=function(t,e,r,n,s,a){var u=(0,i.PW)(e),c=(0,i.PW)(r),l=n.filter((function(e){var r=(0,i.PW)((0,i.aE)(e[o.S.FETCH_START])),n=(0,i.PW)((0,i.aE)(e[o.S.RESPONSE_END]));return e.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&e.name===t&&r>=u&&n<=c}));l.length>0&&(l=l.filter((function(t){return!s.has(t)})));return l}(t=u.toString(),e,r,n,s,a);if(0===c.length)return{mainRequest:void 0};if(1===c.length)return{mainRequest:c[0]};var l=d(c);if(u.origin!==p()&&l.length>1){var f=l[0],m=function(t,e,r){for(var n,s=(0,i.PW)(r),a=(0,i.PW)((0,i.aE)(e)),u=t[1],c=t.length,l=1;l<c;l++){var d=t[l],p=(0,i.PW)((0,i.aE)(d[o.S.FETCH_START])),f=s-(0,i.PW)((0,i.aE)(d[o.S.RESPONSE_END]));p>=a&&(!n||f<n)&&(n=f,u=d)}return u}(l,f[o.S.RESPONSE_END],r),g=f[o.S.RESPONSE_END];return m[o.S.FETCH_START]<g&&(m=f,f=void 0),{corsPreFlightRequest:f,mainRequest:m}}return{mainRequest:c[0]}}function h(t){if("function"==typeof URL)return new URL(t,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var e=(n||(n=document.createElement("a")),n);return e.href=t,e}function m(t){return h(t).href}function g(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(t,e){var r=t.nodeType,n=function(t){if(!t.parentNode)return 0;var e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var r=Array.from(t.parentNode.childNodes);if(r=r.filter((function(r){var n=r.localName;return e.indexOf(r.nodeType)>=0&&n===t.localName})),r.length>=1)return r.indexOf(t)+1;return 0}(t),o="";if(r===Node.ELEMENT_NODE){var i=t.getAttribute("id");if(e&&i)return'//*[@id="'+i+'"]';o=t.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return"/"+o+"["+n+"]";return"/"+o}(t,e);if(e&&r.indexOf("@id")>0)return r;var n="";return t.parentNode&&(n+=g(t.parentNode,!1)),n+=r}function v(t,e){var r=e||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),h(t).origin===p()||r.some((function(e){return(0,s.j)(t,e)}))}},5053:(t,e,r)=>{"use strict";function n(t){for(var e={},r=t.length,n=0;n<r;n++){var o=t[n];o&&(e[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return e}r.d(e,{i:()=>n})},5364:(t,e,r)=>{"use strict";r.d(e,{AX:()=>p,Ft:()=>d,L7:()=>h,QG:()=>u,Ze:()=>c,d_:()=>l});r(5053);var n="process.runtime.name",o="service.name",i="telemetry.sdk.name",s="telemetry.sdk.language",a="telemetry.sdk.version",u=n,c=o,l=i,d=s,p=a,f="webjs",h=f},3108:(t,e,r)=>{"use strict";r.d(e,{ACM:()=>v,BM2:()=>S,LZ1:()=>T,WTV:()=>m,Wji:()=>g,aVl:()=>y,kXj:()=>_,ljJ:()=>I,oMZ:()=>E,qvI:()=>h,ynx:()=>b});r(5053);var n="exception.type",o="exception.message",i="exception.stacktrace",s="http.method",a="http.url",u="http.host",c="http.scheme",l="http.status_code",d="http.user_agent",p="http.response_content_length",f="http.response_content_length_uncompressed",h=n,m=o,g=i,v=s,y=a,E=u,S=c,T=l,_=d,b=p,I=f},9180:function(t,e,r){var n,o,i;!function(s,a){"use strict";o=[r(9829)],void 0===(i="function"==typeof(n=function(t){var e=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(r))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(r)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;var o=this.extractLocation(n?n[1]:r),i=n&&r||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new t({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(n)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(r),o=n&&n[1]?n[1]:void 0,i=this.extractLocation(e.replace(r,""));return new t({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),o=[],i=2,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new t({fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera10:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),o=[],i=0,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new t({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera11:function(r){return r.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var r,n=e.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(r=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new t({functionName:s,args:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)}}})?n.apply(e,o):n)||(t.exports=i)}()},6372:t=>{"use strict";function e(t){return"function"==typeof t}var r=console.error.bind(console);function n(t,e,r){var n=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(t){t&&t.logger&&(e(t.logger)?r=t.logger:r("new logger isn't a function, not replacing"))}function i(t,o,i){if(t&&t[o]){if(!i)return r("no wrapper function"),void r((new Error).stack);if(e(t[o])&&e(i)){var s=t[o],a=i(s,o);return n(a,"__original",s),n(a,"__unwrap",(function(){t[o]===a&&n(t,o,s)})),n(a,"__wrapped",!0),n(t,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function s(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void r("no original to unwrap to -- has "+e+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=i,o.massWrap=function(t,e,n){if(!t)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){i(t,e,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=s,o.massUnwrap=function(t,e){if(!t)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){s(t,e)}))})):r("must provide one or more functions to unwrap on modules")},t.exports=o},9829:function(t,e){var r,n,o;!function(i,s){"use strict";n=[],void 0===(o="function"==typeof(r=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}function r(t){return function(){return this[t]}}var n=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],s=["args"],a=["evalOrigin"],u=n.concat(o,i,s,a);function c(t){if(t)for(var r=0;r<u.length;r++)void 0!==t[u[r]]&&this["set"+e(u[r])](t[u[r]])}c.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof c)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new c(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+r+")":"[eval]:"+e+":"+r:n?n+" ("+t+":"+e+":"+r+")":t+":"+e+":"+r}},c.fromString=function(t){var e=t.indexOf("("),r=t.lastIndexOf(")"),n=t.substring(0,e),o=t.substring(e+1,r).split(","),i=t.substring(r+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),a=s[1],u=s[2],l=s[3];return new c({functionName:n,args:o||void 0,fileName:a,lineNumber:u||void 0,columnNumber:l||void 0})};for(var l=0;l<n.length;l++)c.prototype["get"+e(n[l])]=r(n[l]),c.prototype["set"+e(n[l])]=function(t){return function(e){this[t]=Boolean(e)}}(n[l]);for(var d=0;d<o.length;d++)c.prototype["get"+e(o[d])]=r(o[d]),c.prototype["set"+e(o[d])]=function(e){return function(r){if(!t(r))throw new TypeError(e+" must be a Number");this[e]=Number(r)}}(o[d]);for(var p=0;p<i.length;p++)c.prototype["get"+e(i[p])]=r(i[p]),c.prototype["set"+e(i[p])]=function(t){return function(e){this[t]=String(e)}}(i[p]);return c})?r.apply(e,n):r)||(t.exports=o)}()},5929:(t,e,r)=>{"use strict";function n(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(c){return void r(c)}a.done?e(u):Promise.resolve(u).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var s=t.apply(e,r);function a(t){n(s,o,i,a,u,"next",t)}function u(t){n(s,o,i,a,u,"throw",t)}a(void 0)}))}}r.r(e),r.d(e,{default:()=>o})},695:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function s(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}r.r(e),r.d(e,{default:()=>s})},8223:(t,e,r)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}r.r(e),r.d(e,{default:()=>o})},8283:(t,e,r)=>{"use strict";function n(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}r.r(e),r.d(e,{default:()=>n})},4859:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},6132:(t,e,r)=>{var n=r(8921).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(w){d=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new A(n||[]);return s(i,"_invoke",{value:I(t,r,a)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(w){return{type:"throw",arg:w}}}e.wrap=p;var h={};function m(){}function g(){}function v(){}var y={};d(y,u,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==r&&i.call(S,u)&&(y=S);var T=v.prototype=m.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,s,a,u){var c=f(t[o],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==n(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function I(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function C(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return g.prototype=v,s(T,"constructor",{value:v,configurable:!0}),s(v,"constructor",{value:g,configurable:!0}),g.displayName=d(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,d(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},_(b.prototype),d(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new b(p(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(T),d(T,l,"Generator"),d(T,u,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},8921:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7162:(t,e,r)=>{var n=r(6132)();t.exports=n;try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},7540:(t,e)=>{"use strict";e.__esModule=!0,e.propagateTraceHeaderCorsUrls=void 0;e.propagateTraceHeaderCorsUrls=function(t){var e,r=t.traceParentInHeader,n=null==r||null==(e=r.options)?void 0:e.propagateTraceHeaderCorsUrls;null!=r&&r.enabled&&n&&(t.propagateTraceHeaderCorsUrls=n)}},8087:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixWebTracerProvider=void 0;var o=n(r(8223)),i=function(t){function e(){return t.apply(this,arguments)||this}return(0,o.default)(e,t),e}(r(5173).WebTracerProvider);e.CoralogixWebTracerProvider=i},1436:(t,e,r)=>{"use strict";e.__esModule=!0,e.Request=void 0,r(3439);var n=r(1344),o=r(4720),i=function(){function t(t){this.requestConfig=t,this.resolvedUrl="",this.resolvedHeaders={},this.init()}var e=t.prototype;return e.init=function(){var t=(0,n.getSdkConfig)(),e=t.proxyUrl,r=t.coralogixDomain,i=t.public_key,s=this.requestConfig,a=s.suffix,u=s.headers,c=""+o.CoralogixDomainsApiUrlMap[r]+a;this.resolvedUrl=e?e+"?"+o.PROXY_CX_FORWARD_PARAMETER+"="+encodeURIComponent(c):c,i&&(u.Authorization="Bearer "+i),this.resolvedHeaders=u},e.send=function(t){return fetch(this.resolvedUrl,{method:"POST",headers:this.resolvedHeaders,body:t}).catch((function(t){return t}))},t}();e.Request=i},8175:(t,e,r)=>{"use strict";e.__esModule=!0,e.getTiming=function(t){if("number"==typeof t)return t;return(0,n.getNowTime)()-(0,o.getSessionManager)().currentPageTimestamp};var n=r(7494),o=r(1344)},6011:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.processBeforeSend=function(t,e){if(null==e||!e.beforeSend)return t;var r=t.text.cx_rum,n=function(t){var e=t.session_context,r=e.user_id,n=e.user_name,i=e.user_email,a=e.user_metadata,u=(t.browser_sdk,t.timestamp,(0,o.default)(t,s));return Object.assign({},u,{session_context:{user_id:r,user_email:i,user_name:n,user_metadata:a}})}(r),u=e.beforeSend(n);if(!function(t){if(null==t)return null;var e=["version_metadata","session_context","page_context","event_context"],r=function(){return e.some((function(e){return!(null!=t&&t[e])}))};if(!(0,i.isObject)(t)||r())return console.warn("CoralogixRum: beforeSend must return null, undefined or a valid event."),null;return t}(u))return null;var c=u,l=c.version_metadata.app_name,d=c.event_context.severity;return Object.assign({},t,{applicationName:l,severity:d,text:{cx_rum:a(u,r)}})};var o=n(r(8283));r(3105);var i=r(9083),s=["session_context","browser_sdk","timestamp"];function a(t,e){return Object.assign({},e,t,{session_context:Object.assign({},e.session_context,t.session_context)})}},9497:(t,e,r)=>{"use strict";r(8233),r(7950),r(634),e.__esModule=!0,e.validateAndResolveInitConfig=function(t){var e,r,s;if(!function(t){if(!t)return void console.warn("CoralogixRum: Initialization configuration missing");if(!t.proxyUrl&&!t.public_key)return void console.warn("CoralogixRum: Public key is missing");for(var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.REQUIRED_CONFIG_KEYS);!(e=r()).done;){var i=e.value;if((0,o.isNil)(t[i]))return void console.error('CoralogixRum: Initialization aborted. Please provide the required property "'+i+'".')}return!0}(t))return;var l=t.ignoreUrls,d=t.urlBlueprinters,p=[];return l&&p.push.apply(p,l),n.OPTIONS_DEFAULTS.ignoreUrls&&p.push.apply(p,n.OPTIONS_DEFAULTS.ignoreUrls),Object.assign({},n.OPTIONS_DEFAULTS,t,{maskInputTypes:null!=(e=t.maskInputTypes)?e:n.MASK_INPUT_TYPES_DEFAULT,maskClass:null!=(r=t.maskClass)?r:n.MASK_CLASS_DEFAULT,ignoreUrls:p,urlBlueprinters:c(d),sessionSampleRate:null!=(s=t.sessionSampleRate)?s:100,sessionConfig:(0,i.resolveSessionConfig)(t.sessionConfig),sessionRecordingConfig:(0,i.resolveSessionRecordingConfig)(t.sessionRecordingConfig),memoryUsageConfig:u(t.memoryUsageConfig),trackSoftNavigations:!!t.trackSoftNavigations})},r(5735),r(6886),r(3105);var n=r(4720),o=r(49),i=r(3744),s=r(4698);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t){var e;return t?Object.assign({},t,{interval:null!=(e=t.interval)?e:s.MEMORY_USAGE_DEFAULT_INTERVAL}):{enabled:!1}}function c(t){if(!t)return n.OPTIONS_DEFAULTS.urlBlueprinters;var e={pageUrlBlueprinters:[],networkUrlBlueprinters:[]},r=function(t){var r,n,o=t||{},i=o.pageUrlBlueprinters,s=o.networkUrlBlueprinters;i&&(r=e.pageUrlBlueprinters).push.apply(r,i);s&&(n=e.networkUrlBlueprinters).push.apply(n,s)};return r(t),n.OPTIONS_DEFAULTS.urlBlueprinters&&r(n.OPTIONS_DEFAULTS.urlBlueprinters),e}},4720:(t,e,r)=>{"use strict";e.__esModule=!0,e.UUID_REGEX=e.SDK_CONFIG_KEY=e.SCHEDULE_DELAY_MILLIS=e.RUM_INTERNAL_DATA_KEY=e.REQUIRED_CONFIG_KEYS=e.PROXY_CX_FORWARD_PARAMETER=e.PROTOCOL_SEPARATOR=e.PARAMS_SEPARATOR=e.PAGE_URL_LABEL_PROVIDERS_KEY=e.OPTIONS_DEFAULTS=e.NETWORK_URL_LABEL_PROVIDERS_KEY=e.NANOID_REGEX=e.MAX_INTERACTION_ELEMENT_SIZE=e.MAX_EXPORT_BATCH_SIZE=e.MAX_CHARACTERS=e.MASK_INPUT_TYPES_DEFAULT=e.MASK_CLASS_DEFAULT=e.MASKED_TEXT=e.INSTRUMENTATIONS=e.ID_MASK_KEY=e.HASH_SEPARATOR=e.CoralogixDomainsApiUrlMap=e.CoralogixAttributes=e.CX_MAPPED_SPAN=e.CORALOGIX_RECORDING_URL_SUFFIX=e.CORALOGIX_LOGS_URL_SUFFIX=e.BASE_PATH=void 0,r(7368),r(7950),r(8233);var n=r(1990),o=r(1807),i=r(8771),s=r(440),a=r(4752),u=r(371),c=r(8419),l=r(1855),d=r(7410),p=r(7494),f=r(4481),h=r(9262),m=r(2906),g=r(6578),v=r(717),y=r(4698),E="/browser/v1beta/logs";e.CORALOGIX_LOGS_URL_SUFFIX=E;var S="/sessionrecording";e.CORALOGIX_RECORDING_URL_SUFFIX=S;e.MAX_EXPORT_BATCH_SIZE=50;e.MAX_INTERACTION_ELEMENT_SIZE=1024;e.MAX_CHARACTERS=1024;var T=2*p.millisecondsPerSecond;e.SCHEDULE_DELAY_MILLIS=T;e.REQUIRED_CONFIG_KEYS=["application","version","coralogixDomain"];e.SDK_CONFIG_KEY="sdkConfig";var _="{id}";e.ID_MASK_KEY=_;var b=/[0-9a-fA-F-]{36}/g;e.UUID_REGEX=b;var I=/^[a-zA-Z0-9-_]{21}$/;e.NANOID_REGEX=I;e.PAGE_URL_LABEL_PROVIDERS_KEY="PAGE_URL_LABEL_PROVIDERS";e.NETWORK_URL_LABEL_PROVIDERS_KEY="NETWORK_URL_LABEL_PROVIDERS";e.RUM_INTERNAL_DATA_KEY="rumInternalData";e.MASKED_TEXT="***";e.MASK_CLASS_DEFAULT="cx-mask";e.MASK_INPUT_TYPES_DEFAULT=["password","email","tel"];var C=[{pattern:new RegExp(b),replacement:_},{pattern:new RegExp(I),replacement:_}],R={pageUrlBlueprinters:[function(t){return(0,d.replacePatternsInUrl)({patterns:C,url:t})}]},N={ignoreUrls:[new RegExp(E),new RegExp(S)],user_context:{user_id:"",user_name:""},labels:{},urlBlueprinters:R,collectIPData:!0};e.OPTIONS_DEFAULTS=N;var A=[{Instrument:n.CoralogixErrorInstrumentation,confKey:n.ERROR_INSTRUMENTATION_NAME,disable:!1},{Instrument:o.CoralogixFetchInstrumentation,confKey:"fetch",disable:!1},{Instrument:i.CoralogixXhrInstrumentation,confKey:"xhr",disable:!1},{Instrument:s.CoralogixCustomLogInstrumentation,confKey:"custom",disable:!1},{Instrument:g.CoralogixUserInteractionInstrumentation,confKey:"interactions",disable:!1},{Instrument:a.CoralogixWebVitalsInstrumentation,confKey:u.WEB_VITALS_INSTRUMENTATION_NAME,disable:!1},{Instrument:c.CoralogixLongTaskInstrumentation,confKey:u.LONG_TASKS_INSTRUMENTATION_NAME,disable:!1},{Instrument:l.CoralogixResourcesInstrumentation,confKey:u.RESOURCES_INSTRUMENTATION_NAME,disable:!1},{Instrument:f.CoralogixInternalInstrumentation,confKey:u.INTERNAL_INSTRUMENTATION_NAME,disable:!1},{Instrument:h.CoralogixDOMInstrumentation,confKey:u.DOM_INSTRUMENTATION_NAME,disable:!1},{Instrument:m.CoralogixCustomMeasurementInstrumentation,confKey:u.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME,disable:!1},{Instrument:v.CoralogixMemoryUsageInstrumentation,confKey:y.MEMORY_USAGE_INSTRUMENTATION_NAME,disable:!1}];e.INSTRUMENTATIONS=A;var O={USER_AGENT:"user_agent",LOCATION_HREF:"location_href",EVENT_TYPE:"event_type",SEVERITY:"severity",APPLICATION_CONTEXT:"application_context",USER_CONTEXT:"user_context",CUSTOM_MEASUREMENT_CONTEXT:"custom_measurement_context",MEMORY_USAGE_CONTEXT:"memory_usage_context",COUNTRY:"country",SOURCE:"source",ERROR:n.ErrorAttributes,LOG:"cx_log",CUSTOM_LABELS:"custom_labels",ENVIRONMENT:"environment",INTERACTION_EVENT_NAME:"interaction_event_name",ELEMENT_INNER_TEXT:"element_inner_text",ELEMENT_INNER_HTML:"element_inner_html",ELEMENT_ID:"element_id",ELEMENT_CLASSES:"element_classes",TARGET_XPATH:"target_xpath",TARGET_ELEMENT:"target_element",TARGET_ELEMENT_TYPE:"target_element_type",TIMESTAMP:"timestamp",INTERNAL:"internal",PAGE_CONTEXT:"page_context",IS_NAVIGATION_EVENT:"is_navigation_event"};e.CoralogixAttributes=O;e.CoralogixDomainsApiUrlMap={EU1:"https://ingress.eu1.rum-ingress-coralogix.com",EU2:"https://ingress.eu2.rum-ingress-coralogix.com",US1:"https://ingress.us1.rum-ingress-coralogix.com",US2:"https://ingress.us2.rum-ingress-coralogix.com",AP1:"https://ingress.ap1.rum-ingress-coralogix.com",AP2:"https://ingress.ap2.rum-ingress-coralogix.com",AP3:"https://ingress.ap3.rum-ingress-coralogix.com",STAGING:"https://ingress.staging.rum-ingress-coralogix.com"};e.PROXY_CX_FORWARD_PARAMETER="cxforward";e.CX_MAPPED_SPAN="cx_mapped_span";e.BASE_PATH="/";e.HASH_SEPARATOR="#";e.PARAMS_SEPARATOR="?";e.PROTOCOL_SEPARATOR="://"},1393:(t,e,r)=>{"use strict";e.__esModule=!0,e.shouldDropEvent=function(t,e){if(function(t){var e=t||{},r=e.event_context,o=e.error_context;return r.type===n.CoralogixEventType.ERROR&&r.source===i.ErrorSource.DOCUMENT&&!(null!=o&&o.error_message)}(t))return e.debug&&console.warn("Document error without message dropped."),!0;if(function(t,e){if(!t.error_context||null==e||!e.length)return!1;var r=t.error_context.error_message||"";return(0,o.stringMatchesSomePattern)(r,e)}(t,e.ignoreErrors))return e.debug&&console.warn("Ignored error dropped."),!0;return!1};var n=r(7421),o=r(7410),i=r(1990)},1344:(t,e,r)=>{"use strict";e.__esModule=!0,e.clearMemoryFrom=function(t){t.forEach((function(t){delete window[t]}))},e.getSdkConfig=function(){return window[n.SDK_CONFIG_KEY]},e.getSessionManager=function(){return window[o.SESSION_MANAGER_KEY]},e.getSessionRecorder=function(){return window[o.SESSION_RECORDER_KEY]},e.getSnapshotManager=function(){return window[i.SNAPSHOT_MANAGER_KEY]};var n=r(4720),o=r(207),i=r(1310)},440:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.LogSource=e.CoralogixCustomLogInstrumentation=e.CUSTOM_INSTRUMENTATION_VERSION=void 0;var o=n(r(8223)),i=r(978),s=r(4720),a=r(7421),u=r(1344),c=r(7410);e.CUSTOM_INSTRUMENTATION_VERSION="1";var l=function(t){return t.CODE="code",t}({});e.LogSource=l;var d=function(t){function e(e){var r,n;return(n=t.call(this,a.CoralogixEventType.LOG,"1",e)||this).stringifyCustomLogData=null==(r=(0,u.getSdkConfig)())?void 0:r.stringifyCustomLogData,n}(0,o.default)(e,t);var r=e.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.log=function(t,e,r){var n=this.tracer.startSpan(a.CoralogixEventType.LOG);n.setAttribute(s.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.LOG),n.setAttribute(s.CoralogixAttributes.SOURCE,l.CODE),n.setAttribute(s.CoralogixAttributes.SEVERITY,t),n.setAttribute(s.CoralogixAttributes.LOG,JSON.stringify({severity:t,message:e,data:this.stringifyCustomLogData?JSON.stringify(r,(0,c.getCircularReplacer)()):r})),n.end()},e}(i.InstrumentationBase);e.CoralogixCustomLogInstrumentation=d},2906:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixCustomMeasurementInstrumentation=void 0;var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=function(t){function e(e){return t.call(this,s.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME,s.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION,e)||this}(0,o.default)(e,t);var r=e.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.createCustomMeasurement=function(t,e){var r=this.tracer.startSpan(s.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME);r[u.CoralogixAttributes.EVENT_TYPE]=a.CoralogixEventType.CUSTOM_MEASUREMENT,r[u.CoralogixAttributes.CUSTOM_MEASUREMENT_CONTEXT]={name:t,value:e},r.end()},e}(i.InstrumentationBase);e.CoralogixCustomMeasurementInstrumentation=c},9262:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixDOMInstrumentation=void 0;var o=n(r(8223)),i=r(978),s=r(371),a=r(4720),u=r(7421),c=function(t){function e(e){var r;return(r=t.call(this,s.DOM_INSTRUMENTATION_NAME,s.DOM_INSTRUMENTATION_VERSION,e)||this).visibilityChangeHandler=function(){if(document.hidden){var t=r.tracer.startSpan(s.DOM_INSTRUMENTATION_NAME);t.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.DOM),t.end()}},r}(0,o.default)(e,t);var r=e.prototype;return r.registerToDOMEvents=function(){document.addEventListener("visibilitychange",this.visibilityChangeHandler)},r.unregisterFromDOMEvents=function(){document.removeEventListener("visibilitychange",this.visibilityChangeHandler)},r.init=function(){},r.disable=function(){this.unregisterFromDOMEvents()},r.enable=function(){var t=this;setTimeout((function(){t.registerToDOMEvents()}))},e}(i.InstrumentationBase);e.CoralogixDOMInstrumentation=c},1990:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.ErrorSource=e.ErrorAttributes=e.ERROR_INSTRUMENTATION_VERSION=e.ERROR_INSTRUMENTATION_NAME=e.CoralogixErrorInstrumentation=void 0;var o=n(r(8223));r(9529),r(1235);var i=r(5173),s=r(978),a=r(6372),u=r(4720),c=r(7421),l=r(7001),d=r(7410),p="errors";e.ERROR_INSTRUMENTATION_NAME=p;e.ERROR_INSTRUMENTATION_VERSION="1";var f={TYPE:"error_type",STACK:"error_stack",MESSAGE:"error_message"};e.ErrorAttributes=f;var h=function(t){return t.CONSOLE="console",t.WINDOW="window",t.UNHANDLED_REJECTION="unhandledrejection",t.DOCUMENT="document",t.CAPTURED="captured",t}({});e.ErrorSource=h;function m(t,e){var r=e.stack,n=!(null==r||!r.includes("at "));e&&n&&t.setAttribute(f.STACK,r.substring(0,4096))}var g=function(t){return function(e){t.report(h.WINDOW,e)}},v=function(t){return function(e){t.report(h.UNHANDLED_REJECTION,e.reason)}},y=function(t){return function(e){t.report(h.DOCUMENT,e)}};function E(t){t.setAttribute(u.CoralogixAttributes.EVENT_TYPE,c.CoralogixEventType.ERROR),t.setAttribute(u.CoralogixAttributes.SEVERITY,l.CoralogixLogSeverity.Error)}var S=function(t){function e(e){var r;return(r=t.call(this,p,"1",e)||this).ignoreErrors=void 0,r.parseErrorObject=function(t){var e;return null!=(e=null==t?void 0:t.message)?e:JSON.stringify(t,(0,d.getCircularReplacer)())},r.ignoreErrors=e.ignoreErrors,r}(0,o.default)(e,t);var r=e.prototype;return r.init=function(){},r.enable=function(){var t;(0,a.wrap)(console,"error",(t=this,function(e){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.report(h.CONSOLE,n),e.apply(t,n)}})),window.addEventListener("error",g(this)),window.addEventListener("unhandledrejection",v(this)),document.documentElement.addEventListener("error",y(this),{capture:!0})},r.disable=function(){(0,a.unwrap)(console,"error"),window.removeEventListener("error",g(this)),window.removeEventListener("unhandledrejection",v(this)),document.documentElement.removeEventListener("error",y(this),{capture:!0})},r.report=function(t,e){var r=this;if(!(e instanceof Array&&0===e.length))switch(!0){case e instanceof Error:this.reportError(t,e);break;case e instanceof ErrorEvent:this.reportErrorEvent(t,e);break;case e instanceof Event:this.reportEvent(t,e);break;case"string"==typeof e:this.reportString(t,e);break;case e instanceof Array:var n=e.find((function(t){return t instanceof Error})),o=e.map((function(t){return"string"==typeof t?t:r.parseErrorObject(t)})).join(" ");this.reportString(t,o,n);break;default:this.reportString(t,"string"==typeof e?e:this.getPossibleEventMessage(e))}},r.reportError=function(t,e){var r=e.message,n=e.name,o=this.tracer.startSpan("error"),i=r.split("\n")[0];E(o),o.setAttribute(u.CoralogixAttributes.SOURCE,t),o.setAttribute(f.TYPE,n),o.setAttribute(f.MESSAGE,i),m(o,e),o.end()},r.reportString=function(t,e,r){var n=this.tracer.startSpan(t);E(n),n.setAttribute(u.CoralogixAttributes.SOURCE,t),n.setAttribute(f.MESSAGE,null==e?void 0:e.substring(0,1024)),r&&m(n,r),n.end()},r.reportErrorEvent=function(t,e){var r=e.error,n=e.message,o=null!=r?r:n;this.report(t,o)},r.reportEvent=function(t,e){if(e.target){var r=this.tracer.startSpan(t);E(r),r.setAttribute(u.CoralogixAttributes.SOURCE,t),e.target&&(r.setAttribute("target_element",e.target.tagName),r.setAttribute("target_xpath",(0,i.getElementXPath)(e.target,!0)),r.setAttribute("target_src",e.target.src)),r.end()}},r.getPossibleEventMessage=function(t){var e=t||{},r=e.message,n=e.statusMessage;return r&&"string"==typeof r?r:n&&"string"==typeof n?n:JSON.stringify(t)},e}(s.InstrumentationBase);e.CoralogixErrorInstrumentation=S},1807:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.FetchSource=e.CoralogixFetchInstrumentation=void 0;var o=n(r(8223)),i=r(7680),s=r(4720),a=r(7421),u=r(7001),c=r(7540),l=r(7410),d=function(t){return t.FETCH="fetch",t}({});e.FetchSource=d;var p=function(t){function e(e){return(0,c.propagateTraceHeaderCorsUrls)(e),e.applyCustomAttributesOnSpan=function(t,e,r){var n,o=r.status;t.setAttributes(((n={})[s.CoralogixAttributes.SEVERITY]=(0,l.isNetworkError)(o)?u.CoralogixLogSeverity.Error:u.CoralogixLogSeverity.Info,n[s.CoralogixAttributes.EVENT_TYPE]=a.CoralogixEventType.NETWORK_REQUEST,n[s.CoralogixAttributes.SOURCE]=d.FETCH,n))},t.call(this,e)||this}return(0,o.default)(e,t),e.prototype.enable=function(){t.prototype.enable.call(this)},e}(i.FetchInstrumentation);e.CoralogixFetchInstrumentation=p},4481:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.INTERNAL_INSTRUMENTATION_VERSION=e.CoralogixInternalInstrumentation=void 0,r(7368),r(7950),r(8233);var o=n(r(8223)),i=r(978),s=r(4720),a=r(7001),u=r(7421),c=r(1344),l=r(9083);e.INTERNAL_INSTRUMENTATION_VERSION="1";var d=function(t){function e(e){return t.call(this,u.CoralogixEventType.INTERNAL,"1",e)||this}(0,o.default)(e,t);var r=e.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.reportInternalEvent=function(t,e){void 0===e&&(e="");var r,n=this.tracer.startSpan(u.CoralogixEventType.INTERNAL);switch(n.setAttribute(s.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.INTERNAL),n.setAttribute(s.CoralogixAttributes.SEVERITY,a.CoralogixLogSeverity.Info),t){case"init":var o=(0,l.omit)((0,c.getSdkConfig)(),"public_key","coralogixDomain");r=this.stringifyConfig(o);break;case"recording-start":default:break;case"recording-stop":r=e}n.setAttribute(s.CoralogixAttributes.INTERNAL,JSON.stringify({event:t,data:r})),n.end()},r.stringifyConfig=function(t){return JSON.stringify(t,(function(t,e){return e instanceof RegExp?e.toString():e}))},e}(i.InstrumentationBase);e.CoralogixInternalInstrumentation=d},8419:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixLongTaskInstrumentation=void 0,r(3105),r(5371);var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=r(7410),l=function(t){function e(e){var r;return(r=t.call(this,s.LONG_TASKS_INSTRUMENTATION_NAME,s.LONG_TASK_INSTRUMENTATION_VERSION,e)||this).longTaskObserver=void 0,c.supportedPerformanceTypes.has(a.PerformanceTypes.LongTask)?r.registerToLongTasks():console.warn("Coralogix Browser SDK - browser doesnt support longtask events"),r}(0,o.default)(e,t);var r=e.prototype;return r.registerToLongTasks=function(){var t=this;this.longTaskObserver=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){return t.createSpanFromLongTask(e)}))})),this.longTaskObserver.observe({type:a.PerformanceTypes.LongTask,buffered:!0})},r.createSpanFromLongTask=function(t){var e=this.tracer.startSpan(a.CoralogixEventType.LONG_TASK),r=Object.assign({},(0,c.deepClone)(t),{id:(0,c.generateUUID)()});t.toJSON&&delete r.toJSON,t.attribution&&delete r.attribution,e.setAttribute(u.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.LONG_TASK),e.setAttribute(a.CoralogixEventType.LONG_TASK,JSON.stringify(r)),e.end()},r.enable=function(){},r.disable=function(){var t;null==(t=this.longTaskObserver)||t.disconnect()},r.init=function(){},e}(i.InstrumentationBase);e.CoralogixLongTaskInstrumentation=l},1855:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixResourcesInstrumentation=void 0,r(671),r(9529),r(1235),r(3105);var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=r(7410),l=r(259),d=r(1938),p=r(1344),f=r(3739),h=function(t){function e(e){var r,n;return(n=t.call(this,s.RESOURCES_INSTRUMENTATION_NAME,s.RESOURCES_INSTRUMENTATION_VERSION,e)||this).resourcesObserver=void 0,n.ignoreUrls=null==(r=(0,p.getSdkConfig)())?void 0:r.ignoreUrls,c.supportedPerformanceTypes.has(a.PerformanceTypes.Resource)?n.registerToResources():console.warn("Coralogix Browser SDK - browser doesnt support resource events"),n}(0,o.default)(e,t);var r=e.prototype;return r.registerToResources=function(){var t=this;this.resourcesObserver=new PerformanceObserver((function(e){e.getEntries().reduce((function(e,r){var n=r.initiatorType!==d.ResourceInitiatorTypes.Fetch,o=!r.name.includes(u.CORALOGIX_LOGS_URL_SUFFIX),i=!t.isResourceIgnored(r.name);return(n||o)&&i&&e.push(t.mapResource(r)),e}),[]).forEach((function(e){t.createSpanFromResource(e)}))})),this.resourcesObserver.observe({type:a.PerformanceTypes.Resource,buffered:!0})},r.isResourceIgnored=function(t){var e;return!(!t||null==(e=this.ignoreUrls)||!e.length)&&(0,f.isPatternMatch)(t,this.ignoreUrls,"ignoreUrls")},r.mapResource=function(t){var e=t.name,r=t.initiatorType;switch(!0){case(0,l.resourceInitiatorTypeIs)(r,[d.ResourceInitiatorTypes.Beacon])||(0,c.valueEndWithOrInclude)(e,s.OTHER_EXTENSIONS):r=d.ResourceInitiatorTypes.Other;break;case r!==d.ResourceInitiatorTypes.Css&&(0,c.valueEndWithOrInclude)(e,s.CSS_EXTENSIONS):r=d.ResourceInitiatorTypes.Css;break;case r!==d.ResourceInitiatorTypes.Script&&(0,c.valueEndWithOrInclude)(e,s.SCRIPT_EXTENSIONS):r=d.ResourceInitiatorTypes.Script;break;case r!==d.ResourceInitiatorTypes.Img&&(0,c.valueEndWithOrInclude)(e,s.IMG_EXTENSIONS):r=d.ResourceInitiatorTypes.Img;break;case e.includes(s.FONTS_URL)||(0,c.valueEndWithOrInclude)(e,s.FONT_EXTENSIONS):r=d.ResourceInitiatorTypes.Font;break;case r!==d.ResourceInitiatorTypes.Iframe&&(0,c.valueEndWithOrInclude)(e,s.DOC_EXTENSIONS):r=d.ResourceInitiatorTypes.Doc;break;case(0,l.resourceInitiatorTypeIs)(r,[d.ResourceInitiatorTypes.Video,d.ResourceInitiatorTypes.Audio,d.ResourceInitiatorTypes.Track])||(0,c.valueEndWithOrInclude)(e,s.MEDIA_EXTENSIONS):r=d.ResourceInitiatorTypes.Media}return Object.assign({},(0,c.deepClone)(t),{initiatorType:r})},r.createSpanFromResource=function(t){var e,r=this.tracer.startSpan(s.RESOURCES_INSTRUMENTATION_NAME);r.setAttribute(u.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.RESOURCES);var n=Object.assign({},(0,c.deepClone)(t),{name:null==(e=t.name)?void 0:e.slice(0,u.MAX_CHARACTERS)});r.setAttribute(s.RESOURCES_INSTRUMENTATION_NAME,JSON.stringify(n)),r.end()},r.enable=function(){},r.disable=function(){var t;null==(t=this.resourcesObserver)||t.disconnect()},r.init=function(){},e}(i.InstrumentationBase);e.CoralogixResourcesInstrumentation=h},4752:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixWebVitalsInstrumentation=void 0,r(5735),r(6886);var o=n(r(8223)),i=r(978),s=r(1104),a=r(4720),u=r(7421),c=r(9083),l=r(371),d=r(7410),p=r(1344),f=n(r(3960)),h=function(t){function e(e){var r;return(r=t.call(this,l.WEB_VITALS_INSTRUMENTATION_NAME,l.WEB_VITALS_INSTRUMENTATION_VERSION,e)||this).metrics=void 0,r.observers=[],r.isSoftNavsEnabled=(0,p.getSdkConfig)().trackSoftNavigations,r.onReport=function(t){if(t){"FCP"===t.name&&r.registerToTBTMetric();var e=r.tracer.startSpan(u.CoralogixEventType.WEB_VITALS),n=t.entries?(0,c.omit)(t,"entries"):t;"INP"===(n=(0,c.omit)(n,"attribution.navigationEntry")).name&&(n=(0,c.omit)(n,"attribution.interactionTargetElement")),e.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.WEB_VITALS),e.setAttribute(l.WEB_VITALS_INSTRUMENTATION_NAME,JSON.stringify(n,(0,d.getCircularReplacer)())),e.end()}},r.metrics=(0,c.isEmpty)(e.metrics)?l.ALL_WEB_VITALS_METRICS:e.metrics,r.registerToCoreWebVitalMetrics(),r.registerToCalculatedWebVitalMetrics(),r.isSoftNavsEnabled&&r.registerToSoftNavigations(),r}(0,o.default)(e,t);var r=e.prototype;return r.registerToCoreWebVitalMetrics=function(){var t=this.isSoftNavsEnabled&&d.supportedPerformanceTypes.has(u.PerformanceTypes.SoftNavigation);this.metrics.fid&&(0,s.onFID)(this.onReport),this.metrics.cls&&(0,s.onCLS)(this.onReport,{reportSoftNavs:t}),this.metrics.lcp&&(0,s.onLCP)(this.onReport,{reportSoftNavs:t}),this.metrics.fcp&&(0,s.onFCP)(this.onReport,{reportSoftNavs:t}),this.metrics.inp&&(0,s.onINP)(this.onReport,{reportSoftNavs:t}),this.metrics.ttfb&&(0,s.onTTFB)(this.onReport,{reportSoftNavs:t})},r.registerToSoftNavigations=function(){var t=this;if(d.supportedPerformanceTypes.has(u.PerformanceTypes.SoftNavigation)){var e=new PerformanceObserver((function(e){var r;e.getEntries().forEach((function(e){var n=e.duration,o=e.name,i=e.startTime,s=e.navigationId;r={name:"SN",id:(0,d.generateWebVitalUniqueID)(),value:n,url:o,navigationType:"soft-navigation",navigationId:s,startTime:i},t.onReport(r)}))}));this.observers.push(e),e.observe({type:u.PerformanceTypes.SoftNavigation,buffered:!0})}else console.warn("Coralogix Browser SDK - browser doesnt support soft navigation events")},r.registerToCalculatedWebVitalMetrics=function(){this.metrics.lt&&(d.supportedPerformanceTypes.has(u.PerformanceTypes.Navigation)?this.calculateLoadingPageTime():console.warn("Coralogix Browser SDK - browser doesnt support navigation events"))},r.registerToTBTMetric=function(){this.metrics.tbt&&(d.supportedPerformanceTypes.has(u.PerformanceTypes.LongTask)?this.calculateAllTotalBlockingTime():console.warn("Coralogix Browser SDK - browser doesnt support TBT events"))},r.calculateLoadingPageTime=function(){var t=this,e=new PerformanceObserver((function(e){var r;e.getEntries().forEach((function(e){var n=e,o=n.duration,i=n.name,s=n.type;r={name:"LT",id:(0,d.generateWebVitalUniqueID)(),value:o,url:i,navigationType:s},o&&t.onReport(r)}))}));this.observers.push(e),e.observe({type:u.PerformanceTypes.Navigation,buffered:!0})},r.calculateAllTotalBlockingTime=function(){var t,e=this,r=new PerformanceObserver((function(e){var r,n,o=(0,d.calculateTotalBlockingTime)(e.getEntries());t={name:"TBT",id:(0,d.generateWebVitalUniqueID)(),rating:(0,d.rateForTBTMetricValue)(o),value:(null!=(r=null==(n=t)?void 0:n.value)?r:0)+o}}));this.observers.push(r),r.observe({type:u.PerformanceTypes.LongTask,buffered:!0}),f.default.getFirstConsistentlyInteractive().then((function(n){var o;n&&(e.onReport(t),r.disconnect(),null==(o=window.__tti)||null==(o=o.o)||o.disconnect())}))},r.enable=function(){},r.disable=function(){this.observers.forEach((function(t){return t.disconnect()}))},r.init=function(){},e}(i.InstrumentationBase);e.CoralogixWebVitalsInstrumentation=h},8771:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.XHRSource=e.CoralogixXhrInstrumentation=void 0;var o=n(r(8223)),i=r(1642),s=r(4720),a=r(7421),u=r(7001),c=r(7410),l=r(7540),d=function(t){return t.XHR="xhr",t}({});e.XHRSource=d;var p=function(t){function e(e){return(0,l.propagateTraceHeaderCorsUrls)(e),e.applyCustomAttributesOnSpan=function(t,e){var r,n=e.status;t.setAttributes(((r={})[s.CoralogixAttributes.SEVERITY]=(0,c.isNetworkError)(n)?u.CoralogixLogSeverity.Error:u.CoralogixLogSeverity.Info,r[s.CoralogixAttributes.EVENT_TYPE]=a.CoralogixEventType.NETWORK_REQUEST,r[s.CoralogixAttributes.SOURCE]=d.XHR,r))},t.call(this,e)||this}return(0,o.default)(e,t),e}(i.XMLHttpRequestInstrumentation);e.CoralogixXhrInstrumentation=p},371:(t,e)=>{"use strict";e.__esModule=!0,e.WEB_VITALS_INSTRUMENTATION_VERSION=e.WEB_VITALS_INSTRUMENTATION_NAME=e.SCRIPT_EXTENSIONS=e.RESOURCES_INSTRUMENTATION_VERSION=e.RESOURCES_INSTRUMENTATION_NAME=e.OTHER_EXTENSIONS=e.MEDIA_EXTENSIONS=e.LONG_TASK_INSTRUMENTATION_VERSION=e.LONG_TASKS_INSTRUMENTATION_NAME=e.LONGTASK_DURATION=e.INTERNAL_INSTRUMENTATION_NAME=e.IMG_EXTENSIONS=e.FONT_EXTENSIONS=e.FONTS_URL=e.DOM_INSTRUMENTATION_VERSION=e.DOM_INSTRUMENTATION_NAME=e.DOC_EXTENSIONS=e.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION=e.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME=e.CSS_EXTENSIONS=e.ALL_WEB_VITALS_METRICS=void 0;e.WEB_VITALS_INSTRUMENTATION_NAME="web_vitals";e.WEB_VITALS_INSTRUMENTATION_VERSION="1.0.0";e.LONG_TASK_INSTRUMENTATION_VERSION="1.0.0";e.LONG_TASKS_INSTRUMENTATION_NAME="long_tasks";e.RESOURCES_INSTRUMENTATION_NAME="resources";e.RESOURCES_INSTRUMENTATION_VERSION="1.0.0";e.DOM_INSTRUMENTATION_NAME="dom";e.DOM_INSTRUMENTATION_VERSION="1.0.0";e.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME="custom_measurement";e.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION="1.0.0";e.ALL_WEB_VITALS_METRICS={lcp:!0,fid:!0,cls:!0,fcp:!0,inp:!0,ttfb:!0,tbt:!0,lt:!0};e.LONGTASK_DURATION=50;e.INTERNAL_INSTRUMENTATION_NAME="internal";e.FONTS_URL="fonts.googleapis.com";e.CSS_EXTENSIONS=[".css"];e.OTHER_EXTENSIONS=[".wasm",".manifest"];e.SCRIPT_EXTENSIONS=[".js",".mjs"];e.MEDIA_EXTENSIONS=[".mp3",".mp4",".wav",".ogg",".webm",".avi"];e.DOC_EXTENSIONS=[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".csv",".html"];e.FONT_EXTENSIONS=[".woff",".woff2",".ttf",".otf",".eot"];e.IMG_EXTENSIONS=[".svg",".jpg",".png",".jpeg",".bmp",".webp"]},259:(t,e)=>{"use strict";e.__esModule=!0,e.resourceInitiatorTypeIs=function(t,e){return e.some((function(e){return e===t}))}},1938:(t,e)=>{"use strict";e.__esModule=!0,e.ResourceInitiatorTypes=void 0;var r=function(t){return t.Media="media",t.Script="script",t.Css="css",t.Beacon="beacon",t.Img="img",t.Font="font",t.Doc="doc",t.Xhr="xmlhttprequest",t.Fetch="fetch",t.Iframe="iframe",t.Video="video",t.Audio="audio",t.Track="track",t.Other="other",t}({});e.ResourceInitiatorTypes=r},717:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixMemoryUsageInstrumentation=void 0;var o=n(r(7162));r(3439);var i=n(r(5929)),s=n(r(8223)),a=r(978),u=r(4698),c=r(1344),l=r(7421),d=r(4720),p=function(t){(0,s.default)(r,t);var e=r.prototype;function r(e){var r;return(r=t.call(this,u.MEMORY_USAGE_INSTRUMENTATION_NAME,u.MEMORY_USAGE_INSTRUMENTATION_VERSION,e)||this).timeoutId=void 0,r.memoryUsageInterval=(0,c.getSdkConfig)().memoryUsageConfig.interval,r}return e.disable=function(){this.clearMeasurementsInterval()},e.enable=function(){this.startTrackingMemoryUsage()},e.init=function(){},e.startTrackingMemoryUsage=function(){var t=this;this.clearMeasurementsInterval(),this.createMemorySample().then((function(){return t.runMemoryMeasurements()}))},e.createMemorySample=function(){var t=(0,i.default)(o.default.mark((function t(){var e,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,performance.measureUserAgentSpecificMemory();case 3:e=t.sent,(r=this.tracer.startSpan(u.MEMORY_USAGE_INSTRUMENTATION_NAME))[d.CoralogixAttributes.EVENT_TYPE]=l.CoralogixEventType.MEMORY_USAGE,r[d.CoralogixAttributes.MEMORY_USAGE_CONTEXT]=e,r.end(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.warn("Memory usage measurement failed",t.t0),this.clearMeasurementsInterval();case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),e.runMemoryMeasurements=function(){var t=this;this.timeoutId=setTimeout((function(){return t.measureMemoryUsage()}),this.memoryUsageInterval)},e.measureMemoryUsage=function(){var t=(0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createMemorySample();case 2:this.runMemoryMeasurements();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.clearMeasurementsInterval=function(){this.timeoutId&&clearTimeout(this.timeoutId)},r}(a.InstrumentationBase);e.CoralogixMemoryUsageInstrumentation=p},4698:(t,e)=>{"use strict";e.__esModule=!0,e.MEMORY_USAGE_INSTRUMENTATION_VERSION=e.MEMORY_USAGE_INSTRUMENTATION_NAME=e.MEMORY_USAGE_DEFAULT_INTERVAL=void 0,e.isMeasureUserAgentSpecificMemoryAllowed=function(){if(!window.crossOriginIsolated)return console.debug("Coralogix Browser SDK - measureUserAgentSpecificMemory() is only available in cross-origin-isolated pages."),!1;if(!performance.measureUserAgentSpecificMemory)return console.debug("Coralogix Browser SDK - measureUserAgentSpecificMemory() is not available in this browser"),!1;return!0};e.MEMORY_USAGE_INSTRUMENTATION_NAME="memory_usage";e.MEMORY_USAGE_INSTRUMENTATION_VERSION="1.0.0";e.MEMORY_USAGE_DEFAULT_INTERVAL=3e5},6578:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.USER_INTERACTION_INSTRUMENTATION_VERSION=e.USER_INTERACTION_INSTRUMENTATION_NAME=e.DEFAULT_INSTRUMENTED_EVENTS=e.CoralogixUserInteractionInstrumentation=void 0,r(3105);var o,i=n(r(8223)),s=r(978),a=r(4720),u=r(7421),c=r(7518),l=r(1344),d=r(4307),p="user-interaction";e.USER_INTERACTION_INSTRUMENTATION_NAME=p;e.USER_INTERACTION_INSTRUMENTATION_VERSION="1";var f=((o={})[c.DOM_EVENT.CLICK]=!0,o);e.DEFAULT_INSTRUMENTED_EVENTS=f;var h=function(t){function e(e){var r;return(r=t.call(this,p,"1",e)||this).handler=function(t){},r.stop=function(){},r}(0,i.default)(e,t);var r=e.prototype;return r.enable=function(){var t,e=this;this.handler=function(t){var r=e.tracer.startSpan(p),n=t.target,o=(0,l.getSdkConfig)(),i=n.id,s=n.type,c=n.className,f=n.nodeName,h=(0,d.extractMaskedOrTextContent)(n,o);r.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.USER_INTERACTION),r.setAttribute(a.CoralogixAttributes.INTERACTION_EVENT_NAME,t.type),n&&n instanceof HTMLElement&&[[a.CoralogixAttributes.ELEMENT_ID,i],[a.CoralogixAttributes.ELEMENT_CLASSES,c],[a.CoralogixAttributes.TARGET_ELEMENT_TYPE,s],[a.CoralogixAttributes.ELEMENT_INNER_TEXT,null==h?void 0:h.slice(0,a.MAX_INTERACTION_ELEMENT_SIZE)],[a.CoralogixAttributes.TARGET_ELEMENT,f]].forEach((function(t){var e=t[0],n=t[1];r.setAttribute(e,n)})),r.end()};var r=Object.assign({},f,null==(t=this._config)?void 0:t.events),n=Object.entries(r).filter((function(t){t[0];return t[1]})).map((function(t){return t[0]}));this.stop=(0,c.addEventListeners)(document,n,this.handler,{capture:!0,passive:!0}).stop},r.disable=function(){this.stop()},r.init=function(){},e}(s.InstrumentationBase);e.CoralogixUserInteractionInstrumentation=h},4307:(t,e,r)=>{"use strict";e.__esModule=!0,e.extractMaskedOrTextContent=function(t,e){if(!t)return"";var r=s(t,o);return r?function(t,e){if(u(t,e.maskInputTypes,e.maskClass)||a(t,e.maskClass,o))return n.MASKED_TEXT;if(function(t,e){return t.children?Array.from(t.children).find((function(t){return u(t,e.maskInputTypes,e.maskClass)})):null}(t,e))return n.MASKED_TEXT;return function(t){if(t instanceof HTMLInputElement)return t.value||"";return"innerText"in t?t.innerText:""}(t)}(r,e):""},r(9529),r(1235),r(7368),r(7950),r(8233);var n=r(4720),o=5,i=["BUTTON","LABEL","A","INPUT","OPTION"];function s(t,e){return!t||e<=0?null:i.includes(t.nodeName)?t:s(t.parentElement,e-1)}function a(t,e,r){return void 0===r&&(r=o),!(!t||r<=0)&&(!!c(t.className,e)||a(t.parentElement,e,r-1))}function u(t,e,r){return!!t&&(function(t,e){if(t instanceof HTMLInputElement){var r=t.type||"text";return e.includes(r)}return!1}(t,e)||c(t.className,r))}function c(t,e){return e instanceof RegExp?e.test(t):t.includes(e)}},1262:(t,e,r)=>{"use strict";e.__esModule=!0,e.reportInternalEvent=void 0;var n=r(7410),o=r(371);e.reportInternalEvent=function(t,e){var r=(0,n.getInternalRumData)(o.INTERNAL_INSTRUMENTATION_NAME);null==r||r.reportInternalEvent(t,e)}},5221:(t,e,r)=>{"use strict";e.__esModule=!0,e.CoralogixExporter=void 0,r(671),r(3439);var n=r(4720),o=r(207),i=r(15),s=r(1344),a=r(9703),u=r(1436),c=r(3744),l=r(7784),d=function(){function t(){var t=this;this.isActive=!0,this.sdkConfig=(0,s.getSdkConfig)(),this.request=new u.Request({suffix:n.CORALOGIX_LOGS_URL_SUFFIX,headers:{"Content-Type":"application/json"}}),this.batchTimeDelay=o.BATCH_TIME_DELAY,this.invokeLogRequest=function(e,r){null!=e&&e.length&&t.request.send(JSON.stringify({logs:e,skip_enrichment_with_ip:!t.sdkConfig.collectIPData})).then((function(){r&&((0,s.getSessionManager)().cachedLogsSent=!0)}))}}var e=t.prototype;return e.export=function(t,e){if((0,l.isProcessorShouldStop)(this.isActive))e({code:i.ExportResultCode.SUCCESS});else{var r=t.reduce((function(t,e){return e[n.CX_MAPPED_SPAN]&&t.push(e[n.CX_MAPPED_SPAN]),t}),[]);(0,c.isSessionWithError)()?this.handleSessionWithError(r):this.invokeLogRequest(r),e({code:i.ExportResultCode.SUCCESS})}},e.handleSessionWithError=function(t){var e=this,r=(0,s.getSessionManager)(),n=r.maxRumEventsForSessionWithError,i=r.instrumentationsToSend,u=r.sessionHasError,c=[];t=t.reduce((function(t,e){return i&&i[e.text.cx_rum.event_context.type]?c.push(e):t.push(e),t}),[]),this.invokeLogRequest(c);var l=window.cachedLogs=[].concat(window.cachedLogs||[],t),d=l.length;if(d>n&&!u)this.clearCachedDataForSessionWithError();else if(u)if(d>a.MAX_RUM_EVENTS_PER_REQUEST){for(var p=[],f=0;f<d;f+=a.MAX_RUM_EVENTS_PER_REQUEST)p.push(l.slice(f,f+a.MAX_RUM_EVENTS_PER_REQUEST));p.forEach((function(t){setTimeout((function(){return e.invokeLogRequest(t,!0)}),e.batchTimeDelay),e.batchTimeDelay+=o.BATCH_TIME_DELAY})),this.clearCachedDataForSessionWithError()}else this.invokeLogRequest(l,!0),this.clearCachedDataForSessionWithError()},e.clearCachedDataForSessionWithError=function(){window.cachedLogs=[],this.batchTimeDelay=o.BATCH_TIME_DELAY},e.shutdown=function(){return this.isActive=!1,Promise.resolve()},t}();e.CoralogixExporter=d},2928:(t,e,r)=>{"use strict";e.__esModule=!0,e.CoralogixNavigationProcessor=void 0,r(3439);var n=r(4720),o=r(7410),i=r(1344),s=function(){function t(){}var e=t.prototype;return e.forceFlush=function(){return Promise.resolve()},e.onEnd=function(t){},e.onStart=function(t){var e=(0,o.resolvePageContext)(location.href);if(e){t[n.CoralogixAttributes.PAGE_CONTEXT]=e;var r=(0,i.getSessionManager)().currentPageFragment,s=e.page_fragments;r!==s&&((0,i.getSessionManager)().updateCurrentPage(s),t[n.CoralogixAttributes.IS_NAVIGATION_EVENT]=!0)}},e.shutdown=function(){return Promise.resolve()},t}();e.CoralogixNavigationProcessor=s},2365:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.CoralogixSnapshotSpanProcessor=void 0;var o=n(r(8283));r(3439);var i=r(4720),s=r(7421),a=r(1344),u=r(7001),c=r(7784),l=r(7494),d=["timestamp"],p=function(){function t(){this.isActive=!0}var e=t.prototype;return e.forceFlush=function(){return Promise.resolve()},e.onEnd=function(t){if(!(0,c.isProcessorShouldStop)(this.isActive)&&t[i.CX_MAPPED_SPAN]){var e=t[i.CX_MAPPED_SPAN];this.isSnapshotPrepared(t)?this.createSnapshot(e):e.text.cx_rum.isSnapshotEvent=!1}},e.onStart=function(t,e){},e.shutdown=function(){return this.isActive=!1,Promise.resolve()},e.createSnapshot=function(t){var e=(0,a.getSnapshotManager)().currentSnapshot,r=(e.timestamp,(0,o.default)(e,d));t.text.cx_rum.isSnapshotEvent=!0,t.text.cx_rum.snapshot_context=r},e.isSnapshotPrepared=function(t){var e,r=t.attributes,n=r[i.CoralogixAttributes.TIMESTAMP],o=r[i.CoralogixAttributes.EVENT_TYPE],c=r[i.CoralogixAttributes.SEVERITY],d=!1,p=(0,a.getSnapshotManager)(),f=p.fragmentsState,h=p.updateSnapshot,m=p.currentSnapshot,g=p.isSnapshotSentDueToRecording,v=m.timestamp,y=m.actionCount,E=m.errorCount,S=t[i.CoralogixAttributes.PAGE_CONTEXT];return S&&!f.has(S.page_fragments)&&(f.add(S.page_fragments),h({timestamp:(0,l.getNowTime)(),viewCount:f.size}),d=!0),c===u.CoralogixLogSeverity.Error&&(h({timestamp:(0,l.getNowTime)(),errorCount:E+1}),d=!0),null!=(e=(0,a.getSessionRecorder)())&&e.getSessionHasRecording()&&!g&&(h({timestamp:(0,l.getNowTime)(),hasRecording:!0}),(0,a.getSnapshotManager)().isSnapshotSentDueToRecording=!0,d=!0),o===s.CoralogixEventType.DOM&&(h({timestamp:(0,l.getNowTime)()}),d=!0),n-v>=l.millisecondsPerMinute&&(h({timestamp:(0,l.getNowTime)()}),d=!0),o===s.CoralogixEventType.USER_INTERACTION&&h({actionCount:y+1}),d},t}();e.CoralogixSnapshotSpanProcessor=p},3183:(t,e,r)=>{"use strict";e.__esModule=!0,e.CoralogixSpanAttributesProcessor=void 0,r(3105),r(3439);var n=r(4720),o=r(7494),i=function(){function t(t){var e;this.labels=((e={})[n.CoralogixAttributes.CUSTOM_LABELS]="{}",e),t&&(this.labels=t)}var e=t.prototype;return e.setCustomLabels=function(t){this.labels[n.CoralogixAttributes.CUSTOM_LABELS]=JSON.stringify(null!=t?t:{})},e.setInternalLabels=function(t){var e;this.labels=Object.assign(((e={})[n.CoralogixAttributes.CUSTOM_LABELS]=this.labels[n.CoralogixAttributes.CUSTOM_LABELS],e),t?this.stringifyValues(t):{})},e.getLabels=function(){return JSON.parse(JSON.stringify(this.labels))},e.getCustomLabels=function(){return JSON.parse(this.labels[n.CoralogixAttributes.CUSTOM_LABELS])},e.getInternalLabels=function(){var t=Object.assign({},this.labels);return delete t[n.CoralogixAttributes.CUSTOM_LABELS],t},e.getUserContext=function(){var t=this.labels[n.CoralogixAttributes.USER_CONTEXT];return t?JSON.parse(""+t):void 0},e.forceFlush=function(){return Promise.resolve()},e.onStart=function(t){t.setAttribute(n.CoralogixAttributes.TIMESTAMP,(0,o.getNowTime)()),t.setAttribute(n.CoralogixAttributes.USER_AGENT,navigator.userAgent),t.setAttributes(this.labels)},e.onEnd=function(){},e.shutdown=function(){return Promise.resolve()},e.stringifyValues=function(t){var e={};for(var r in t)e[r]="string"==typeof t[r]?t[r]:JSON.stringify(t[r]);return e},t}();e.CoralogixSpanAttributesProcessor=i},8792:(t,e,r)=>{"use strict";r(8233),r(7950),r(634);var n=r(4859);e.__esModule=!0,e.CoralogixSpanMapProcessor=void 0,r(3439),r(3105),r(5735),r(6886);var o=r(7421),i=r(4720),s=r(7001),a=r(5241),u=r(7410),c=n(r(9180)),l=r(371),d=r(1344),p=r(1393),f=r(6011),h=r(7784),m=r(7494);function g(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y=function(){function t(){this.sdkConfig=(0,d.getSdkConfig)(),this.isActive=!0}var e=t.prototype;return e.onEnd=function(t){var e;if(!(0,h.isProcessorShouldStop)(this.isActive)){var r=(0,d.getSessionManager)(),n=r.onlySessionWithErrorMode,o=r.getPrevSession,a=r.getSession,u=r.setSession,c=a()||u(),l=!(null==(e=(0,d.getSessionRecorder)())||!e.getSessionHasRecording()),m=this._mapToCxSpan(t,c,o(),l,n);if(!(0,p.shouldDropEvent)(m.text.cx_rum,this.sdkConfig)){var g=(0,f.processBeforeSend)(m,this.sdkConfig);if(g){var v=g.severity===s.CoralogixLogSeverity.Error,y=(0,d.getSessionManager)().sessionHasError;n&&(v||y)&&((0,d.getSessionManager)().sessionHasError=!0,g.text.cx_rum.session_context.hasError=!0),t[i.CX_MAPPED_SPAN]=g}}}},e.onStart=function(){},e.shutdown=function(){return this.isActive=!1,Promise.resolve()},e.forceFlush=function(){return Promise.resolve(void 0)},e._mapToCxSpan=function(t,e,r,n,c){var l,d,p=e||{},f=p.sessionId,h=p.sessionCreationDate,g=r||{},v=g.sessionId,y=g.sessionCreationDate,E=g.hasRecording,S=t.attributes,T=t.startTime,_=t.parentSpanId,b=t.name,I=t.endTime,C=t.status,R=t.duration,N=t.kind,A=JSON.parse(S[i.CoralogixAttributes.USER_CONTEXT]),O=JSON.parse(S[i.CoralogixAttributes.APPLICATION_CONTEXT]),w=O.application,M=O.version,x=S[i.CoralogixAttributes.EVENT_TYPE]||t[i.CoralogixAttributes.EVENT_TYPE],L=this._getEventTypeContext(S,x,t),D=t.spanContext(),P=D.spanId,k=D.traceId,U=Object.assign({},null==(l=t.resource)?void 0:l.attributes,{"service.name":w}),F=JSON.parse(S[i.CoralogixAttributes.CUSTOM_LABELS]),B=!(null==L||null==(d=L.error_context)||!d.original_stacktrace),j={app_name:w,app_version:M},G=(null==S?void 0:S[i.CoralogixAttributes.SEVERITY])||s.CoralogixLogSeverity.Info,W=S[i.CoralogixAttributes.TIMESTAMP]||(0,m.getNowTime)();W<h&&(W=(0,m.getNowTime)());var V={version_metadata:j,applicationName:w,subsystemName:"cx_rum",isErrorWithStacktrace:B,severity:G,timestamp:W,text:{cx_rum:Object.assign({platform:"browser",timestamp:W},L,{browser_sdk:{version:a.SDK_VERSION},version_metadata:j,session_context:Object.assign({},A,{session_id:f,session_creation_date:h,prev_session:v?{session_id:v,session_creation_date:y,hasRecording:E}:void 0,hasRecording:n,user_agent:S[i.CoralogixAttributes.USER_AGENT]},(0,u.parseUserAgent)(S[i.CoralogixAttributes.USER_AGENT]),{onlyWithErrorMode:c}),page_context:t[i.CoralogixAttributes.PAGE_CONTEXT],isNavigationEvent:!!t[i.CoralogixAttributes.IS_NAVIGATION_EVENT],event_context:{type:x,source:S[i.CoralogixAttributes.SOURCE],severity:G},labels:F,spanId:P,traceId:k,environment:S[i.CoralogixAttributes.ENVIRONMENT]||""})}};return x===o.CoralogixEventType.NETWORK_REQUEST&&(V.instrumentation_data={otelSpan:{spanId:P,traceId:k,parentSpanId:_,name:b,attributes:(0,u.flattenAttributes)(S),startTime:T,endTime:I,status:C,kind:N,duration:R},otelResource:{attributes:U}}),this.resolveContextFromSpan(V,t,x),V.text.cx_rum.labels=this.resolveLabels(V.text.cx_rum),V},e.resolveContextFromSpan=function(t,e,r){switch(r){case o.CoralogixEventType.CUSTOM_MEASUREMENT:t.text.cx_rum.custom_measurement_context=e[i.CoralogixAttributes.CUSTOM_MEASUREMENT_CONTEXT];break;case o.CoralogixEventType.MEMORY_USAGE:t.text.cx_rum.memory_usage_context=e[i.CoralogixAttributes.MEMORY_USAGE_CONTEXT]}},e._getEventTypeContext=function(t,e,r){switch(e){case o.CoralogixEventType.ERROR:var n,s=t[i.CoralogixAttributes.ERROR.MESSAGE],a=void 0;if(t[i.CoralogixAttributes.ERROR.STACK])a=null==(n=c.default.parse({stack:t[i.CoralogixAttributes.ERROR.STACK],message:s,name:""}))?void 0:n.map((function(t){return{fileName:t.fileName,columnNumber:t.columnNumber,lineNumber:t.lineNumber,functionName:t.functionName}}));return{error_context:{error_type:t[i.CoralogixAttributes.ERROR.TYPE],error_message:s,original_stacktrace:a}};case o.CoralogixEventType.NETWORK_REQUEST:var d,p=t[o.OtelNetworkAttrs.URL],f=(0,u.applyUrlBluePrinters)({url:p,blueprinters:null==(d=this.sdkConfig.urlBlueprinters)?void 0:d.networkUrlBlueprinters});return{network_request_context:{method:t[o.OtelNetworkAttrs.METHOD],status_code:t[o.OtelNetworkAttrs.STATUS_CODE],url:p,url_blueprint:f,fragments:(0,u.getUrlFragments)(f),host:t[o.OtelNetworkAttrs.HOST],schema:t[o.OtelNetworkAttrs.SCHEME],status_text:t[o.OtelNetworkAttrs.STATUS_TEXT],duration:(0,u.hrTimeToMilliseconds)(null==r?void 0:r.duration),response_content_length:t[o.OtelNetworkAttrs.RESPONSE_CONTENT_LENGTH]}};case o.CoralogixEventType.LOG:if(t[i.CoralogixAttributes.LOG]){var h=JSON.parse(t[i.CoralogixAttributes.LOG]);return{log_context:{message:h.message,data:null==h?void 0:h.data}}}return{log_context:{message:""}};case o.CoralogixEventType.INTERNAL:var m=JSON.parse(t[i.CoralogixAttributes.INTERNAL])||{};return{internal_context:{event:m.event,data:m.data}};case o.CoralogixEventType.USER_INTERACTION:return{interaction_context:{target_element:t[i.CoralogixAttributes.TARGET_ELEMENT],event_name:t[i.CoralogixAttributes.INTERACTION_EVENT_NAME],target_element_inner_text:t[i.CoralogixAttributes.ELEMENT_INNER_TEXT],element_id:t[i.CoralogixAttributes.ELEMENT_ID],element_classes:t[i.CoralogixAttributes.ELEMENT_CLASSES],target_element_type:t[i.CoralogixAttributes.TARGET_ELEMENT_TYPE]}};case o.CoralogixEventType.WEB_VITALS:return{web_vitals_context:JSON.parse(t[l.WEB_VITALS_INSTRUMENTATION_NAME])};case o.CoralogixEventType.LONG_TASK:return{longtask_context:JSON.parse(t[o.CoralogixEventType.LONG_TASK])};case o.CoralogixEventType.RESOURCES:return{resource_context:JSON.parse(t[l.RESOURCES_INSTRUMENTATION_NAME])}}return{}},e.resolveLabels=function(t){var e,r=t.labels,n=null==(e=this.sdkConfig)?void 0:e.labelProviders;if(null!=n&&n.length){var o,s=(0,u.getInternalRumData)(i.PAGE_URL_LABEL_PROVIDERS_KEY),a=(0,u.getInternalRumData)(i.NETWORK_URL_LABEL_PROVIDERS_KEY),c=null==(o=t.network_request_context)?void 0:o.fragments,l=Object.assign({},this.getLabelsByLabelProviders(s,t,t.page_context.page_fragments),c?this.getLabelsByLabelProviders(a,t,c):{});r=Object.assign({},r,l)}return r},e.getLabelsByLabelProviders=function(t,e,r){for(var n,o={},i=(0,u.deepClone)(e),s=g(t);!(n=s()).done;){var a=n.value;o=Object.assign({},o,a.providerFunc(r,i))}return o},t}();e.CoralogixSpanMapProcessor=y},7784:(t,e,r)=>{"use strict";e.__esModule=!0,e.isProcessorShouldStop=function(t){var e;return!t||!(null==(e=(0,n.getSessionManager)())||!e.isIdleActive)};var n=r(1344)},9313:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.handlePropagators=function(t,e){return p.apply(this,arguments)};var o=n(r(7162)),i=n(r(5929));r(3439);var s=r(7421),a=r(2521),u=r(3739),c=r(15),l=r(6810),d=r(3499);function p(){return(p=(0,i.default)(o.default.mark((function t(e,r){var n,i,s,a,u,p,h,m;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=(n=e.traceParentInHeader)&&n.enabled&&(s=[],a=(null==(i=e.traceParentInHeader)?void 0:i.options)||{},u=a.propagateB3TraceHeader,(p=a.propagateAwsXrayTraceHeader)||u||(s=[].concat(s,[new c.W3CBaggagePropagator,new c.W3CTraceContextPropagator])),p&&s.push(new d.AWSXRayPropagator),u&&(h=u.singleHeader,m=u.multiHeader,h&&s.push(new l.B3Propagator),m&&s.push(new l.B3Propagator({injectEncoding:l.B3InjectEncoding.MULTI_HEADER}))),r.register({propagator:new f(e,new c.CompositePropagator({propagators:s}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f=function(){function t(t,e){this.config=t,this.internalPropagator=e}var e=t.prototype;return e.extract=function(t,e,r){return this.internalPropagator.extract(t,e,r)},e.fields=function(){return this.internalPropagator.fields()},e.inject=function(t,e,r){var n,o=null==(n=this.config.traceParentInHeader)||null==(n=n.options)?void 0:n.allowedTracingUrls;if(o){var i=a.trace.getSpan(t).attributes[s.OtelNetworkAttrs.URL];(0,u.isPatternMatch)(i,o,"allowedTracingUrls")&&this.internalPropagator.inject(t,e,r)}else this.internalPropagator.inject(t,e,r)},t}()},7427:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.SessionIdle=void 0;var o=n(r(695)),i=r(7518),s=function(){function t(t){var e=this;this.idleConfig=t,this._isIdleActive=!1,this.stopCallbacks={},this.resetTimeout=function(){null==e.stopCallbacks.clearTimeout||e.stopCallbacks.clearTimeout();var t=setTimeout((function(){e._isIdleActive=!0,e.idleConfig.onIdle()}),e.idleConfig.timeoutDelay);e.stopCallbacks.clearTimeout=function(){return clearTimeout(t)}},this.idlenessEventsHandler=function(){e._isIdleActive&&(e._isIdleActive=!1,e.idleConfig.onActive()),e.resetTimeout()}}var e=t.prototype;return e.startIdleListener=function(){this.resetTimeout(),this.trackActivity()},e.stopIdleListener=function(){Object.values(this.stopCallbacks).forEach((function(t){return t()}))},e.trackActivity=function(){var t,e;null==(t=(e=this.stopCallbacks).removeActivityListeners)||t.call(e);var r=(0,i.addEventListeners)(window,[i.DOM_EVENT.TOUCH_START,i.DOM_EVENT.KEY_DOWN,i.DOM_EVENT.MOUSE_MOVE],this.idlenessEventsHandler,{capture:!0,passive:!0}).stop;this.stopCallbacks.removeActivityListeners=r},(0,o.default)(t,[{key:"isIdleActive",get:function(){return this._isIdleActive}}]),t}();e.SessionIdle=s},207:(t,e,r)=>{"use strict";e.__esModule=!0,e.SESSION_RECORDING_POSTFIX_URL=e.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE=e.SESSION_RECORDING_DEFAULT_HEADERS=e.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE=e.SESSION_RECORDER_SEGMENTS_MAP=e.SESSION_RECORDER_KEY=e.SESSION_MANAGER_KEY=e.SESSION_KEY=e.SESSION_IDLE_TIME=e.SESSION_EXPIRATION_TIME=e.PREV_SESSION_KEY=e.MAX_MUTATIONS_FOR_SESSION_RECORDING=e.MAX_BATCH_TIME_MS=e.DEFAULT_SESSION_CONFIG=e.BATCH_TIME_DELAY=void 0;var n=r(7494);e.MAX_BATCH_TIME_MS=1e4;e.SESSION_RECORDING_DEFAULT_HEADERS={"Content-Encoding":"gzip"};e.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE="Coralogix Browser SDK - Recording is not supported on this platform";e.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE="Coralogix Browser SDK - Error while sending record";e.BATCH_TIME_DELAY=1e3;e.SESSION_RECORDING_POSTFIX_URL="/browser/alpha/sessionrecording";e.SESSION_KEY="rum_session";e.PREV_SESSION_KEY="rum_prev_session";e.MAX_MUTATIONS_FOR_SESSION_RECORDING=5e3;e.DEFAULT_SESSION_CONFIG={sessionSampleRate:100,onlyWithErrorConfig:{enable:!1}};var o=15*n.millisecondsPerMinute;e.SESSION_IDLE_TIME=o;var i=n.MILLISECONDS_PER_HOUR;e.SESSION_EXPIRATION_TIME=i;e.SESSION_MANAGER_KEY="rumSessionManager";e.SESSION_RECORDER_KEY="rumSessionRecorder";e.SESSION_RECORDER_SEGMENTS_MAP="rumSessionRecorderSegmentsMap"},3744:(t,e,r)=>{"use strict";e.__esModule=!0,e.isSamplingOn=function(t){return t>0&&100*Math.random()<=t},e.isSessionWithError=void 0,e.resolveSessionConfig=function(t){var e;if(!t)return n.DEFAULT_SESSION_CONFIG;return Object.assign({},t,{sessionSampleRate:null!=(e=t.sessionSampleRate)?e:100,onlyWithErrorConfig:a(t.onlyWithErrorConfig)})},e.resolveSessionRecordingConfig=function(t){var e;return t?Object.assign({},t,{sessionRecordingSampleRate:null!=(e=t.sessionRecordingSampleRate)?e:100}):void 0},r(3105);var n=r(207),o=r(7421),i=r(9703),s=r(1344);function a(t){var e,r,n,s;return t?Object.assign({},t,{maxRumEvents:(s=t.maxRumEvents,s?s>i.MAX_RUM_EVENTS?i.MAX_RUM_EVENTS:s:i.DEFAULT_RUM_EVENTS),maxRecordTime:(n=t.maxRecordTime,n?n>i.MAX_MS_RECORD_TIME?i.MAX_MS_RECORD_TIME:n:i.DEFAULT_MS_RECORD_TIME),instrumentationsToSend:null!=(e=t.instrumentationsToSend)?e:(r={},r[o.CoralogixEventType.WEB_VITALS]=!0,r)}):{enable:!1}}e.isSessionWithError=function(){var t=(0,s.getSessionManager)(),e=t.onlySessionWithErrorMode,r=t.cachedLogsSent;return e&&!r}},8634:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.SessionManager=void 0,r(3105);var o=n(r(695)),i=n(r(8223)),s=r(3938),a=r(1344),u=r(207),c=r(3744),l=r(7410),d=r(7427),p=r(7494),f=function(t){function e(e){var r;return(r=t.call(this,{timeoutDelay:u.SESSION_IDLE_TIME,onIdle:function(){return r.clearSessionWhenIdle()},onActive:function(){return r.setSession(!0)}})||this)._sessionConfig=(0,a.getSdkConfig)().sessionConfig,r.sessionRecorder=void 0,r.activeSession=void 0,r.sessionRecorderConfig=void 0,r._sessionHasError=!1,r._cachedLogsSent=!1,r._currentPageFragment=void 0,r._currentPageTimestamp=(0,p.getNowTime)(),r.getPrevSession=function(){return JSON.parse(window.sessionStorage.getItem(u.PREV_SESSION_KEY))},r.getSession=function(){var t,e=JSON.parse(window.sessionStorage.getItem(u.SESSION_KEY)),n=(0,p.getNowTime)();return e&&(e.sessionExpirationDate>n?t=e:(r.clearSessionWhenIdle(),t=r.setSession(!0))),t},r.setSession=function(t){var e,n;void 0===t&&(t=!1),(null==(e=r._sessionConfig)?void 0:e.keepSessionAfterReload)?r.handleRefreshedSessions():r.createNewSession(),window.sessionStorage.setItem(u.SESSION_KEY,JSON.stringify(r.activeSession));var o,i=(0,a.getSessionRecorder)();(t&&!(null==i||!i.recordingStopDueToTimeout)&&!(null==(n=r.sessionRecorderConfig)||!n.enable)||null!=i&&i.getIsAutoStartRecording())&&(null==(o=r.sessionRecorder)||o.startRecording());return r.activeSession},r.initializeSession(e),r}(0,i.default)(e,t);var r=e.prototype;return r.updateCurrentPage=function(t){this.isIdleActive?this._currentPageFragment=void 0:(this._currentPageFragment=t,this._currentPageTimestamp=(0,p.getNowTime)())},r.getSessionKey=function(){return u.SESSION_KEY},r.getActiveSession=function(){return this.activeSession},r.start=function(){this.startIdleListener(),this.clearPrevSession(),this.setSession()},r.stop=function(){this.stopIdleListener()},r.initializeSession=function(t){(window[u.SESSION_MANAGER_KEY]=this,this.sessionRecorderConfig=t,null!=t&&t.enable)&&((0,c.isSamplingOn)(t.sessionRecordingSampleRate)?this.sessionRecorder=new s.SessionRecorder(this,t):(0,a.getSdkConfig)().debug&&console.debug("Coralogix Browser SDK - Session recording is disabled"))},r.clearSessionWhenIdle=function(){var t;null!=(t=this.sessionRecorder)&&t.getSessionHasRecording()&&(this.sessionRecorder.recordingStopDueToTimeout=!0),this.clearSession()},r.clearPrevSession=function(){window.sessionStorage.removeItem(u.PREV_SESSION_KEY)},r.clearSession=function(){var t,e,r;window.sessionStorage.setItem(u.PREV_SESSION_KEY,JSON.stringify(Object.assign({},this.activeSession,{hasRecording:null==(t=this.sessionRecorder)?void 0:t.getSessionHasRecording()}))),this.clearSessionWithErrorMode(),null==(e=(0,a.getSnapshotManager)())||e.resetSnapshot(),this._currentPageFragment=void 0,null==(r=this.sessionRecorder)||r.stopRecording(),window.sessionStorage.removeItem(u.SESSION_KEY)},r.clearSessionWithErrorMode=function(){this.sessionHasError=!1,this.cachedLogsSent=!1},r.handleRefreshedSessions=function(){this.activeSession=this.getSession();var t,e=JSON.parse(window.sessionStorage.getItem(u.SESSION_RECORDER_SEGMENTS_MAP)||"{}");this.activeSession?null==(t=(0,a.getSessionRecorder)())||t.updateSegmentIndexCounter(e):this.createNewSession()},r.createNewSession=function(){var t=(0,p.getNowTime)();this.activeSession={sessionId:(0,l.generateUUID)(),sessionCreationDate:t,sessionExpirationDate:t+u.SESSION_EXPIRATION_TIME}},(0,o.default)(e,[{key:"currentPageTimestamp",get:function(){return this._currentPageTimestamp}},{key:"currentPageFragment",get:function(){return this._currentPageFragment}},{key:"sessionConfig",get:function(){return this._sessionConfig}},{key:"onlySessionWithErrorMode",get:function(){return this._sessionConfig.onlyWithErrorConfig.enable}},{key:"maxRumEventsForSessionWithError",get:function(){return this._sessionConfig.onlyWithErrorConfig.maxRumEvents||0}},{key:"maxRecordTimeForSessionWithError",get:function(){return this._sessionConfig.onlyWithErrorConfig.maxRecordTime||0}},{key:"instrumentationsToSend",get:function(){return this._sessionConfig.onlyWithErrorConfig.instrumentationsToSend}},{key:"cachedLogsSent",get:function(){return this._cachedLogsSent},set:function(t){this._cachedLogsSent=t}},{key:"sessionHasError",get:function(){return this._sessionHasError},set:function(t){this._sessionHasError=t}}]),e}(d.SessionIdle);e.SessionManager=f},3938:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.SessionRecorder=void 0;var o=n(r(7162));r(3439),r(8233),r(5735),r(6886),r(4121),r(523),r(3105);var i=n(r(5929)),s=n(r(695)),a=r(5349),u=r(207),c=r(1344),l=r(1545),d=r(4625),p=r(1262),f=r(1436),h=r(6522),m=r(7494),g=function(){function t(t,e){var r,n=this;this.sessionWorker=void 0,this.isAutoStartRecording=!1,this.maxMutations=void 0,this.onlySessionWithErrorMode=!1,this.maxRecordTimeForSessionWithError=void 0,this.recordEvents=[],this.recordEventsForSessionWithError=[[],[]],this.recordRef=void 0,this.recordConfig=void 0,this.segmentIndexCounter={},this.sessionManager=void 0,this.hasRecording=!1,this.recordingStopped=!1,this.batchingTimeInterval=void 0,this.batchTimeDelay=u.BATCH_TIME_DELAY,this.batchTimeout=void 0,this.isErrorOccurred=!1,this.debugMode=!(null==(r=(0,c.getSdkConfig)())||!r.debug),this._recordingStopDueToTimeout=!1,this.mutationObserver=void 0,this.request=void 0,this.handleRecordEvent=function(t,e){n.recordingStopped||(n.onlySessionWithErrorMode?n.handleRecordEventForSessionWithError(t,e):n.recordEvents.push(t))},this.prepareRecordEventsBeforeSend=function(){if(n.onlySessionWithErrorMode)n.prepareRecordEventsForSessionWithError();else{if(!n.recordEvents.length)return;n.compressRecordData(n.recordEvents),n.resetBatching()}},this.sendRecordEvents=function(t,e,r,s,a,l){var d,p=new FormData,f=(0,c.getSdkConfig)().application;n.segmentIndexCounter[t]||(n.segmentIndexCounter[t]=0),d=l?s===a?n.segmentIndexCounter[t]++:n.segmentIndexCounter[t]:n.segmentIndexCounter[t]++,sessionStorage.setItem(u.SESSION_RECORDER_SEGMENTS_MAP,JSON.stringify(n.segmentIndexCounter));var h={segmentIndex:d,segmentSize:r.size,segmentTimestamp:(0,m.getNowTime)(),sessionCreationTime:e,sessionId:t,application:f,subIndex:null!=s?s:-1};p.append("chunk",r),p.append("metaData",JSON.stringify(h));var g=function(){var t=(0,i.default)(o.default.mark((function t(){var e,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.isErrorOccurred){t.next=7;break}return t.next=4,null==(e=n.request)?void 0:e.send(p);case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0=void 0;case 8:r=t.t0,n.handleSessionRecordingResponse(r),t.next=15;break;case 12:t.prev=12,t.t1=t.catch(0),n.handleSessionRecordingResponse(void 0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();l?(n.batchTimeout=setTimeout(g,n.batchTimeDelay),n.batchTimeDelay+=u.BATCH_TIME_DELAY):(g(),n.batchTimeDelay=u.BATCH_TIME_DELAY)},window[u.SESSION_RECORDER_KEY]=this,this.sessionManager=t;var s=t.onlySessionWithErrorMode,a=t.maxRecordTimeForSessionWithError,d=e.maxMutations,p=e.autoStartSessionRecording;if(this.onlySessionWithErrorMode=s,this.maxRecordTimeForSessionWithError=a,this.isAutoStartRecording=p,this.maxMutations=null!=d?d:u.MAX_MUTATIONS_FOR_SESSION_RECORDING,this.recordConfig=this.prepareRecordConfig(e),window.Worker)try{var h="("+l.getWorkerString.toString()+")()",g=URL.createObjectURL(new Blob([h]));this.sessionWorker=new Worker(g),this.isAutoStartRecording&&this.startRecording(),this.request=new f.Request({suffix:u.SESSION_RECORDING_POSTFIX_URL,headers:u.SESSION_RECORDING_DEFAULT_HEADERS}),this.registerToWorkerMessages()}catch(v){this.debugMode&&console.warn("Coralogix Browser SDK - Web worker not created due to: ",v)}else this.debugMode&&console.warn(u.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE)}var e=t.prototype;return e.getSessionHasRecording=function(){var t;return this.hasRecording&&!!this.segmentIndexCounter[null==(t=this.sessionManager.getActiveSession())?void 0:t.sessionId]},e.updateSegmentIndexCounter=function(t){this.segmentIndexCounter=t},e.getIsAutoStartRecording=function(){return this.isAutoStartRecording},e.startRecording=function(){this.sessionWorker&&!this.recordRef&&(this.debugMode&&console.log("Coralogix Browser SDK - Session recording started"),this.startMutationObserver(),this.resetBatching(),this.hasRecording=!0,this.recordingStopped=!1,this.isErrorOccurred=!1,this.recordingStopDueToTimeout=!1,this.recordRef=(0,d.record)(this.recordConfig),this.startBatchingRecords())},e.stopRecording=function(){this.recordRef&&(this.debugMode&&console.log("Coralogix Browser SDK - Session recording stopped"),this.recordRef(),this.recordRef=void 0,this.recordingStopped=!0,this.hasRecording=!1,this.prepareRecordEventsBeforeSend(),this.clearIntervals(),this.stopMutationObserver())},e.stopMutationObserver=function(){var t;null==(t=this.mutationObserver)||t.disconnect()},e.startMutationObserver=function(){var t=this;this.stopMutationObserver(),this.mutationObserver=new MutationObserver((function(e){if(e.length>t.maxMutations){var r="Coralogix Browser SDK - Recording stopped due to too many mutations "+e.length;console.warn(r),(0,p.reportInternalEvent)("recording-stop",r),t.stopRecording()}})),this.mutationObserver.observe(document,{attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0})},e.clearIntervals=function(){this.batchingTimeInterval&&clearInterval(this.batchingTimeInterval)},e.prepareRecordConfig=function(t){var e,r=t||{},n=r.excludeDOMOptions,o=r.recordConsoleEvents;return this.recordConfig=Object.assign({},t,{emit:this.handleRecordEvent,checkoutEveryNms:this.onlySessionWithErrorMode?this.maxRecordTimeForSessionWithError:void 0,slimDOMOptions:Object.assign({},n,{script:null==(e=null==n?void 0:n.script)||e}),plugins:o?[(0,h.getRecordConsolePlugin)()]:[]}),this.recordConfig},e.handleRecordEventForSessionWithError=function(t,e){if(!(this.sessionManager.sessionHasError&&!!e&&t.type===a.EventType.FullSnapshot)){!!e&&t.type===a.EventType.Meta&&this.recordEventsForSessionWithError.push([]);var r=this.recordEventsForSessionWithError;r[r.length-1].push(t)}},e.prepareRecordEventsForSessionWithError=function(){var t=this.recordEventsForSessionWithError,e=t.length,r=t[e-2],n=t[e-1];if(this.sessionManager.sessionHasError){var o=r.concat(n);if(!o.length)return;this.compressRecordData(o),this.resetBatching()}else this.recordEventsForSessionWithError=[r,n]},e.compressRecordData=function(t){var e=this.sessionManager.getActiveSession()||{},r=e.sessionId,n=e.sessionCreationDate;this.sessionWorker.postMessage({event:"compressRecordData",records:t,sessionId:r,sessionCreationDate:n})},e.registerToWorkerMessages=function(){var t=this;this.sessionWorker.onmessage=function(e){var r=e.data;switch(r.event){case"sendRecordData":t.sendRecordEvents(r.sessionId,r.sessionCreationDate,r.gzipBlob);break;case"splitRecordData":t.sendRecordEvents(r.sessionId,r.sessionCreationDate,r.gzipBlob,r.chunkIndex,r.totalChunks,!0);break;case"stopRecording":t.stopRecording()}}},e.resetBatching=function(){this.onlySessionWithErrorMode?this.recordEventsForSessionWithError=[[],[]]:this.recordEvents=[]},e.handleSessionRecordingResponse=function(t){null!=t&&t.ok||this.isErrorOccurred?this.isErrorOccurred=!1:(console.warn(u.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE),this.isErrorOccurred=!0,this.stopRecording(),this.batchTimeout&&clearTimeout(this.batchTimeout))},e.startBatchingRecords=function(){this.batchingTimeInterval=setInterval(this.prepareRecordEventsBeforeSend,u.MAX_BATCH_TIME_MS)},(0,s.default)(t,[{key:"recordingStopDueToTimeout",get:function(){return this._recordingStopDueToTimeout},set:function(t){this._recordingStopDueToTimeout=t}}]),t}();e.SessionRecorder=g},9703:(t,e,r)=>{"use strict";e.__esModule=!0,e.MAX_RUM_EVENTS_PER_REQUEST=e.MAX_RUM_EVENTS=e.MAX_MS_RECORD_TIME=e.DEFAULT_SESSION_WITH_ERROR_CONFIG=e.DEFAULT_RUM_EVENTS=e.DEFAULT_MS_RECORD_TIME=void 0;var n,o=r(7421);e.MAX_RUM_EVENTS_PER_REQUEST=500;e.MAX_RUM_EVENTS=2e4;e.MAX_MS_RECORD_TIME=6e4;e.DEFAULT_RUM_EVENTS=5e3;e.DEFAULT_MS_RECORD_TIME=1e4;var i={enable:!0,maxRumEvents:5e3,maxRecordTime:1e4,instrumentationsToSend:(n={},n[o.CoralogixEventType.WEB_VITALS]=!0,n)};e.DEFAULT_SESSION_WITH_ERROR_CONFIG=i},1310:(t,e)=>{"use strict";e.__esModule=!0,e.SNAPSHOT_MANAGER_KEY=e.INITIAL_SNAPSHOT_CONTEXT=void 0;e.SNAPSHOT_MANAGER_KEY="rumSnapshotManager";e.INITIAL_SNAPSHOT_CONTEXT={errorCount:0,viewCount:0,actionCount:0,hasRecording:!1}},7277:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.SnapshotManager=void 0,r(3105),r(5735),r(6886);var o=n(r(695)),i=r(1310),s=r(7494),a=function(){function t(){var t=this;this._currentSnapshot=void 0,this._fragmentsState=void 0,this._isSnapshotSentDueToRecording=void 0,this.updateSnapshot=function(e){t._currentSnapshot=Object.assign({},t._currentSnapshot,e)},this.resetSnapshot=function(){t._currentSnapshot=Object.assign({},i.INITIAL_SNAPSHOT_CONTEXT,{timestamp:(0,s.getNowTime)()}),t._fragmentsState=new Set,t._isSnapshotSentDueToRecording=!1},window[i.SNAPSHOT_MANAGER_KEY]=this,this.resetSnapshot()}return(0,o.default)(t,[{key:"fragmentsState",get:function(){return this._fragmentsState}},{key:"currentSnapshot",get:function(){return this._currentSnapshot}},{key:"isSnapshotSentDueToRecording",get:function(){return this._isSnapshotSentDueToRecording},set:function(t){this._isSnapshotSentDueToRecording=t}}]),t}();e.SnapshotManager=a},7518:(t,e,r)=>{"use strict";e.__esModule=!0,e.DOM_EVENT=void 0,e.addEventListener=function(t,e,r,n){return i(t,[e],r,n)},e.addEventListeners=i;var n=r(1374),o=function(t){return t.CLICK="click",t.KEY_DOWN="keydown",t.TOUCH_START="touchstart",t.INPUT="input",t.MOUSE_MOVE="mousemove",t}({});function i(t,e,r,o){var i=void 0===o?{}:o,s=i.once,a=i.capture,u=i.passive,c=s?function(t){p(),r(t)}:r,l=u?{capture:a,passive:u}:a,d=(0,n.getZoneJsOriginalDom)(t,"addEventListener");function p(){var r=(0,n.getZoneJsOriginalDom)(t,"removeEventListener");e.forEach((function(e){return r.call(t,e,c,l)}))}return e.forEach((function(e){return d.call(t,e,c,l)})),{stop:p}}e.DOM_EVENT=o},5040:(t,e,r)=>{"use strict";e.__esModule=!0,e.getGlobalObject=function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;delete Object.prototype._dd_temp_,"object"!=typeof t&&(t="object"==typeof self?self:"object"==typeof window?window:{});return t},r(6481)},1374:(t,e,r)=>{"use strict";e.__esModule=!0,e.getZoneJsOriginalDom=function(t,e){var r,o=(0,n.getGlobalObject)();o.Zone&&"function"==typeof o.Zone.__symbol__&&(r=t[o.Zone.__symbol__(e)]);r||(r=t[e]);return r};var n=r(5040)},3960:(t,e,r)=>{"use strict";var n;r(634),r(5735),r(6886),r(3439),r(9529),r(1235),r(3430);var o="undefined"!=typeof window?window:{},i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)};function s(){s=function(){},o.Symbol||(o.Symbol=u)}var a=0;function u(t){return"jscomp_symbol_"+(t||"")+a++}function c(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(t){var e=0;return function(t){return c(),t={next:t},t[o.Symbol.iterator]=function(){return this},t}((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))}function d(t){c();var e=t[Symbol.iterator];return e?e.call(t):l(t)}function p(t){if(!(t instanceof Array)){t=d(t);for(var e,r=[];!(e=t.next()).done;)r.push(e.value);t=r}return t}var f=0;var h="img script iframe link audio video source".split(" ");function m(t,e){for(var r=(t=d(t)).next();!r.done;r=t.next())if(r=r.value,e.includes(r.nodeName.toLowerCase())||m(r.children,e))return!0;return!1}function g(t,e){if(2<t.length)return performance.now();for(var r=[],n=(e=d(e)).next();!n.done;n=e.next())n=n.value,r.push({timestamp:n.start,type:"requestStart"}),r.push({timestamp:n.end,type:"requestEnd"});for(n=(e=d(t)).next();!n.done;n=e.next())r.push({timestamp:n.value,type:"requestStart"});for(r.sort((function(t,e){return t.timestamp-e.timestamp})),t=t.length,e=r.length-1;0<=e;e--)switch(n=r[e],n.type){case"requestStart":t--;break;case"requestEnd":if(2<++t)return n.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function v(t){t=t||{},this.w=!!t.useMutationObserver,this.u=t.minValue||null,t=window.__tti&&window.__tti.e;var e=window.__tti&&window.__tti.o;this.a=t?t.map((function(t){return{start:t.startTime,end:t.startTime+t.duration}})):[],e&&e.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(t,e){var r=XMLHttpRequest.prototype.send,n=f++;XMLHttpRequest.prototype.send=function(o){for(var i=[],s=0;s<arguments.length;++s)i[s-0]=arguments[s];var a=this;return t(n),this.addEventListener("readystatechange",(function(){4===a.readyState&&e(n)})),r.apply(this,i)}}(this.m.bind(this),this.l.bind(this)),function(t,e){var r=fetch;fetch=function(n){for(var o=[],i=0;i<arguments.length;++i)o[i-0]=arguments[i];return new Promise((function(n,i){var s=f++;t(s),r.apply(null,[].concat(p(o))).then((function(t){e(s),n(t)}),(function(t){e(t),i(t)}))}))}}(this.m.bind(this),this.l.bind(this)),function(t){t.c=new PerformanceObserver((function(e){for(var r=(e=d(e.getEntries())).next();!r.done;r=e.next())if("resource"===(r=r.value).entryType&&(t.b.push({start:r.fetchStart,end:r.responseEnd}),E(t,g(t.g,t.b)+5e3)),"longtask"===r.entryType){var n=r.startTime+r.duration;t.a.push({start:r.startTime,end:n}),E(t,n+5e3)}})),t.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(t){var e=new MutationObserver((function(e){for(var r=(e=d(e)).next();!r.done;r=e.next())("childList"==(r=r.value).type&&m(r.addedNodes,h)||"attributes"==r.type&&h.includes(r.target.tagName.toLowerCase()))&&t(r)}));return e.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),e}(this.B.bind(this)))}function y(t){t.i=!0;var e=0<t.a.length?t.a[t.a.length-1].end:0,r=g(t.g,t.b);E(t,Math.max(r+5e3,e))}function E(t,e){!t.i||t.v>e||(clearTimeout(t.j),t.j=setTimeout((function(){var e=performance.timing.navigationStart,r=g(t.g,t.b);e=(window.a&&window.a.A?1e3*window.a.A().C-e:0)||performance.timing.domContentLoadedEventEnd-e;if(t.u)var n=t.u;else performance.timing.domContentLoadedEventEnd?n=(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:n=null;var o=performance.now();null===n&&E(t,Math.max(r+5e3,o+1e3));var i=t.a;5e3>o-r?r=null:r=5e3>o-(r=i.length?i[i.length-1].end:e)?null:Math.max(r,n),r&&(t.s(r),clearTimeout(t.j),t.i=!1,t.c&&t.c.disconnect(),t.h&&t.h.disconnect()),E(t,performance.now()+1e3)}),e-performance.now()),t.v=e)}v.prototype.getFirstConsistentlyInteractive=function(){var t=this;return new Promise((function(e){t.s=e,"complete"==document.readyState?y(t):window.addEventListener("load",(function(){y(t)}))}))},v.prototype.m=function(t){this.f.set(t,performance.now())},v.prototype.l=function(t){this.f.delete(t)},v.prototype.B=function(){E(this,performance.now()+5e3)},o.Object.defineProperties(v.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(p(this.f.values()))}}});var S={getFirstConsistentlyInteractive:function(t){return t=t||{},"PerformanceLongTaskTiming"in window?new v(t).getFirstConsistentlyInteractive():Promise.resolve(null)}};t.exports?t.exports=S:void 0===(n=(function(){return S}).apply(e,[]))||(t.exports=n)},7001:(t,e)=>{"use strict";e.__esModule=!0,e.CoralogixLogSeverity=void 0;var r=function(t){return t[t.Debug=1]="Debug",t[t.Verbose=2]="Verbose",t[t.Info=3]="Info",t[t.Warn=4]="Warn",t[t.Error=5]="Error",t[t.Critical=6]="Critical",t}({});e.CoralogixLogSeverity=r},7421:(t,e)=>{"use strict";e.__esModule=!0,e.UrlType=e.PerformanceTypes=e.OtelNetworkAttrs=e.CoralogixEventType=void 0;var r=function(t){return t.ERROR="error",t.NETWORK_REQUEST="network-request",t.LOG="log",t.USER_INTERACTION="user-interaction",t.WEB_VITALS="web-vitals",t.LONG_TASK="longtask",t.RESOURCES="resources",t.INTERNAL="internal",t.DOM="dom",t.CUSTOM_MEASUREMENT="custom-measurement",t.MEMORY_USAGE="memory-usage",t}({});e.CoralogixEventType=r;var n=function(t){return t.Resource="resource",t.LongTask="longtask",t.Navigation="navigation",t.SoftNavigation="soft-navigation",t}({});e.PerformanceTypes=n;var o=function(t){return t.METHOD="http.method",t.URL="http.url",t.STATUS_CODE="http.status_code",t.HOST="http.host",t.SCHEME="http.scheme",t.STATUS_TEXT="http.status_text",t.RESPONSE_CONTENT_LENGTH="http.response_content_length",t}({});e.OtelNetworkAttrs=o;var i=function(t){return t.PAGE="page",t.NETWORK_REQUEST="network_request",t}({});e.UrlType=i},8141:(t,e,r)=>{"use strict";r(8233),r(634),e.__esModule=!0,e.applyUrlBluePrinters=h,e.calculateTotalBlockingTime=function(t){return t.reduce((function(t,e){return t+=e.duration-i.LONGTASK_DURATION}),0)},e.deepClone=function(t){return JSON.parse(JSON.stringify(t))},e.flattenAttributes=function(t){for(var e=JSON.parse(t[o.CoralogixAttributes.CUSTOM_LABELS]),r=(0,a.omit)(t,o.CoralogixAttributes.CUSTOM_LABELS),n=0,i=Object.entries(e);n<i.length;n++){var s=i[n],u=s[0],c=s[1];r[u]="string"!=typeof c?JSON.stringify(c):c}return r},e.generateWebVitalUniqueID=function(){return"v3-"+(0,u.getNowTime)()+"-"+(Math.floor(8999999999999*Math.random())+1e12)},e.getCircularReplacer=void 0,e.getInstrumentationConfig=function(t,e,r){if(!1===t)return t;if(void 0===t&&r)return!1;if(!1===(null==t?void 0:t.enabled))return!1;return Object.assign({},e,t)},e.isNetworkError=e.hrTimeToMilliseconds=e.getUrlFragments=void 0,e.parseUserAgent=function(t){for(var e="Unknown",r="Unknown",n="Unknown",o="Unknown",i="Desktop",s=0,a=Object.entries({Chrome:/Chrome\/([\d.]+)/,Firefox:/Firefox\/([\d.]+)/,Safari:/Version\/([\d.]+).*Safari/,Edge:/Edge\/([\d.]+)/,Opera:/Opera\/([\d.]+)/,IE:/Trident.*rv:([\d.]+)/});s<a.length;s++){var u=a[s],c=u[0],l=u[1],d=t.match(l);if(d){e=c,r=d[1]||"Unknown";break}}for(var p=0,f=Object.entries({Windows:/Windows NT ([\d.]+)/,MacOS:/Mac OS X ([\d._]+)/,Linux:/Linux(?: ([\d.]+))?/,iOS:/CPU(?: iPhone)? OS (\d+([._]\d+)*)/,Android:/Android (\d+([._]\d+)*)/});p<f.length;p++){var h=f[p],m=h[0],g=h[1],v=t.match(g);if(v){var y;n=m,o=(null==(y=v[1])||null==(y=y.split("_"))?void 0:y.join("."))||"Unknown";break}}for(var E=0,S=Object.entries({Mobile:/Mobile|Android|iPhone|iPod|BlackBerry|IEMobile|Windows Phone|webOS|Opera Mini/,Tablet:/Tablet|iPad/});E<S.length;E++){var T=S[E],_=T[0],b=T[1];if(t.match(b)){i=_;break}}return{browser:e,browserVersion:r,os:n,osVersion:o,device:i}},e.partition=function(t,e){for(var r,n=[],o=[],i=c(t);!(r=i()).done;){var s=r.value;e(s)?n.push(s):o.push(s)}return[n,o]},e.rateForTBTMetricValue=function(t){switch(!0){case t>600:return"poor";case t>200&&t<=600:return"needs-improvement";default:return"good"}},e.replacePatternsInUrl=function(t){for(var e,r=t.patterns,n=t.url,o=c(r);!(e=o()).done;){var i=e.value,s=i.pattern,a=i.replacement;n=n.replace(s,a)}return n},e.resolvePageContext=function(t){var e,r=h({url:t,blueprinters:null==(e=(0,s.getSdkConfig)().urlBlueprinters)?void 0:e.pageUrlBlueprinters}),n=f(r);return{page_url:t.slice(0,o.MAX_CHARACTERS),page_url_blueprint:r,page_fragments:n,referrer:document.referrer}},e.supportedPerformanceTypes=void 0,e.valueEndWithOrInclude=function(t,e){return e.some((function(e){return t.endsWith(e)||t.includes(e)}))},r(5735),r(6886),r(671),r(6708),r(9529),r(1235),r(3105),r(7950),r(8319),r(4112),r(4121),r(523),r(4069),r(5940);var n,o=r(4720),i=r(371),s=r(1344),a=r(9083),u=r(7494);function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=new Set,p=null!=(n=window)&&null!=(n=n.PerformanceObserver)&&n.supportedEntryTypes?window.PerformanceObserver.supportedEntryTypes.reduce((function(t,e){return t.add(e),t}),d):d;e.supportedPerformanceTypes=p;e.hrTimeToMilliseconds=function(t){var e=t[0],r=t[1];return 1e3*e+Math.round(r/1e6)};e.isNetworkError=function(t){return!!t&&t>=400};var f=function(t){var e,r;if(!t)return"";var n=(null==(e=t.split(o.PROTOCOL_SEPARATOR))?void 0:e[1])||t,i=null==(r=n.split(o.BASE_PATH))?void 0:r[1];if(null!=i&&i.startsWith(o.HASH_SEPARATOR)){var s=n.split(o.HASH_SEPARATOR)[1].split(o.PARAMS_SEPARATOR)[0].split(o.BASE_PATH);return s.length&&s.shift(),s.join(o.BASE_PATH)||o.BASE_PATH}try{return new URL(t).pathname.substring(1)||o.BASE_PATH}catch(a){return console.warn("Coralogix Browser SDK - Error parsing URL",a),t}};e.getUrlFragments=f;function h(t){var e=t.url,r=t.blueprinters,n=e;return null==r||r.forEach((function(t){return n=t(n)})),n}e.getCircularReplacer=function(){var t=new WeakSet;return function(e,r){if("object"==typeof r&&null!==r){if(t.has(r))return;t.add(r)}return r}}},3282:(t,e,r)=>{"use strict";e.__esModule=!0,e.coerceArray=function(t){return(0,n.isNil)(t)?[]:t instanceof Set?[].concat(t):Array.isArray(t)?t:[t]},r(5735),r(6886);var n=r(49)},49:(t,e)=>{"use strict";e.__esModule=!0,e.isNil=function(t){return null==t}},7410:(t,e,r)=>{"use strict";e.__esModule=!0;var n=r(228);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||(e[t]=n[t]))}));var o=r(4556);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||(e[t]=o[t]))}));var i=r(8141);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||(e[t]=i[t]))}))},4556:(t,e,r)=>{"use strict";e.__esModule=!0,e.getInternalRumData=function(t){var e;return null==(e=window[n.RUM_INTERNAL_DATA_KEY])?void 0:e[t]},e.saveInternalRumData=function(t,e){window[n.RUM_INTERNAL_DATA_KEY]||(window[n.RUM_INTERNAL_DATA_KEY]={});window[n.RUM_INTERNAL_DATA_KEY][t]=e};var n=r(4720)},9083:(t,e,r)=>{"use strict";var n=r(4859);e.__esModule=!0,e.isEmpty=c,e.isNotEmpty=function(t){return!c(t)},e.isObject=u,e.omit=function(t){void 0===t&&(t={});if((0,i.isNil)(t))return{};for(var e=function t(e,r){var n,i=r[0],s=r.slice(1);if(!e.hasOwnProperty(i))return e;if(!s.length){e[i];return(0,o.default)(e,[i].map(a))}return Object.assign({},e,((n={})[i]=t(e[i],s),n))},r=arguments.length,n=new Array(r>1?r-1:0),u=1;u<r;u++)n[u-1]=arguments[u];return(0,s.coerceArray)(n).reduce((function(t,r){return e(t,r.split("."))}),t)},e.pick=function(t){void 0===t&&(t={});for(var e=function t(e,r){var n,o=r[0],i=r.slice(1);if(e.hasOwnProperty(o)){var s;if(!i.length)return(s={})[o]=e[o],s;var a=t(e[o],i);if(void 0!==a)return(n={})[o]=a,n}},r={},n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(0,s.coerceArray)(o).forEach((function(n){r=Object.assign({},r,e(t,n.split(".")))})),r},r(3105),r(671),r(5735),r(6886),r(634);var o=n(r(8283)),i=r(49),s=r(3282);function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function u(t){return"object"==typeof t}function c(t){return!!(0,i.isNil)(t)||(t instanceof Set||t instanceof Map?0===t.size:Array.isArray(t)||"string"==typeof t?0===t.length:!!u(t)&&0===Object.keys(t).length)}},3739:(t,e,r)=>{"use strict";e.__esModule=!0,e.isPatternMatch=function(t,e,r){return e.some((function(e){return e instanceof RegExp?e.test(t):"string"==typeof e?(e=e.toLowerCase()).includes(t.toLowerCase()):(r&&console.warn("Coralogix Browser SDK - "+r+" must be from type string | Regex"),!1)}))},r(7368),r(7950),r(8233),r(9529),r(1235)},228:(t,e,r)=>{"use strict";function n(t){return"string"==typeof t}function o(t,e,r){return void 0===r&&(r=!1),!!n(t)&&(function(t){return t instanceof RegExp}(e)?e.test(t):!!n(e)&&(r?t===e:t.includes(e)))}e.__esModule=!0,e.generateUUID=function t(e){return e?(+e^16*Math.random()>>+e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)},e.isMatchingPattern=o,e.stringMatchesSomePattern=function(t,e,r){void 0===e&&(e=[]);void 0===r&&(r=!1);return e.some((function(e){return o(t,e,r)}))},r(7368),r(7950),r(8233),r(9529),r(1235),r(5940)},7494:(t,e)=>{"use strict";e.__esModule=!0,e.MILLISECONDS_PER_HOUR=void 0,e.getNowTime=function(){return(new Date).getTime()},e.millisecondsPerSecond=e.millisecondsPerMinute=void 0;e.millisecondsPerSecond=1e3;e.millisecondsPerMinute=6e4;e.MILLISECONDS_PER_HOUR=36e5},5241:(t,e)=>{"use strict";e.__esModule=!0,e.SDK_VERSION=void 0;e.SDK_VERSION="1.2.29"},1545:(t,e)=>{"use strict";e.__esModule=!0,e.getWorkerString=function(){var t=this,e=1048576,r="Coralogix Browser SDK - Error from session recording worker:\n";try{importScripts("https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako_deflate.es5.min.js")}catch(o){return console.warn(r,o),void self.postMessage({event:"stopRecording"})}function n(t,e,r,n,o,i){void 0===i&&(i="sendRecordData");var s=new Blob([r],{type:"application/octet-stream"});self.postMessage({sessionId:t,sessionCreationDate:e,gzipBlob:s,chunkIndex:n,totalChunks:o,event:i})}self.onmessage=function(r){var o=r.data,i=JSON.stringify(o.records).slice(1,-1),s=o.sessionId,a=o.sessionCreationDate,u=t.pako.gzip(i),c=u.byteLength;if(c>=e)for(var l=Math.ceil(c/e),d=0;d<l;d++){var p=d*e,f=(d+1)*e;n(s,a,u.slice(p,f),d,l-1,"splitRecordData")}else n(s,a,u)},self.onerror=function(t){console.warn(r,t),self.postMessage({event:"stopRecording"})}}},7111:(t,e,r)=>{"use strict";var n=r(6733),o=r(9821),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},7988:(t,e,r)=>{"use strict";var n=r(2359),o=r(9821),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a constructor")}},8505:(t,e,r)=>{"use strict";var n=r(6733),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},9736:(t,e,r)=>{"use strict";var n=r(95),o=r(2391),i=r(1787).f,s=n("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},6637:(t,e,r)=>{"use strict";var n=r(966).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},7728:(t,e,r)=>{"use strict";var n=r(1321),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw o("Incorrect invocation")}},1176:(t,e,r)=>{"use strict";var n=r(5052),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},507:(t,e,r)=>{"use strict";var n=r(7636),o=r(266),i=r(2991),s=r(4960),a=r(1943),u=r(2359),c=r(9646),l=r(2324),d=r(8403),p=r(8830),f=Array;t.exports=function(t){var e=i(t),r=u(this),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,h>2?arguments[2]:void 0));var v,y,E,S,T,_,b=p(e),I=0;if(!b||this===f&&a(b))for(v=c(e),y=r?new this(v):f(v);v>I;I++)_=g?m(e[I],I):e[I],l(y,I,_);else for(T=(S=d(e,b)).next,y=r?new this:[];!(E=o(T,S)).done;I++)_=g?s(S,m,[E.value,I],!0):E.value,l(y,I,_);return y.length=I,y}},9540:(t,e,r)=>{"use strict";var n=r(905),o=r(3231),i=r(9646),s=function(t){return function(e,r,s){var a,u=n(e),c=i(u),l=o(s,c);if(t&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},6038:(t,e,r)=>{"use strict";var n=r(4229);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},3143:(t,e,r)=>{"use strict";var n=r(7111),o=r(2991),i=r(9337),s=r(9646),a=TypeError,u=function(t){return function(e,r,u,c){n(r);var l=o(e),d=i(l),p=s(l),f=t?p-1:0,h=t?-1:1;if(u<2)for(;;){if(f in d){c=d[f],f+=h;break}if(f+=h,t?f<0:p<=f)throw a("Reduce of empty array with no initial value")}for(;t?f>=0:p>f;f+=h)f in d&&(c=r(c,d[f],f,l));return c}};t.exports={left:u(!1),right:u(!0)}},9794:(t,e,r)=>{"use strict";var n=r(3231),o=r(9646),i=r(2324),s=Array,a=Math.max;t.exports=function(t,e,r){for(var u=o(t),c=n(e,u),l=n(void 0===r?u:r,u),d=s(a(l-c,0)),p=0;c<l;c++,p++)i(d,p,t[c]);return d.length=p,d}},1909:(t,e,r)=>{"use strict";var n=r(5968);t.exports=n([].slice)},3867:(t,e,r)=>{"use strict";var n=r(9794),o=Math.floor,i=function(t,e){var r=t.length,u=o(r/2);return r<8?s(t,e):a(t,i(n(t,0,u),e),i(n(t,u),e),e)},s=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},a=function(t,e,r,n){for(var o=e.length,i=r.length,s=0,a=0;s<o||a<i;)t[s+a]=s<o&&a<i?n(e[s],r[a])<=0?e[s++]:r[a++]:s<o?e[s++]:r[a++];return t};t.exports=i},4960:(t,e,r)=>{"use strict";var n=r(1176),o=r(7281);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(s){o(t,"throw",s)}}},4575:(t,e,r)=>{"use strict";var n=r(95)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(a){}return r}},7079:(t,e,r)=>{"use strict";var n=r(5968),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},1589:(t,e,r)=>{"use strict";var n=r(1601),o=r(6733),i=r(7079),s=r(95)("toStringTag"),a=Object,u="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=a(t),s))?r:u?i(e):"Object"==(n=i(e))&&o(e.callee)?"Arguments":n}},7081:(t,e,r)=>{"use strict";var n=r(8270),o=r(4826),i=r(7933),s=r(1787);t.exports=function(t,e,r){for(var a=o(e),u=s.f,c=i.f,l=0;l<a.length;l++){var d=a[l];n(t,d)||r&&n(r,d)||u(t,d,c(e,d))}}},8127:(t,e,r)=>{"use strict";var n=r(95)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(o){}}return!1}},7528:(t,e,r)=>{"use strict";var n=r(4229);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},3684:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},5762:(t,e,r)=>{"use strict";var n=r(7400),o=r(1787),i=r(5358);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},5358:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2324:(t,e,r)=>{"use strict";var n=r(9310),o=r(1787),i=r(5358);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r}},6616:(t,e,r)=>{"use strict";var n=r(6039),o=r(1787);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},4768:(t,e,r)=>{"use strict";var n=r(6733),o=r(1787),i=r(6039),s=r(8400);t.exports=function(t,e,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(n(r)&&i(r,c,a),a.global)u?t[e]=r:s(e,r);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(l){}u?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},8312:(t,e,r)=>{"use strict";var n=r(4768);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},8400:(t,e,r)=>{"use strict";var n=r(9859),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9563:(t,e,r)=>{"use strict";var n=r(9821),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+n(e)+" of "+n(t))}},7400:(t,e,r)=>{"use strict";var n=r(4229);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3777:t=>{"use strict";var e="object"==typeof document&&document.all,r=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},2635:(t,e,r)=>{"use strict";var n=r(9859),o=r(5052),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},5694:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8865:(t,e,r)=>{"use strict";var n=r(2635)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},2671:(t,e,r)=>{"use strict";var n=r(598).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},8639:(t,e,r)=>{"use strict";var n=r(5189),o=r(8801);t.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},5189:t=>{"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},8506:(t,e,r)=>{"use strict";var n=r(598);t.exports=/MSIE|Trident/.test(n)},8983:(t,e,r)=>{"use strict";var n=r(598);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},2023:(t,e,r)=>{"use strict";var n=r(598);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},8801:(t,e,r)=>{"use strict";var n=r(7079);t.exports="undefined"!=typeof process&&"process"==n(process)},263:(t,e,r)=>{"use strict";var n=r(598);t.exports=/web0s(?!.*chrome)/i.test(n)},598:t=>{"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6358:(t,e,r)=>{"use strict";var n,o,i=r(9859),s=r(598),a=i.process,u=i.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},9811:(t,e,r)=>{"use strict";var n=r(598).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},3837:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(t,e,r)=>{"use strict";var n=r(9859),o=r(7933).f,i=r(5762),s=r(4768),a=r(8400),u=r(7081),c=r(6541);t.exports=function(t,e){var r,l,d,p,f,h=t.target,m=t.global,g=t.stat;if(r=m?n:g?n[h]||a(h,{}):(n[h]||{}).prototype)for(l in e){if(p=e[l],d=t.dontCallGetSet?(f=o(r,l))&&f.value:r[l],!c(m?l:h+(g?".":"#")+l,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),s(r,l,p,t)}}},4229:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},4954:(t,e,r)=>{"use strict";r(7950);var n=r(4745),o=r(4768),i=r(3466),s=r(4229),a=r(95),u=r(5762),c=a("species"),l=RegExp.prototype;t.exports=function(t,e,r,d){var p=a(t),f=!s((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=f&&!s((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!f||!h||r){var m=n(/./[p]),g=e(p,""[t],(function(t,e,r,o,s){var a=n(t),u=e.exec;return u===i||u===l.exec?f&&!s?{done:!0,value:m(e,r,o)}:{done:!0,value:a(r,e,o)}:{done:!1}}));o(String.prototype,t,g[0]),o(l,p,g[1])}d&&u(l[p],"sham",!0)}},3171:(t,e,r)=>{"use strict";var n=r(7188),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},7636:(t,e,r)=>{"use strict";var n=r(4745),o=r(7111),i=r(7188),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},7188:(t,e,r)=>{"use strict";var n=r(4229);t.exports=!n((function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},266:(t,e,r)=>{"use strict";var n=r(7188),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},1805:(t,e,r)=>{"use strict";var n=r(7400),o=r(8270),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),u=a&&"something"===(function(){}).name,c=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},3411:(t,e,r)=>{"use strict";var n=r(5968),o=r(7111);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(i){}}},4745:(t,e,r)=>{"use strict";var n=r(7079),o=r(5968);t.exports=function(t){if("Function"===n(t))return o(t)}},5968:(t,e,r)=>{"use strict";var n=r(7188),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);t.exports=n?s:function(t){return function(){return i.apply(t,arguments)}}},1333:(t,e,r)=>{"use strict";var n=r(9859),o=r(6733);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},8830:(t,e,r)=>{"use strict";var n=r(1589),o=r(5300),i=r(9650),s=r(5495),a=r(95)("iterator");t.exports=function(t){if(!i(t))return o(t,a)||o(t,"@@iterator")||s[n(t)]}},8403:(t,e,r)=>{"use strict";var n=r(266),o=r(7111),i=r(1176),s=r(9821),a=r(8830),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(o(r))return i(n(r,t));throw u(s(t)+" is not iterable")}},5300:(t,e,r)=>{"use strict";var n=r(7111),o=r(9650);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},17:(t,e,r)=>{"use strict";var n=r(5968),o=r(2991),i=Math.floor,s=n("".charAt),a=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,d,p){var f=r+t.length,h=n.length,m=l;return void 0!==d&&(d=o(d),m=c),a(p,m,(function(o,a){var c;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,f);case"<":c=d[u(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===n[p-1]?s(a,1):n[p-1]+s(a,1):o}c=n[l-1]}return void 0===c?"":c}))}},9859:function(t){"use strict";var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},8270:(t,e,r)=>{"use strict";var n=r(5968),o=r(2991),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},5977:t=>{"use strict";t.exports={}},4665:t=>{"use strict";t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(r){}}},8385:(t,e,r)=>{"use strict";var n=r(1333);t.exports=n("document","documentElement")},4394:(t,e,r)=>{"use strict";var n=r(7400),o=r(4229),i=r(2635);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},9337:(t,e,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(7079),s=Object,a=n("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a(t,""):s(t)}:s},835:(t,e,r)=>{"use strict";var n=r(6733),o=r(5052),i=r(6540);t.exports=function(t,e,r){var s,a;return i&&n(s=e.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(t,a),t}},8511:(t,e,r)=>{"use strict";var n=r(5968),o=r(6733),i=r(5353),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},6407:(t,e,r)=>{"use strict";var n,o,i,s=r(1180),a=r(9859),u=r(5052),c=r(5762),l=r(8270),d=r(5353),p=r(4399),f=r(5977),h="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||d.state){var v=d.state||(d.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw m(h);return e.facade=t,v.set(t,e),e},o=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var y=p("state");f[y]=!0,n=function(t,e){if(l(t,y))throw m(h);return e.facade=t,c(t,y,e),e},o=function(t){return l(t,y)?t[y]:{}},i=function(t){return l(t,y)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}}}},1943:(t,e,r)=>{"use strict";var n=r(95),o=r(5495),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},6733:(t,e,r)=>{"use strict";var n=r(3777),o=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},2359:(t,e,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(6733),s=r(1589),a=r(1333),u=r(8511),c=function(){},l=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),h=!p.exec(c),m=function(t){if(!i(t))return!1;try{return d(c,l,t),!0}catch(e){return!1}},g=function(t){if(!i(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(t))}catch(e){return!0}};g.sham=!0,t.exports=!d||o((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?g:m},6541:(t,e,r)=>{"use strict";var n=r(4229),o=r(6733),i=/#|\.prototype\./,s=function(t,e){var r=u[a(t)];return r==l||r!=c&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},9650:t=>{"use strict";t.exports=function(t){return null==t}},5052:(t,e,r)=>{"use strict";var n=r(6733),o=r(3777),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===i}:function(t){return"object"==typeof t?null!==t:n(t)}},4231:t=>{"use strict";t.exports=!1},8311:(t,e,r)=>{"use strict";var n=r(5052),o=r(7079),i=r(95)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},9395:(t,e,r)=>{"use strict";var n=r(1333),o=r(6733),i=r(1321),s=r(6969),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,a(t))}},9003:(t,e,r)=>{"use strict";var n=r(7636),o=r(266),i=r(1176),s=r(9821),a=r(1943),u=r(9646),c=r(1321),l=r(8403),d=r(8830),p=r(7281),f=TypeError,h=function(t,e){this.stopped=t,this.result=e},m=h.prototype;t.exports=function(t,e,r){var g,v,y,E,S,T,_,b=r&&r.that,I=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),R=!(!r||!r.IS_ITERATOR),N=!(!r||!r.INTERRUPTED),A=n(e,b),O=function(t){return g&&p(g,"normal",t),new h(!0,t)},w=function(t){return I?(i(t),N?A(t[0],t[1],O):A(t[0],t[1])):N?A(t,O):A(t)};if(C)g=t.iterator;else if(R)g=t;else{if(!(v=d(t)))throw f(s(t)+" is not iterable");if(a(v)){for(y=0,E=u(t);E>y;y++)if((S=w(t[y]))&&c(m,S))return S;return new h(!1)}g=l(t,v)}for(T=C?t.next:g.next;!(_=o(T,g)).done;){try{S=w(_.value)}catch(M){p(g,"throw",M)}if("object"==typeof S&&S&&c(m,S))return S}return new h(!1)}},7281:(t,e,r)=>{"use strict";var n=r(266),o=r(1176),i=r(5300);t.exports=function(t,e,r){var s,a;o(t);try{if(!(s=i(t,"return"))){if("throw"===e)throw r;return r}s=n(s,t)}catch(u){a=!0,s=u}if("throw"===e)throw r;if(a)throw s;return o(s),r}},2247:(t,e,r)=>{"use strict";var n=r(693).IteratorPrototype,o=r(2391),i=r(5358),s=r(4555),a=r(5495),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=o(n,{next:i(+!c,r)}),s(t,l,!1,!0),a[l]=u,t}},2707:(t,e,r)=>{"use strict";var n=r(3103),o=r(266),i=r(4231),s=r(1805),a=r(6733),u=r(2247),c=r(7567),l=r(6540),d=r(4555),p=r(5762),f=r(4768),h=r(95),m=r(5495),g=r(693),v=s.PROPER,y=s.CONFIGURABLE,E=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,T=h("iterator"),_="keys",b="values",I="entries",C=function(){return this};t.exports=function(t,e,r,s,h,g,R){u(r,e,s);var N,A,O,w=function(t){if(t===h&&P)return P;if(!S&&t in L)return L[t];switch(t){case _:case b:case I:return function(){return new r(this,t)}}return function(){return new r(this)}},M=e+" Iterator",x=!1,L=t.prototype,D=L[T]||L["@@iterator"]||h&&L[h],P=!S&&D||w(h),k="Array"==e&&L.entries||D;if(k&&(N=c(k.call(new t)))!==Object.prototype&&N.next&&(i||c(N)===E||(l?l(N,E):a(N[T])||f(N,T,C)),d(N,M,!0,!0),i&&(m[M]=C)),v&&h==b&&D&&D.name!==b&&(!i&&y?p(L,"name",b):(x=!0,P=function(){return o(D,this)})),h)if(A={values:w(b),keys:g?P:w(_),entries:w(I)},R)for(O in A)(S||x||!(O in L))&&f(L,O,A[O]);else n({target:e,proto:!0,forced:S||x},A);return i&&!R||L[T]===P||f(L,T,P,{name:h}),m[e]=P,A}},693:(t,e,r)=>{"use strict";var n,o,i,s=r(4229),a=r(6733),u=r(5052),c=r(2391),l=r(7567),d=r(4768),p=r(95),f=r(4231),h=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):m=!0),!u(n)||s((function(){var t={};return n[h].call(t)!==t}))?n={}:f&&(n=c(n)),a(n[h])||d(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},5495:t=>{"use strict";t.exports={}},9646:(t,e,r)=>{"use strict";var n=r(4237);t.exports=function(t){return n(t.length)}},6039:(t,e,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(6733),s=r(8270),a=r(7400),u=r(1805).CONFIGURABLE,c=r(8511),l=r(6407),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,m=n("".slice),g=n("".replace),v=n([].join),y=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),E=String(String).split("String"),S=t.exports=function(t,e,r){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(a?h(t,"name",{value:e,configurable:!0}):t.name=e),y&&r&&s(r,"arity")&&t.length!==r.arity&&h(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var n=d(t);return s(n,"source")||(n.source=v(E,"string"==typeof e?e:"")),t};Function.prototype.toString=S((function(){return i(this)&&p(this).source||c(this)}),"toString")},917:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},4794:(t,e,r)=>{"use strict";var n,o,i,s,a,u=r(9859),c=r(7636),l=r(7933).f,d=r(5795).set,p=r(3358),f=r(2023),h=r(8983),m=r(263),g=r(8801),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,E=u.process,S=u.Promise,T=l(u,"queueMicrotask"),_=T&&T.value;if(!_){var b=new p,I=function(){var t,e;for(g&&(t=E.domain)&&t.exit();e=b.get();)try{e()}catch(r){throw b.head&&n(),r}t&&t.enter()};f||g||m||!v||!y?!h&&S&&S.resolve?((s=S.resolve(void 0)).constructor=S,a=c(s.then,s),n=function(){a(I)}):g?n=function(){E.nextTick(I)}:(d=c(d,u),n=function(){d(I)}):(o=!0,i=y.createTextNode(""),new v(I).observe(i,{characterData:!0}),n=function(){i.data=o=!o}),_=function(t){b.head||n(),b.add(t)}}t.exports=_},6485:(t,e,r)=>{"use strict";var n=r(7111),o=TypeError,i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw o("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},7272:(t,e,r)=>{"use strict";var n=r(8311),o=TypeError;t.exports=function(t){if(n(t))throw o("The method doesn't accept regular expressions");return t}},47:(t,e,r)=>{"use strict";var n=r(7400),o=r(5968),i=r(266),s=r(4229),a=r(5632),u=r(894),c=r(9195),l=r(2991),d=r(9337),p=Object.assign,f=Object.defineProperty,h=o([].concat);t.exports=!p||s((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[r]||a(p({},e)).join("")!=o}))?function(t,e){for(var r=l(t),o=arguments.length,s=1,p=u.f,f=c.f;o>s;)for(var m,g=d(arguments[s++]),v=p?h(a(g),p(g)):a(g),y=v.length,E=0;y>E;)m=v[E++],n&&!i(f,g,m)||(r[m]=g[m]);return r}:p},2391:(t,e,r)=>{"use strict";var n,o=r(1176),i=r(219),s=r(3837),a=r(5977),u=r(8385),c=r(2635),l=r(4399),d="prototype",p="script",f=l("IE_PROTO"),h=function(){},m=function(t){return"<"+p+">"+t+"</"+p+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(i){}var t,e,r;v="undefined"!=typeof document?document.domain&&n?g(n):(e=c("iframe"),r="java"+p+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(n);for(var o=s.length;o--;)delete v[d][s[o]];return v()};a[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h[d]=o(t),r=new h,h[d]=null,r[f]=t):r=v(),void 0===e?r:i.f(r,e)}},219:(t,e,r)=>{"use strict";var n=r(7400),o=r(7137),i=r(1787),s=r(1176),a=r(905),u=r(5632);e.f=n&&!o?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),o=u(e),c=o.length,l=0;c>l;)i.f(t,r=o[l++],n[r]);return t}},1787:(t,e,r)=>{"use strict";var n=r(7400),o=r(4394),i=r(7137),s=r(1176),a=r(9310),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";e.f=n?i?function(t,e,r){if(s(t),e=a(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=l(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(s(t),e=a(e),s(r),o)try{return c(t,e,r)}catch(n){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},7933:(t,e,r)=>{"use strict";var n=r(7400),o=r(266),i=r(9195),s=r(5358),a=r(905),u=r(9310),c=r(8270),l=r(4394),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=a(t),e=u(e),l)try{return d(t,e)}catch(r){}if(c(t,e))return s(!o(i.f,t,e),t[e])}},8151:(t,e,r)=>{"use strict";var n=r(140),o=r(3837).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},894:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},7567:(t,e,r)=>{"use strict";var n=r(8270),o=r(6733),i=r(2991),s=r(4399),a=r(7528),u=s("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=i(t);if(n(e,u))return e[u];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},1321:(t,e,r)=>{"use strict";var n=r(5968);t.exports=n({}.isPrototypeOf)},140:(t,e,r)=>{"use strict";var n=r(5968),o=r(8270),i=r(905),s=r(9540).indexOf,a=r(5977),u=n([].push);t.exports=function(t,e){var r,n=i(t),c=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&u(l,r);for(;e.length>c;)o(n,r=e[c++])&&(~s(l,r)||u(l,r));return l}},5632:(t,e,r)=>{"use strict";var n=r(140),o=r(3837);t.exports=Object.keys||function(t){return n(t,o)}},9195:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},6540:(t,e,r)=>{"use strict";var n=r(3411),o=r(1176),i=r(8505);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(s){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2914:(t,e,r)=>{"use strict";var n=r(266),o=r(6733),i=r(5052),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&o(r=t.toString)&&!i(a=n(r,t)))return a;if(o(r=t.valueOf)&&!i(a=n(r,t)))return a;if("string"!==e&&o(r=t.toString)&&!i(a=n(r,t)))return a;throw s("Can't convert object to primitive value")}},4826:(t,e,r)=>{"use strict";var n=r(1333),o=r(5968),i=r(8151),s=r(894),a=r(1176),u=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=s.f;return r?u(e,r(t)):e}},4624:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},8321:(t,e,r)=>{"use strict";var n=r(9859),o=r(4473),i=r(6733),s=r(6541),a=r(8511),u=r(95),c=r(8639),l=r(5189),d=r(4231),p=r(6358),f=o&&o.prototype,h=u("species"),m=!1,g=i(n.PromiseRejectionEvent),v=s("Promise",(function(){var t=a(o),e=t!==String(o);if(!e&&66===p)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(t)){var r=new o((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(m=r.then((function(){}))instanceof n))return!0}return!e&&(c||l)&&!g}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},4473:(t,e,r)=>{"use strict";var n=r(9859);t.exports=n.Promise},7757:(t,e,r)=>{"use strict";var n=r(1176),o=r(5052),i=r(6485);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},6866:(t,e,r)=>{"use strict";var n=r(4473),o=r(4575),i=r(8321).CONSTRUCTOR;t.exports=i||!o((function(t){n.all(t).then(void 0,(function(){}))}))},6060:(t,e,r)=>{"use strict";var n=r(1787).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},3358:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},8115:(t,e,r)=>{"use strict";var n=r(266),o=r(1176),i=r(6733),s=r(7079),a=r(3466),u=TypeError;t.exports=function(t,e){var r=t.exec;if(i(r)){var c=n(r,t,e);return null!==c&&o(c),c}if("RegExp"===s(t))return n(a,t,e);throw u("RegExp#exec called on incompatible receiver")}},3466:(t,e,r)=>{"use strict";var n,o,i=r(266),s=r(5968),a=r(3326),u=r(895),c=r(5650),l=r(3036),d=r(2391),p=r(6407).get,f=r(2926),h=r(461),m=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=s("".charAt),E=s("".indexOf),S=s("".replace),T=s("".slice),_=(o=/b*/g,i(g,n=/a/,"a"),i(g,o,"a"),0!==n.lastIndex||0!==o.lastIndex),b=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(_||I||b||f||h)&&(v=function(t){var e,r,n,o,s,c,l,f=this,h=p(f),C=a(t),R=h.raw;if(R)return R.lastIndex=f.lastIndex,e=i(v,R,C),f.lastIndex=R.lastIndex,e;var N=h.groups,A=b&&f.sticky,O=i(u,f),w=f.source,M=0,x=C;if(A&&(O=S(O,"y",""),-1===E(O,"g")&&(O+="g"),x=T(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(C,f.lastIndex-1))&&(w="(?: "+w+")",x=" "+x,M++),r=new RegExp("^(?:"+w+")",O)),I&&(r=new RegExp("^"+w+"$(?!\\s)",O)),_&&(n=f.lastIndex),o=i(g,A?r:f,x),A?o?(o.input=T(o.input,M),o[0]=T(o[0],M),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:_&&o&&(f.lastIndex=f.global?o.index+o[0].length:n),I&&o&&o.length>1&&i(m,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&N)for(o.groups=c=d(null),s=0;s<N.length;s++)c[(l=N[s])[0]]=o[l[1]];return o}),t.exports=v},895:(t,e,r)=>{"use strict";var n=r(1176);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},3349:(t,e,r)=>{"use strict";var n=r(266),o=r(8270),i=r(1321),s=r(895),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||o(t,"flags")||!i(a,t)?e:n(s,t)}},5650:(t,e,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp,i=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},2926:(t,e,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},461:(t,e,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},8885:(t,e,r)=>{"use strict";var n=r(9650),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},1832:(t,e,r)=>{"use strict";var n=r(1333),o=r(6616),i=r(95),s=r(7400),a=i("species");t.exports=function(t){var e=n(t);s&&e&&!e[a]&&o(e,a,{configurable:!0,get:function(){return this}})}},4555:(t,e,r)=>{"use strict";var n=r(1787).f,o=r(8270),i=r(95)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},4399:(t,e,r)=>{"use strict";var n=r(3036),o=r(1441),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5353:(t,e,r)=>{"use strict";var n=r(9859),o=r(8400),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},3036:(t,e,r)=>{"use strict";var n=r(4231),o=r(5353);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:n?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7942:(t,e,r)=>{"use strict";var n=r(1176),o=r(7988),i=r(9650),s=r(95)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||i(r=n(a)[s])?e:o(r)}},966:(t,e,r)=>{"use strict";var n=r(5968),o=r(3329),i=r(3326),s=r(8885),a=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,d=i(s(e)),p=o(r),f=d.length;return p<0||p>=f?t?"":void 0:(n=u(d,p))<55296||n>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?t?a(d,p):n:t?c(d,p,p+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},7321:(t,e,r)=>{"use strict";var n=r(5968),o=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,c=n(s.exec),l=Math.floor,d=String.fromCharCode,p=n("".charCodeAt),f=n([].join),h=n([].push),m=n("".replace),g=n("".split),v=n("".toLowerCase),y=function(t){return t+22+75*(t<26)},E=function(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),n+=36;return l(n+36*t/(t+38))},S=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=p(t,r++);if(o>=55296&&o<=56319&&r<n){var i=p(t,r++);56320==(64512&i)?h(e,((1023&o)<<10)+(1023&i)+65536):(h(e,o),r--)}else h(e,o)}return e}(t);var r,n,i=t.length,s=128,c=0,m=72;for(r=0;r<t.length;r++)(n=t[r])<128&&h(e,d(n));var g=e.length,v=g;for(g&&h(e,"-");v<i;){var S=o;for(r=0;r<t.length;r++)(n=t[r])>=s&&n<S&&(S=n);var T=v+1;if(S-s>l((o-c)/T))throw u(a);for(c+=(S-s)*T,s=S,r=0;r<t.length;r++){if((n=t[r])<s&&++c>o)throw u(a);if(n==s){for(var _=c,b=36;;){var I=b<=m?1:b>=m+26?26:b-m;if(_<I)break;var C=_-I,R=36-I;h(e,d(y(I+C%R))),_=l(C/R),b+=36}h(e,d(y(_))),m=E(c,T,v==g),c=0,v++}}c++,s++}return f(e,"")};t.exports=function(t){var e,r,n=[],o=g(m(v(t),s,"."),".");for(e=0;e<o.length;e++)r=o[e],h(n,c(i,r)?"xn--"+S(r):r);return f(n,".")}},4860:(t,e,r)=>{"use strict";var n=r(6358),o=r(4229),i=r(9859).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},5795:(t,e,r)=>{"use strict";var n,o,i,s,a=r(9859),u=r(3171),c=r(7636),l=r(6733),d=r(8270),p=r(4229),f=r(8385),h=r(1909),m=r(2635),g=r(7579),v=r(2023),y=r(8801),E=a.setImmediate,S=a.clearImmediate,T=a.process,_=a.Dispatch,b=a.Function,I=a.MessageChannel,C=a.String,R=0,N={},A="onreadystatechange";p((function(){n=a.location}));var O=function(t){if(d(N,t)){var e=N[t];delete N[t],e()}},w=function(t){return function(){O(t)}},M=function(t){O(t.data)},x=function(t){a.postMessage(C(t),n.protocol+"//"+n.host)};E&&S||(E=function(t){g(arguments.length,1);var e=l(t)?t:b(t),r=h(arguments,1);return N[++R]=function(){u(e,void 0,r)},o(R),R},S=function(t){delete N[t]},y?o=function(t){T.nextTick(w(t))}:_&&_.now?o=function(t){_.now(w(t))}:I&&!v?(s=(i=new I).port2,i.port1.onmessage=M,o=c(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(x)?(o=x,a.addEventListener("message",M,!1)):o=A in m("script")?function(t){f.appendChild(m("script"))[A]=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(w(t),0)}),t.exports={set:E,clear:S}},3231:(t,e,r)=>{"use strict";var n=r(3329),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},905:(t,e,r)=>{"use strict";var n=r(9337),o=r(8885);t.exports=function(t){return n(o(t))}},3329:(t,e,r)=>{"use strict";var n=r(917);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},4237:(t,e,r)=>{"use strict";var n=r(3329),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},2991:(t,e,r)=>{"use strict";var n=r(8885),o=Object;t.exports=function(t){return o(n(t))}},2066:(t,e,r)=>{"use strict";var n=r(266),o=r(5052),i=r(9395),s=r(5300),a=r(2914),u=r(95),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,u=s(t,l);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},9310:(t,e,r)=>{"use strict";var n=r(2066),o=r(9395);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},1601:(t,e,r)=>{"use strict";var n={};n[r(95)("toStringTag")]="z",t.exports="[object z]"===String(n)},3326:(t,e,r)=>{"use strict";var n=r(1589),o=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},9821:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},1441:(t,e,r)=>{"use strict";var n=r(5968),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},4144:(t,e,r)=>{"use strict";var n=r(4229),o=r(95),i=r(7400),s=r(4231),a=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),s&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(s||!i)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},6969:(t,e,r)=>{"use strict";var n=r(4860);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7137:(t,e,r)=>{"use strict";var n=r(7400),o=r(4229);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7579:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},1180:(t,e,r)=>{"use strict";var n=r(9859),o=r(6733),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},95:(t,e,r)=>{"use strict";var n=r(9859),o=r(3036),i=r(8270),s=r(1441),a=r(4860),u=r(6969),c=n.Symbol,l=o("wks"),d=u?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return i(l,t)||(l[t]=a&&i(c,t)?c[t]:d("Symbol."+t)),l[t]}},9529:(t,e,r)=>{"use strict";var n=r(3103),o=r(9540).includes,i=r(4229),s=r(9736);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},5735:(t,e,r)=>{"use strict";var n=r(905),o=r(9736),i=r(5495),s=r(6407),a=r(1787).f,u=r(2707),c=r(3684),l=r(4231),d=r(7400),p="Array Iterator",f=s.set,h=s.getterFor(p);t.exports=u(Array,"Array",(function(t,e){f(this,{type:p,target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(g){}},671:(t,e,r)=>{"use strict";var n=r(3103),o=r(3143).left,i=r(6038),s=r(6358);n({target:"Array",proto:!0,forced:!r(8801)&&s>79&&s<83||!i("reduce")},{reduce:function(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0)}})},3430:(t,e,r)=>{"use strict";var n=r(3103),o=r(5968),i=r(7111),s=r(2991),a=r(9646),u=r(9563),c=r(3326),l=r(4229),d=r(3867),p=r(6038),f=r(2671),h=r(8506),m=r(6358),g=r(9811),v=[],y=o(v.sort),E=o(v.push),S=l((function(){v.sort(void 0)})),T=l((function(){v.sort(null)})),_=p("sort"),b=!l((function(){if(m)return m<70;if(!(f&&f>3)){if(h)return!0;if(g)return g<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:S||!T||!_||!b},{sort:function(t){void 0!==t&&i(t);var e=s(this);if(b)return void 0===t?y(e):y(e,t);var r,n,o=[],l=a(e);for(n=0;n<l;n++)n in e&&E(o,e[n]);for(d(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=a(o),n=0;n<r;)e[n]=o[n++];for(;n<l;)u(e,n++);return e}})},4173:(t,e,r)=>{"use strict";var n=r(3103),o=r(9859);n({global:!0,forced:o.globalThis!==o},{globalThis:o})},3105:(t,e,r)=>{"use strict";var n=r(3103),o=r(47);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},6032:(t,e,r)=>{"use strict";var n=r(3103),o=r(266),i=r(7111),s=r(6485),a=r(4624),u=r(9003);n({target:"Promise",stat:!0,forced:r(6866)},{all:function(t){var e=this,r=s.f(e),n=r.resolve,c=r.reject,l=a((function(){var r=i(e.resolve),s=[],a=0,l=1;u(t,(function(t){var i=a++,u=!1;l++,o(r,e,t).then((function(t){u||(u=!0,s[i]=t,--l||n(s))}),c)})),--l||n(s)}));return l.error&&c(l.value),r.promise}})},6135:(t,e,r)=>{"use strict";var n=r(3103),o=r(4231),i=r(8321).CONSTRUCTOR,s=r(4473),a=r(1333),u=r(6733),c=r(4768),l=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&u(s)){var d=a("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},6087:(t,e,r)=>{"use strict";var n,o,i,s=r(3103),a=r(4231),u=r(8801),c=r(9859),l=r(266),d=r(4768),p=r(6540),f=r(4555),h=r(1832),m=r(7111),g=r(6733),v=r(5052),y=r(7728),E=r(7942),S=r(5795).set,T=r(4794),_=r(4665),b=r(4624),I=r(3358),C=r(6407),R=r(4473),N=r(8321),A=r(6485),O="Promise",w=N.CONSTRUCTOR,M=N.REJECTION_EVENT,x=N.SUBCLASSING,L=C.getterFor(O),D=C.set,P=R&&R.prototype,k=R,U=P,F=c.TypeError,B=c.document,j=c.process,G=A.f,W=G,V=!!(B&&B.createEvent&&c.dispatchEvent),H="unhandledrejection",X=function(t){var e;return!(!v(t)||!g(e=t.then))&&e},Y=function(t,e){var r,n,o,i=e.value,s=1==e.state,a=s?t.ok:t.fail,u=t.resolve,c=t.reject,d=t.domain;try{a?(s||(2===e.rejection&&q(e),e.rejection=1),!0===a?r=i:(d&&d.enter(),r=a(i),d&&(d.exit(),o=!0)),r===t.promise?c(F("Promise-chain cycle")):(n=X(r))?l(n,r,u,c):u(r)):c(i)}catch(p){d&&!o&&d.exit(),c(p)}},K=function(t,e){t.notified||(t.notified=!0,T((function(){for(var r,n=t.reactions;r=n.get();)Y(r,t);t.notified=!1,e&&!t.rejection&&Z(t)})))},z=function(t,e,r){var n,o;V?((n=B.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!M&&(o=c["on"+t])?o(n):t===H&&_("Unhandled promise rejection",r)},Z=function(t){l(S,c,(function(){var e,r=t.facade,n=t.value;if(J(t)&&(e=b((function(){u?j.emit("unhandledRejection",n,r):z(H,r,n)})),t.rejection=u||J(t)?2:1,e.error))throw e.value}))},J=function(t){return 1!==t.rejection&&!t.parent},q=function(t){l(S,c,(function(){var e=t.facade;u?j.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)}))},Q=function(t,e,r){return function(n){t(e,n,r)}},$=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw F("Promise can't be resolved itself");var n=X(e);n?T((function(){var r={done:!1};try{l(n,e,Q(tt,r,t),Q($,r,t))}catch(o){$(r,o,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(o){$({done:!1},o,t)}}};if(w&&(U=(k=function(t){y(this,U),m(t),l(n,this);var e=L(this);try{t(Q(tt,e),Q($,e))}catch(r){$(e,r)}}).prototype,(n=function(t){D(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(U,"then",(function(t,e){var r=L(this),n=G(E(this,k));return r.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=u?j.domain:void 0,0==r.state?r.reactions.add(n):T((function(){Y(n,r)})),n.promise})),o=function(){var t=new n,e=L(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q($,e)},A.f=G=function(t){return t===k||undefined===t?new o(t):W(t)},!a&&g(R)&&P!==Object.prototype)){i=P.then,x||d(P,"then",(function(t,e){var r=this;return new k((function(t,e){l(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete P.constructor}catch(et){}p&&p(P,U)}s({global:!0,constructor:!0,wrap:!0,forced:w},{Promise:k}),f(k,O,!1,!0),h(O)},3439:(t,e,r)=>{"use strict";r(6087),r(6032),r(6135),r(6767),r(9320),r(2047)},6767:(t,e,r)=>{"use strict";var n=r(3103),o=r(266),i=r(7111),s=r(6485),a=r(4624),u=r(9003);n({target:"Promise",stat:!0,forced:r(6866)},{race:function(t){var e=this,r=s.f(e),n=r.reject,c=a((function(){var s=i(e.resolve);u(t,(function(t){o(s,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},9320:(t,e,r)=>{"use strict";var n=r(3103),o=r(266),i=r(6485);n({target:"Promise",stat:!0,forced:r(8321).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},2047:(t,e,r)=>{"use strict";var n=r(3103),o=r(1333),i=r(4231),s=r(4473),a=r(8321).CONSTRUCTOR,u=r(7757),c=o("Promise"),l=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(t){return u(l&&this===c?s:this,t)}})},7368:(t,e,r)=>{"use strict";var n=r(7400),o=r(9859),i=r(5968),s=r(6541),a=r(835),u=r(5762),c=r(8151).f,l=r(1321),d=r(8311),p=r(3326),f=r(3349),h=r(5650),m=r(6060),g=r(4768),v=r(4229),y=r(8270),E=r(6407).enforce,S=r(1832),T=r(95),_=r(2926),b=r(461),I=T("match"),C=o.RegExp,R=C.prototype,N=o.SyntaxError,A=i(R.exec),O=i("".charAt),w=i("".replace),M=i("".indexOf),x=i("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,P=/a/g,k=new C(D)!==D,U=h.MISSED_STICKY,F=h.UNSUPPORTED_Y,B=n&&(!k||U||_||b||v((function(){return P[I]=!1,C(D)!=D||C(P)==P||"/a/i"!=C(D,"i")})));if(s("RegExp",B)){for(var j=function(t,e){var r,n,o,i,s,c,h=l(R,this),m=d(t),g=void 0===e,v=[],S=t;if(!h&&m&&g&&t.constructor===j)return t;if((m||l(R,t))&&(t=t.source,g&&(e=f(S))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),S=t,_&&"dotAll"in D&&(n=!!e&&M(e,"s")>-1)&&(e=w(e,/s/g,"")),r=e,U&&"sticky"in D&&(o=!!e&&M(e,"y")>-1)&&F&&(e=w(e,/y/g,"")),b&&(i=function(t){for(var e,r=t.length,n=0,o="",i=[],s={},a=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(e=O(t,n)))e+=O(t,++n);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:A(L,x(t,n+1))&&(n+=2,u=!0),o+=e,c++;continue;case">"===e&&u:if(""===l||y(s,l))throw new N("Invalid capture group name");s[l]=!0,i[i.length]=[l,c],u=!1,l="";continue}u?l+=e:o+=e}return[o,i]}(t),t=i[0],v=i[1]),s=a(C(t,e),h?this:R,j),(n||o||v.length)&&(c=E(s),n&&(c.dotAll=!0,c.raw=j(function(t){for(var e,r=t.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(e=O(t,n))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+O(t,++n);return o}(t),r)),o&&(c.sticky=!0),v.length&&(c.groups=v)),t!==S)try{u(s,"source",""===S?"(?:)":S)}catch(T){}return s},G=c(C),W=0;G.length>W;)m(j,C,G[W++]);R.constructor=j,j.prototype=R,g(o,"RegExp",j,{constructor:!0})}S("RegExp")},7950:(t,e,r)=>{"use strict";var n=r(3103),o=r(3466);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},8233:(t,e,r)=>{"use strict";var n=r(1805).PROPER,o=r(4768),i=r(1176),s=r(3326),a=r(4229),u=r(3349),c="toString",l=RegExp.prototype[c],d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),p=n&&l.name!=c;(d||p)&&o(RegExp.prototype,c,(function(){var t=i(this);return"/"+s(t.source)+"/"+s(u(t))}),{unsafe:!0})},6708:(t,e,r)=>{"use strict";var n,o=r(3103),i=r(4745),s=r(7933).f,a=r(4237),u=r(3326),c=r(7272),l=r(8885),d=r(8127),p=r(4231),f=i("".endsWith),h=i("".slice),m=Math.min,g=d("endsWith");o({target:"String",proto:!0,forced:!!(p||g||(n=s(String.prototype,"endsWith"),!n||n.writable))&&!g},{endsWith:function(t){var e=u(l(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:m(a(r),n),i=u(t);return f?f(e,i,o):h(e,o-i.length,o)===i}})},1235:(t,e,r)=>{"use strict";var n=r(3103),o=r(5968),i=r(7272),s=r(8885),a=r(3326),u=r(8127),c=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(a(s(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},8673:(t,e,r)=>{"use strict";var n=r(966).charAt,o=r(3326),i=r(6407),s=r(2707),a=r(3684),u="String Iterator",c=i.set,l=i.getterFor(u);s(String,"String",(function(t){c(this,{type:u,string:o(t),index:0})}),(function(){var t,e=l(this),r=e.string,o=e.index;return o>=r.length?a(void 0,!0):(t=n(r,o),e.index+=t.length,a(t,!1))}))},4069:(t,e,r)=>{"use strict";var n=r(266),o=r(4954),i=r(1176),s=r(9650),a=r(4237),u=r(3326),c=r(8885),l=r(5300),d=r(6637),p=r(8115);o("match",(function(t,e,r){return[function(e){var r=c(this),o=s(e)?void 0:l(e,t);return o?n(o,e,r):new RegExp(e)[t](u(r))},function(t){var n=i(this),o=u(t),s=r(e,n,o);if(s.done)return s.value;if(!n.global)return p(n,o);var c=n.unicode;n.lastIndex=0;for(var l,f=[],h=0;null!==(l=p(n,o));){var m=u(l[0]);f[h]=m,""===m&&(n.lastIndex=d(o,a(n.lastIndex),c)),h++}return 0===h?null:f}]}))},5940:(t,e,r)=>{"use strict";var n=r(3171),o=r(266),i=r(5968),s=r(4954),a=r(4229),u=r(1176),c=r(6733),l=r(9650),d=r(3329),p=r(4237),f=r(3326),h=r(8885),m=r(6637),g=r(5300),v=r(17),y=r(8115),E=r(95)("replace"),S=Math.max,T=Math.min,_=i([].concat),b=i([].push),I=i("".indexOf),C=i("".slice),R="$0"==="a".replace(/./,"$0"),N=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(t,e,r){var i=N?"$":"$0";return[function(t,r){var n=h(this),i=l(t)?void 0:g(t,E);return i?o(i,t,n,r):o(e,f(n),t,r)},function(t,o){var s=u(this),a=f(t);if("string"==typeof o&&-1===I(o,i)&&-1===I(o,"$<")){var l=r(e,s,a,o);if(l.done)return l.value}var h=c(o);h||(o=f(o));var g=s.global;if(g){var E=s.unicode;s.lastIndex=0}for(var R=[];;){var N=y(s,a);if(null===N)break;if(b(R,N),!g)break;""===f(N[0])&&(s.lastIndex=m(a,p(s.lastIndex),E))}for(var A,O="",w=0,M=0;M<R.length;M++){for(var x=f((N=R[M])[0]),L=S(T(d(N.index),a.length),0),D=[],P=1;P<N.length;P++)b(D,void 0===(A=N[P])?A:String(A));var k=N.groups;if(h){var U=_([x],D,L,a);void 0!==k&&b(U,k);var F=f(n(o,void 0,U))}else F=v(x,a,L,D,k,o);L>=w&&(O+=C(a,w,L)+F,w=L+x.length)}return O+C(a,w)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!R||N)},8319:(t,e,r)=>{"use strict";var n=r(3171),o=r(266),i=r(5968),s=r(4954),a=r(1176),u=r(9650),c=r(8311),l=r(8885),d=r(7942),p=r(6637),f=r(4237),h=r(3326),m=r(5300),g=r(9794),v=r(8115),y=r(3466),E=r(5650),S=r(4229),T=E.UNSUPPORTED_Y,_=4294967295,b=Math.min,I=[].push,C=i(/./.exec),R=i(I),N=i("".slice);s("split",(function(t,e,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var i=h(l(this)),s=void 0===r?_:r>>>0;if(0===s)return[];if(void 0===t)return[i];if(!c(t))return o(e,i,t,s);for(var a,u,d,p=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,f+"g");(a=o(y,v,i))&&!((u=v.lastIndex)>m&&(R(p,N(i,m,a.index)),a.length>1&&a.index<i.length&&n(I,p,g(a,1)),d=a[0].length,m=u,p.length>=s));)v.lastIndex===a.index&&v.lastIndex++;return m===i.length?!d&&C(v,"")||R(p,""):R(p,N(i,m)),p.length>s?g(p,0,s):p}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:o(e,this,t,r)}:e,[function(e,r){var n=l(this),s=u(e)?void 0:m(e,t);return s?o(s,e,n,r):o(i,h(n),e,r)},function(t,n){var o=a(this),s=h(t),u=r(i,o,s,n,i!==e);if(u.done)return u.value;var c=d(o,RegExp),l=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(T?"g":"y"),g=new c(T?"^(?:"+o.source+")":o,m),y=void 0===n?_:n>>>0;if(0===y)return[];if(0===s.length)return null===v(g,s)?[s]:[];for(var E=0,S=0,I=[];S<s.length;){g.lastIndex=T?0:S;var C,A=v(g,T?N(s,S):s);if(null===A||(C=b(f(g.lastIndex+(T?S:0)),s.length))===E)S=p(s,S,l);else{if(R(I,N(s,E,S)),I.length===y)return I;for(var O=1;O<=A.length-1;O++)if(R(I,A[O]),I.length===y)return I;S=E=C}}return R(I,N(s,E)),I}]}),!!S((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),T)},4112:(t,e,r)=>{"use strict";var n,o=r(3103),i=r(4745),s=r(7933).f,a=r(4237),u=r(3326),c=r(7272),l=r(8885),d=r(8127),p=r(4231),f=i("".startsWith),h=i("".slice),m=Math.min,g=d("startsWith");o({target:"String",proto:!0,forced:!!(p||g||(n=s(String.prototype,"startsWith"),!n||n.writable))&&!g},{startsWith:function(t){var e=u(l(this));c(t);var r=a(m(arguments.length>1?arguments[1]:void 0,e.length)),n=u(t);return f?f(e,n,r):h(e,r,r+n.length)===n}})},634:(t,e,r)=>{"use strict";var n=r(3103),o=r(7400),i=r(9859),s=r(5968),a=r(8270),u=r(6733),c=r(1321),l=r(3326),d=r(6616),p=r(7081),f=i.Symbol,h=f&&f.prototype;if(o&&u(f)&&(!("description"in h)||void 0!==f().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(h,this)?new f(t):void 0===t?f():f(t);return""===t&&(m[e]=!0),e};p(g,f),g.prototype=h,h.constructor=g;var v="Symbol(test)"==String(f("test")),y=s(h.valueOf),E=s(h.toString),S=/^Symbol\((.*)\)[^)]+$/,T=s("".replace),_=s("".slice);d(h,"description",{configurable:!0,get:function(){var t=y(this);if(a(m,t))return"";var e=E(t),r=v?_(e,7,-1):T(e,S,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},6481:(t,e,r)=>{"use strict";r(4173)},6886:(t,e,r)=>{"use strict";var n=r(9859),o=r(5694),i=r(8865),s=r(5735),a=r(5762),u=r(95),c=u("iterator"),l=u("toStringTag"),d=s.values,p=function(t,e){if(t){if(t[c]!==d)try{a(t,c,d)}catch(n){t[c]=d}if(t[l]||a(t,l,e),o[e])for(var r in s)if(t[r]!==s[r])try{a(t,r,s[r])}catch(n){t[r]=s[r]}}};for(var f in o)p(n[f]&&n[f].prototype,f);p(i,"DOMTokenList")},2653:(t,e,r)=>{"use strict";r(5735);var n=r(3103),o=r(9859),i=r(266),s=r(5968),a=r(7400),u=r(4144),c=r(4768),l=r(6616),d=r(8312),p=r(4555),f=r(2247),h=r(6407),m=r(7728),g=r(6733),v=r(8270),y=r(7636),E=r(1589),S=r(1176),T=r(5052),_=r(3326),b=r(2391),I=r(5358),C=r(8403),R=r(8830),N=r(7579),A=r(95),O=r(3867),w=A("iterator"),M="URLSearchParams",x=M+"Iterator",L=h.set,D=h.getterFor(M),P=h.getterFor(x),k=Object.getOwnPropertyDescriptor,U=function(t){if(!a)return o[t];var e=k(o,t);return e&&e.value},F=U("fetch"),B=U("Request"),j=U("Headers"),G=B&&B.prototype,W=j&&j.prototype,V=o.RegExp,H=o.TypeError,X=o.decodeURIComponent,Y=o.encodeURIComponent,K=s("".charAt),z=s([].join),Z=s([].push),J=s("".replace),q=s([].shift),Q=s([].splice),$=s("".split),tt=s("".slice),et=/\+/g,rt=Array(4),nt=function(t){return rt[t-1]||(rt[t-1]=V("((?:%[\\da-f]{2}){"+t+"})","gi"))},ot=function(t){try{return X(t)}catch(e){return t}},it=function(t){var e=J(t,et," "),r=4;try{return X(e)}catch(n){for(;r;)e=J(e,nt(r--),ot);return e}},st=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(t){return at[t]},ct=function(t){return J(Y(t),st,ut)},lt=f((function(t,e){L(this,{type:x,iterator:C(D(t).entries),kind:e})}),"Iterator",(function(){var t=P(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),dt=function(t){this.entries=[],this.url=null,void 0!==t&&(T(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?tt(t,1):t:_(t)))};dt.prototype={type:M,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,o,s,a,u,c=R(t);if(c)for(r=(e=C(t,c)).next;!(n=i(r,e)).done;){if(s=(o=C(S(n.value))).next,(a=i(s,o)).done||(u=i(s,o)).done||!i(s,o).done)throw H("Expected sequence with length 2");Z(this.entries,{key:_(a.value),value:_(u.value)})}else for(var l in t)v(t,l)&&Z(this.entries,{key:l,value:_(t[l])})},parseQuery:function(t){if(t)for(var e,r,n=$(t,"&"),o=0;o<n.length;)(e=n[o++]).length&&(r=$(e,"="),Z(this.entries,{key:it(q(r)),value:it(z(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Z(r,ct(t.key)+"="+ct(t.value));return z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pt=function(){m(this,ft);var t=L(this,new dt(arguments.length>0?arguments[0]:void 0));a||(this.size=t.entries.length)},ft=pt.prototype;if(d(ft,{append:function(t,e){var r=D(this);N(arguments.length,2),Z(r.entries,{key:_(t),value:_(e)}),a||this.length++,r.updateURL()},delete:function(t){for(var e=D(this),r=N(arguments.length,1),n=e.entries,o=_(t),i=r<2?void 0:arguments[1],s=void 0===i?i:_(i),u=0;u<n.length;){var c=n[u];if(c.key!==o||void 0!==s&&c.value!==s)u++;else if(Q(n,u,1),void 0!==s)break}a||(this.size=n.length),e.updateURL()},get:function(t){var e=D(this).entries;N(arguments.length,1);for(var r=_(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=D(this).entries;N(arguments.length,1);for(var r=_(t),n=[],o=0;o<e.length;o++)e[o].key===r&&Z(n,e[o].value);return n},has:function(t){for(var e=D(this).entries,r=N(arguments.length,1),n=_(t),o=r<2?void 0:arguments[1],i=void 0===o?o:_(o),s=0;s<e.length;){var a=e[s++];if(a.key===n&&(void 0===i||a.value===i))return!0}return!1},set:function(t,e){var r=D(this);N(arguments.length,1);for(var n,o=r.entries,i=!1,s=_(t),u=_(e),c=0;c<o.length;c++)(n=o[c]).key===s&&(i?Q(o,c--,1):(i=!0,n.value=u));i||Z(o,{key:s,value:u}),a||(this.size=o.length),r.updateURL()},sort:function(){var t=D(this);O(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=D(this).entries,n=y(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new lt(this,"keys")},values:function(){return new lt(this,"values")},entries:function(){return new lt(this,"entries")}},{enumerable:!0}),c(ft,w,ft.entries,{name:"entries"}),c(ft,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),a&&l(ft,"size",{get:function(){return D(this).entries.length},configurable:!0,enumerable:!0}),p(pt,M),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:pt}),!u&&g(j)){var ht=s(W.has),mt=s(W.set),gt=function(t){if(T(t)){var e,r=t.body;if(E(r)===M)return e=t.headers?new j(t.headers):new j,ht(e,"content-type")||mt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),b(t,{body:I(0,_(r)),headers:I(0,e)})}return t};if(g(F)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?gt(arguments[1]):{})}}),g(B)){var vt=function(t){return m(this,G),new B(t,arguments.length>1?gt(arguments[1]):{})};G.constructor=vt,vt.prototype=G,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:pt,getState:D}},523:(t,e,r)=>{"use strict";r(2653)},5340:(t,e,r)=>{"use strict";r(8673);var n,o=r(3103),i=r(7400),s=r(4144),a=r(9859),u=r(7636),c=r(5968),l=r(4768),d=r(6616),p=r(7728),f=r(8270),h=r(47),m=r(507),g=r(9794),v=r(966).codeAt,y=r(7321),E=r(3326),S=r(4555),T=r(7579),_=r(2653),b=r(6407),I=b.set,C=b.getterFor("URL"),R=_.URLSearchParams,N=_.getState,A=a.URL,O=a.TypeError,w=a.parseInt,M=Math.floor,x=Math.pow,L=c("".charAt),D=c(/./.exec),P=c([].join),k=c(1..toString),U=c([].pop),F=c([].push),B=c("".replace),j=c([].shift),G=c("".split),W=c("".slice),V=c("".toLowerCase),H=c([].unshift),X="Invalid scheme",Y="Invalid host",K="Invalid port",z=/[a-z]/i,Z=/[\d+-.a-z]/i,J=/\d/,q=/^0x/i,Q=/^[0-7]+$/,$=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,ot=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,it=/[\t\n\r]/g,st=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)H(e,t%256),t=M(t/256);return P(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(e=n,r=o),e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=k(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},at={},ut=h({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=h({},ut,{"#":1,"?":1,"{":1,"}":1}),lt=h({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),dt=function(t,e){var r=v(t,0);return r>32&&r<127&&!f(e,t)?t:encodeURIComponent(t)},pt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var r;return 2==t.length&&D(z,L(t,0))&&(":"==(r=L(t,1))||!e&&"|"==r)},ht=function(t){var e;return t.length>1&&ft(W(t,0,2))&&(2==t.length||"/"===(e=L(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===V(t)},gt={},vt={},yt={},Et={},St={},Tt={},_t={},bt={},It={},Ct={},Rt={},Nt={},At={},Ot={},wt={},Mt={},xt={},Lt={},Dt={},Pt={},kt={},Ut=function(t,e,r){var n,o,i,s=E(t);if(e){if(o=this.parse(s))throw O(o);this.searchParams=null}else{if(void 0!==r&&(n=new Ut(r,!0)),o=this.parse(s,null,n))throw O(o);(i=N(new R)).bindURL(this),this.searchParams=i}};Ut.prototype={type:"URL",parse:function(t,e,r){var o,i,s,a,u,c=this,l=e||gt,d=0,p="",h=!1,v=!1,y=!1;for(t=E(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=B(t,nt,""),t=B(t,ot,"$1")),t=B(t,it,""),o=m(t);d<=o.length;){switch(i=o[d],l){case gt:if(!i||!D(z,i)){if(e)return X;l=yt;continue}p+=V(i),l=vt;break;case vt:if(i&&(D(Z,i)||"+"==i||"-"==i||"."==i))p+=V(i);else{if(":"!=i){if(e)return X;p="",l=yt,d=0;continue}if(e&&(c.isSpecial()!=f(pt,p)||"file"==p&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=p,e)return void(c.isSpecial()&&pt[c.scheme]==c.port&&(c.port=null));p="","file"==c.scheme?l=Ot:c.isSpecial()&&r&&r.scheme==c.scheme?l=Et:c.isSpecial()?l=bt:"/"==o[d+1]?(l=St,d++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Dt)}break;case yt:if(!r||r.cannotBeABaseURL&&"#"!=i)return X;if(r.cannotBeABaseURL&&"#"==i){c.scheme=r.scheme,c.path=g(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=kt;break}l="file"==r.scheme?Ot:Tt;continue;case Et:if("/"!=i||"/"!=o[d+1]){l=Tt;continue}l=It,d++;break;case St:if("/"==i){l=Ct;break}l=Lt;continue;case Tt:if(c.scheme=r.scheme,i==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query;else if("/"==i||"\\"==i&&c.isSpecial())l=_t;else if("?"==i)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query="",l=Pt;else{if("#"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.path.length--,l=Lt;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query,c.fragment="",l=kt}break;case _t:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Lt;continue}l=Ct}else l=It;break;case bt:if(l=It,"/"!=i||"/"!=L(p,d+1))continue;d++;break;case It:if("/"!=i&&"\\"!=i){l=Ct;continue}break;case Ct:if("@"==i){h&&(p="%40"+p),h=!0,s=m(p);for(var S=0;S<s.length;S++){var T=s[S];if(":"!=T||y){var _=dt(T,lt);y?c.password+=_:c.username+=_}else y=!0}p=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==p)return"Invalid authority";d-=m(p).length+1,p="",l=Rt}else p+=i;break;case Rt:case Nt:if(e&&"file"==c.scheme){l=Mt;continue}if(":"!=i||v){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==p)return Y;if(e&&""==p&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(p))return a;if(p="",l=xt,e)return;continue}"["==i?v=!0:"]"==i&&(v=!1),p+=i}else{if(""==p)return Y;if(a=c.parseHost(p))return a;if(p="",l=At,e==Nt)return}break;case At:if(!D(J,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||e){if(""!=p){var b=w(p,10);if(b>65535)return K;c.port=c.isSpecial()&&b===pt[c.scheme]?null:b,p=""}if(e)return;l=xt;continue}return K}p+=i;break;case Ot:if(c.scheme="file","/"==i||"\\"==i)l=wt;else{if(!r||"file"!=r.scheme){l=Lt;continue}if(i==n)c.host=r.host,c.path=g(r.path),c.query=r.query;else if("?"==i)c.host=r.host,c.path=g(r.path),c.query="",l=Pt;else{if("#"!=i){ht(P(g(o,d),""))||(c.host=r.host,c.path=g(r.path),c.shortenPath()),l=Lt;continue}c.host=r.host,c.path=g(r.path),c.query=r.query,c.fragment="",l=kt}}break;case wt:if("/"==i||"\\"==i){l=Mt;break}r&&"file"==r.scheme&&!ht(P(g(o,d),""))&&(ft(r.path[0],!0)?F(c.path,r.path[0]):c.host=r.host),l=Lt;continue;case Mt:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&ft(p))l=Lt;else if(""==p){if(c.host="",e)return;l=xt}else{if(a=c.parseHost(p))return a;if("localhost"==c.host&&(c.host=""),e)return;p="",l=xt}continue}p+=i;break;case xt:if(c.isSpecial()){if(l=Lt,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=n&&(l=Lt,"/"!=i))continue}else c.fragment="",l=kt;else c.query="",l=Pt;break;case Lt:if(i==n||"/"==i||"\\"==i&&c.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(u=V(u=p))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||F(c.path,"")):mt(p)?"/"==i||"\\"==i&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&ft(p)&&(c.host&&(c.host=""),p=L(p,0)+":"),F(c.path,p)),p="","file"==c.scheme&&(i==n||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)j(c.path);"?"==i?(c.query="",l=Pt):"#"==i&&(c.fragment="",l=kt)}else p+=dt(i,ct);break;case Dt:"?"==i?(c.query="",l=Pt):"#"==i?(c.fragment="",l=kt):i!=n&&(c.path[0]+=dt(i,at));break;case Pt:e||"#"!=i?i!=n&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":dt(i,at)):(c.fragment="",l=kt);break;case kt:i!=n&&(c.fragment+=dt(i,ut))}d++}},parseHost:function(t){var e,r,n;if("["==L(t,0)){if("]"!=L(t,t.length-1))return Y;if(e=function(t){var e,r,n,o,i,s,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,p=function(){return L(t,d)};if(":"==p()){if(":"!=L(t,1))return;d+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(e=r=0;r<4&&D(tt,p());)e=16*e+w(p(),16),d++,r++;if("."==p()){if(0==r)return;if(d-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."==p()&&n<4))return;d++}if(!D(J,p()))return;for(;D(J,p());){if(i=w(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;u[c++]=e}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(s=c-l,c=7;0!=c&&s>0;)a=u[c],u[c--]=u[l+s-1],u[l+--s]=a;else if(8!=c)return;return u}(W(t,1,-1)),!e)return Y;this.host=e}else if(this.isSpecial()){if(t=y(t),D(et,t))return Y;if(e=function(t){var e,r,n,o,i,s,a,u=G(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=u[n]))return t;if(i=10,o.length>1&&"0"==L(o,0)&&(i=D(q,o)?16:8,o=W(o,8==i?1:2)),""===o)s=0;else{if(!D(10==i?$:8==i?Q:tt,o))return t;s=w(o,i)}F(r,s)}for(n=0;n<e;n++)if(s=r[n],n==e-1){if(s>=x(256,5-e))return null}else if(s>255)return null;for(a=U(r),n=0;n<r.length;n++)a+=r[n]*x(256,3-n);return a}(t),null===e)return Y;this.host=e}else{if(D(rt,t))return Y;for(e="",r=m(t),n=0;n<r.length;n++)e+=dt(r[n],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(pt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,s=t.path,a=t.query,u=t.fragment,c=e+":";return null!==o?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=st(o),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+P(s,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw O(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ft(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+st(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(E(t)+":",gt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(E(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=dt(e[r],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(E(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=dt(e[r],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?st(t):st(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Rt)},getHostname:function(){var t=this.host;return null===t?"":st(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Nt)},getPort:function(){var t=this.port;return null===t?"":E(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=E(t))?this.port=null:this.parse(t,At))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+P(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,xt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=E(t))?this.query=null:("?"==L(t,0)&&(t=W(t,1)),this.query="",this.parse(t,Pt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=E(t))?("#"==L(t,0)&&(t=W(t,1)),this.fragment="",this.parse(t,kt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=p(this,Bt),r=T(arguments.length,1)>1?arguments[1]:void 0,n=I(e,new Ut(t,!1,r));i||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Bt=Ft.prototype,jt=function(t,e){return{get:function(){return C(this)[t]()},set:e&&function(t){return C(this)[e](t)},configurable:!0,enumerable:!0}};if(i&&(d(Bt,"href",jt("serialize","setHref")),d(Bt,"origin",jt("getOrigin")),d(Bt,"protocol",jt("getProtocol","setProtocol")),d(Bt,"username",jt("getUsername","setUsername")),d(Bt,"password",jt("getPassword","setPassword")),d(Bt,"host",jt("getHost","setHost")),d(Bt,"hostname",jt("getHostname","setHostname")),d(Bt,"port",jt("getPort","setPort")),d(Bt,"pathname",jt("getPathname","setPathname")),d(Bt,"search",jt("getSearch","setSearch")),d(Bt,"searchParams",jt("getSearchParams")),d(Bt,"hash",jt("getHash","setHash"))),l(Bt,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(Bt,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),A){var Gt=A.createObjectURL,Wt=A.revokeObjectURL;Gt&&l(Ft,"createObjectURL",u(Gt,A)),Wt&&l(Ft,"revokeObjectURL",u(Wt,A))}S(Ft,"URL"),o({global:!0,constructor:!0,forced:!s,sham:!i},{URL:Ft})},4121:(t,e,r)=>{"use strict";r(5340)},5371:(t,e,r)=>{"use strict";var n=r(3103),o=r(266);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},6522:function(t){var e;e=()=>{var t={},e={exports:t},r=Object.defineProperty,n=(t,e,n)=>(((t,e,n)=>{e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});var o,i=Object.defineProperty,s=(t,e,r)=>(((t,e,r)=>{e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),a=Object.defineProperty,u=(t,e,r)=>(((t,e,r)=>{e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r);class Mirror{constructor(){u(this,"idNodeMap",new Map),u(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;const r=null==(e=this.getMeta(t))?void 0:e.id;return null!=r?r:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}replace(t,e){const r=this.getNode(t);if(r){const t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function c(t,e,r){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return!!r&&c(t.parentNode,e,r);for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!!r&&c(t.parentNode,e,r)}const l="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let d={map:{},getId:()=>(console.error(l),-1),getNode:()=>(console.error(l),null),removeNodeFromMap(){console.error(l)},has:()=>(console.error(l),!1),reset(){console.error(l)}};"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(d=new Proxy(d,{get:(t,e,r)=>("map"===e&&console.error(l),Reflect.get(t,e,r))}));let p=Date.now;function f(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}function h(t){var e,r;let n=null;return(null==(r=null==(e=t.getRootNode)?void 0:e.call(t))?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(n=t.getRootNode().host),n}function m(t){let e,r=t;for(;e=h(r);)r=e;return r}function g(t){const e=t.ownerDocument;if(!e)return!1;const r=m(t);return e.contains(r)}/[1-9][0-9]{12}/.test(Date.now().toString())||(p=()=>(new Date).getTime());const v=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:class StyleSheetMirror{constructor(){s(this,"id",1),s(this,"styleIDMap",new WeakMap),s(this,"idStyleMap",new Map)}getId(t){var e;return null!=(e=this.styleIDMap.get(t))?e:-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let r;return r=void 0===e?this.id++:e,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}},get _mirror(){return d},closestElementOfNode:f,getBaseDimension:function t(e,r){var n,o;const i=null==(o=null==(n=e.ownerDocument)?void 0:n.defaultView)?void 0:o.frameElement;if(!i||i===r)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=i.getBoundingClientRect(),a=t(i,r),u=s.height/i.clientHeight;return{x:s.x*a.relativeScale+a.x,y:s.y*a.relativeScale+a.y,relativeScale:u,absoluteScale:a.absoluteScale*u}},getNestedRule:function t(e,r){const n=e[r[0]];return 1===r.length?n:t(n.cssRules[r[1]].cssRules,r.slice(2))},getPositionsAndIndex:function(t){const e=[...t],r=e.pop();return{positions:e,index:r}},getRootShadowHost:m,getShadowHost:h,getWindowHeight:function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},getWindowScroll:function(t){var e,r,n,o,i,s;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null==(r=null==(e=null==a?void 0:a.body)?void 0:e.parentElement)?void 0:r.scrollLeft)||(null==(n=null==a?void 0:a.body)?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null==(i=null==(o=null==a?void 0:a.body)?void 0:o.parentElement)?void 0:i.scrollTop)||(null==(s=null==a?void 0:a.body)?void 0:s.scrollTop)||0}},getWindowWidth:function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth},hasShadowRoot:function(t){return Boolean(null==t?void 0:t.shadowRoot)},hookSetter:function t(e,r,n,o,i=window){const s=i.Object.getOwnPropertyDescriptor(e,r);return i.Object.defineProperty(e,r,o?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),s&&s.set&&s.set.call(this,t)}}),()=>t(e,r,s||{},!0)},inDom:function(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||g(t))},isAncestorRemoved:function t(e,r){if(function(t){const e=null==t?void 0:t.host;return Boolean((null==e?void 0:e.shadowRoot)===t)}(e))return!1;const n=r.getId(e);return!r.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||t(e.parentNode,r))},isBlocked:function(t,e,r,n){if(!t)return!1;const o=f(t);if(!o)return!1;try{if("string"==typeof e){if(o.classList.contains(e))return!0;if(n&&null!==o.closest("."+e))return!0}else if(c(o,e,n))return!0}catch(i){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1},isIgnored:function(t,e,r){return!("TITLE"!==t.tagName||!r.headTitleMutations)||-2===e.getId(t)},isSerialized:function(t,e){return-1!==e.getId(t)},isSerializedIframe:function(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))},isSerializedStylesheet:function(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))},iterateResolveTree:function t(e,r){r(e.value);for(let n=e.children.length-1;n>=0;n--)t(e.children[n],r)},legacy_isTouchEvent:function(t){return Boolean(t.changedTouches)},get nowTimestamp(){return p},on:function(t,e,r=document){const n={capture:!0,passive:!0};return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)},patch:function(t,e,r){try{if(!(e in t))return()=>{};const n=t[e],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=o,()=>{t[e]=n}}catch(n){return()=>{}}},polyfill:function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})},queueToResolveTrees:function(t){const e={},r=(t,r)=>{const n={value:t,parent:r,children:[]};return e[t.node.id]=n,n},n=[];for(const o of t){const{nextId:t,parentId:i}=o;if(t&&t in e){const i=e[t];if(i.parent){const t=i.parent.children.indexOf(i);i.parent.children.splice(t,0,r(o,i.parent))}else{const t=n.indexOf(i);n.splice(t,0,r(o,null))}}else if(i in e){const t=e[i];t.children.push(r(o,t))}else n.push(r(o,null))}return n},shadowHostInDom:g,throttle:function(t,e,r={}){let n=null,o=0;return function(...i){const s=Date.now();o||!1!==r.leading||(o=s);const a=e-(s-o),u=this;a<=0||a>e?(n&&(clearTimeout(n),n=null),o=s,t.apply(u,i)):n||!1===r.trailing||(n=setTimeout((()=>{o=!1===r.leading?0:Date.now(),n=null,t.apply(u,i)}),a))}},uniqueTextMutations:function(t){const e=new Set,r=[];for(let n=t.length;n--;){const o=t[n];e.has(o.id)||(r.push(o),e.add(o.id))}return r}},Symbol.toStringTag,{value:"Module"}));for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E="undefined"==typeof Uint8Array?[]:new Uint8Array(256),S=0;S<64;S++)E[y.charCodeAt(S)]=S;var T,_,b;"undefined"!=typeof window&&window.Blob&&new Blob([(T="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfQogIGNvbnN0IHdvcmtlciA9IHNlbGY7CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMgfSA9IGUuZGF0YTsKICAgICAgY29uc3QgdHJhbnNwYXJlbnRCYXNlNjQgPSBnZXRUcmFuc3BhcmVudEJsb2JGb3IoCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGRhdGFVUkxPcHRpb25zCiAgICAgICk7CiAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7CiAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCk7CiAgICAgIGJpdG1hcC5jbG9zZSgpOwogICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICBjb25zdCB0eXBlID0gYmxvYi50eXBlOwogICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTsKICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgaWYgKCFsYXN0QmxvYk1hcC5oYXMoaWQpICYmIGF3YWl0IHRyYW5zcGFyZW50QmFzZTY0ID09PSBiYXNlNjQpIHsKICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpCiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodAogICAgICB9KTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQgfSk7CiAgICB9CiAgfTsKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UtYml0bWFwLWRhdGEtdXJsLXdvcmtlci1CWjFyN1JKRC5qcy5tYXAK",Uint8Array.from(atob(T),(t=>t.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});try{if(2!==Array.from([1],(t=>2*t))[0]){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=(null==(o=t.contentWindow)?void 0:o.Array.from)||Array.from,document.body.removeChild(t)}}catch(P){console.debug("Unable to override Array.from",P)}new Mirror,(b=_||(_={}))[b.NotStarted=0]="NotStarted",b[b.Running=1]="Running",b[b.Stopped=2]="Stopped";class StackFrame{constructor(t){n(this,"fileName"),n(this,"functionName"),n(this,"lineNumber"),n(this,"columnNumber"),this.fileName=t.fileName||"",this.functionName=t.functionName||"",this.lineNumber=t.lineNumber,this.columnNumber=t.columnNumber}toString(){const t=this.lineNumber||"",e=this.columnNumber||"";return this.functionName?`${this.functionName} (${this.fileName}:${t}:${e})`:`${this.fileName}:${t}:${e}`}}const I=/(^|@)\S+:\d+/,C=/^\s*at .*(\S+:\d+|\(native\))/m,R=/^(eval@)?(\[native code])?$/,N={parse:function(t){return t?void 0!==t.stacktrace||void 0!==t["opera#sourceloc"]?this.parseOpera(t):t.stack&&t.stack.match(C)?this.parseV8OrIE(t):t.stack?this.parseFFOrSafari(t):(console.warn("[console-record-plugin]: Failed to parse error object:",t),[]):[]},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];const e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));if(!e)throw new Error(`Cannot parse given url: ${t}`);return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(C)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let e=t.replace(/^\s+/,"").replace(/\(eval code/g,"(");const r=e.match(/ (\((.+):(\d+):(\d+)\)$)/);e=r?e.replace(r[0],""):e;const n=e.split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:n.pop()),i=n.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new StackFrame({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2]})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(t){return!t.match(R)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new StackFrame({functionName:t});{const e=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(e),n=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(e,""));return new StackFrame({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})}}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){const e=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),n=[];for(let o=2,i=r.length;o<i;o+=2){const t=e.exec(r[o]);t&&n.push(new StackFrame({fileName:t[2],lineNumber:parseFloat(t[1])}))}return n},parseOpera10:function(t){const e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),n=[];for(let o=0,i=r.length;o<i;o+=2){const t=e.exec(r[o]);t&&n.push(new StackFrame({functionName:t[3]||void 0,fileName:t[2],lineNumber:parseFloat(t[1])}))}return n},parseOpera11:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(I)&&!t.match(/^Error created at/)}),this).map((function(t){const e=t.split("@"),r=this.extractLocation(e.pop()),n=(e.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new StackFrame({functionName:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)}};function A(t){if(!t||!t.outerHTML)return"";let e="";for(;t.parentElement;){let r=t.localName;if(!r)break;r=r.toLowerCase();const n=t.parentElement,o=[];if(n.children&&n.children.length>0)for(let t=0;t<n.children.length;t++){const e=n.children[t];e.localName&&e.localName.toLowerCase&&e.localName.toLowerCase()===r&&o.push(e)}o.length>1&&(r+=`:eq(${o.indexOf(t)})`),e=r+(e?">"+e:""),t=n}return e}function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function w(t,e){if(0===e)return!0;const r=Object.keys(t);for(const n of r)if(O(t[n])&&w(t[n],e-1))return!0;return!1}function M(t,e){const r={numOfKeysLimit:50,depthOfLimit:4};Object.assign(r,e);const n=[],o=[];return JSON.stringify(t,(function(t,e){if(n.length>0){const r=n.indexOf(this);~r?n.splice(r+1):n.push(this),~r?o.splice(r,1/0,t):o.push(t),~n.indexOf(e)&&(e=n[0]===e?"[Circular ~]":"[Circular ~."+o.slice(0,n.indexOf(e)).join(".")+"]")}else n.push(e);if(null===e)return e;if(void 0===e)return"undefined";if(O(i=e)&&Object.keys(i).length>r.numOfKeysLimit||"function"==typeof i||O(i)&&w(i,r.depthOfLimit))return function(t){let e=t.toString();return r.stringLengthLimit&&e.length>r.stringLengthLimit&&(e=`${e.slice(0,r.stringLengthLimit)}...`),e}(e);var i;if("bigint"==typeof e)return e.toString()+"n";if(e instanceof Event){const t={};for(const r in e){const n=e[r];Array.isArray(n)?t[r]=A(n.length?n[0]:null):t[r]=n}return t}return e instanceof Node?e instanceof HTMLElement?e?e.outerHTML:"":e.nodeName:e instanceof Error?e.stack?e.stack+"\nEnd of stack for Error object":e.name+": "+e.message:e}))}const x={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function L(t,e,r){const n=r?Object.assign({},x,r):x,o=n.logger;if(!o)return()=>{};let i;i="string"==typeof o?e[o]:o;let s=0,a=!1;const u=[];if(n.level.includes("error")){const r=e=>{const r=e.message,o=e.error,i=N.parse(o).map((t=>t.toString())),s=[M(r,n.stringifyOptions)];t({level:"error",trace:i,payload:s})};e.addEventListener("error",r),u.push((()=>{e.removeEventListener("error",r)}));const o=e=>{let r,o;e.reason instanceof Error?(r=e.reason,o=[M(`Uncaught (in promise) ${r.name}: ${r.message}`,n.stringifyOptions)]):(r=new Error,o=[M("Uncaught (in promise)",n.stringifyOptions),M(e.reason,n.stringifyOptions)]);const i=N.parse(r).map((t=>t.toString()));t({level:"error",trace:i,payload:o})};e.addEventListener("unhandledrejection",o),u.push((()=>{e.removeEventListener("unhandledrejection",o)}))}for(const l of n.level)u.push(c(i,l));return()=>{u.forEach((t=>t()))};function c(e,r){return e[r]?v.patch(e,r,(e=>(...o)=>{if(e.apply(this,o),!a){a=!0;try{const e=N.parse(new Error).map((t=>t.toString())).splice(1),i=o.map((t=>M(t,n.stringifyOptions)));s++,s<n.lengthThreshold?t({level:r,trace:e,payload:i}):s===n.lengthThreshold&&t({level:"warn",trace:[],payload:[M("The number of log records reached the threshold.")]})}catch(i){e("rrweb logger error:",i,...o)}finally{a=!1}}})):()=>{}}}const D="rrweb/console@1";return t.PLUGIN_NAME=D,t.getRecordConsolePlugin=t=>({name:D,observer:L,options:t}),"object"==typeof e.exports&&"object"==typeof t&&(e.exports=((t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of Object.getOwnPropertyNames(e))Object.prototype.hasOwnProperty.call(t,o)||o===r||Object.defineProperty(t,o,{get:()=>e[o],enumerable:!(n=Object.getOwnPropertyDescriptor(e,o))||n.enumerable});return t})(e.exports,t)),e.exports},t.exports=e()},5349:function(t){t.exports=(()=>{var t={},e={exports:t};Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});var r=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(r||{}),n=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(n||{}),o=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(o||{}),i=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(i||{}),s=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(s||{}),a=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(a||{}),u=(t=>(t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back",t.Destroy="destroy",t))(u||{});if(t.CanvasContext=s,t.EventType=r,t.IncrementalSource=n,t.MediaInteractions=a,t.MouseInteractions=o,t.PointerTypes=i,t.ReplayerEvents=u,"object"==typeof e.exports&&"object"==typeof t){var c=(t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of Object.getOwnPropertyNames(e))Object.prototype.hasOwnProperty.call(t,o)||o===r||Object.defineProperty(t,o,{get:()=>e[o],enumerable:!(n=Object.getOwnPropertyDescriptor(e,o))||n.enumerable});return t};e.exports=c(e.exports,t)}return e.exports})()},4625:(t,e)=>{"use strict";var r,n=Object.defineProperty,o=(t,e,r)=>(((t,e,r)=>{e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r);Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});var i=Object.defineProperty,s=(t,e,r)=>(((t,e,r)=>{e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),a=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(a||{});function u(t){return t.nodeType===t.ELEMENT_NODE}function c(t){const e=null==t?void 0:t.host;return Boolean((null==e?void 0:e.shadowRoot)===t)}function l(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function d(t){try{const r=t.rules||t.cssRules;return r?((e=Array.from(r,p).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e):null}catch(r){return null}var e}function p(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=d(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}(t)}catch(r){}else if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":"))return function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(t.cssText);return e||t.cssText}class Mirror{constructor(){s(this,"idNodeMap",new Map),s(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;return(null==(e=this.getMeta(t))?void 0:e.id)??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}replace(t,e){const r=this.getNode(t);if(r){const t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function f(){return new Mirror}function h({element:t,maskInputOptions:e,tagName:r,type:n,value:o,maskInputFn:i}){let s=o||"";const a=n&&m(n);return(e[r.toLowerCase()]||a&&e[a])&&(s=i?i(s,t):"*".repeat(s.length)),s}function m(t){return t.toLowerCase()}const g="__rrweb_original__";function v(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?m(e):null}function y(t,e){let r;try{r=new URL(t,e??window.location.href)}catch(o){return null}const n=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==n?void 0:n[1])??null}let E=1;const S=new RegExp("[^a-z0-9-_:]"),T=-2;function _(){return E++}let b,I;const C=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,R=/^(?:[a-z+]+:)?\/\//i,N=/^www\..*/i,A=/^(data:)([^,]*),(.*)/i;function O(t,e){return(t||"").replace(C,((t,r,n,o,i,s)=>{const a=n||i||s,u=r||o||"";if(!a)return t;if(R.test(a)||N.test(a))return`url(${u}${a}${u})`;if(A.test(a))return`url(${u}${a}${u})`;if("/"===a[0])return`url(${u}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${u})`;const c=e.split("/"),l=a.split("/");c.pop();for(const e of l)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${u}${c.join("/")}${u})`}))}const w=/^[^ \t\n\r\u000c]+/,M=/^[, \t\n\r\u000c]+/;const x=new WeakMap;function L(t,e){return e&&""!==e.trim()?P(t,e):e}function D(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function P(t,e){let r=x.get(t);if(r||(r=t.createElement("a"),x.set(t,r)),e){if(e.startsWith("blob:")||e.startsWith("data:"))return e}else e="";return r.setAttribute("href",e),r.href}function k(t,e,r,n){return n?"src"===r||"href"===r&&("use"!==e||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?L(t,n):"background"!==r||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===r?function(t,e){if(""===e.trim())return e;let r=0;function n(t){let n;const o=t.exec(e.substring(r));return o?(n=o[0],r+=n.length,n):""}const o=[];for(;n(M),!(r>=e.length);){let i=n(w);if(","===i.slice(-1))i=L(t,i.substring(0,i.length-1)),o.push(i);else{let n="";i=L(t,i);let s=!1;for(;;){const t=e.charAt(r);if(""===t){o.push((i+n).trim());break}if(s)")"===t&&(s=!1);else{if(","===t){r+=1,o.push((i+n).trim());break}"("===t&&(s=!0)}n+=t,r+=1}}}return o.join(", ")}(t,n):"style"===r?O(n,P(t)):"object"===e&&"data"===r?L(t,n):n:L(t,n):n}function U(t,e,r){return("video"===t||"audio"===t)&&"autoplay"===e}function F(t,e,r){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return!!r&&F(t.parentNode,e,r);for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!!r&&F(t.parentNode,e,r)}function B(t,e,r,n){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===o)return!1;if("string"==typeof e){if(n){if(o.closest(`.${e}`))return!0}else if(o.classList.contains(e))return!0}else if(F(o,e,n))return!0;if(r)if(n){if(o.closest(r))return!0}else if(o.matches(r))return!0}catch(o){}return!1}function j(t,e){const{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:s,inlineStylesheet:u,maskInputOptions:c={},maskTextFn:l,maskInputFn:p,dataURLOptions:f={},inlineImages:y,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:_=!1}=e,C=function(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return 1===r?void 0:r}(r,n);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:a.Document,childNodes:[],compatMode:t.compatMode}:{type:a.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:a.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:C};case t.ELEMENT_NODE:return function(t,e){const{doc:r,blockClass:n,blockSelector:o,inlineStylesheet:i,maskInputOptions:s={},maskInputFn:u,dataURLOptions:c={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:y=!1,rootId:E}=e,T=function(t,e,r){try{if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let r=t.classList.length;r--;){const n=t.classList[r];if(e.test(n))return!0}if(r)return t.matches(r)}catch(n){}return!1}(t,n,o),_=function(t){if(t instanceof HTMLFormElement)return"form";const e=m(t.tagName);return S.test(e)?"div":e}(t);let C={};const R=t.attributes.length;for(let a=0;a<R;a++){const e=t.attributes[a];U(_,e.name,e.value)||(C[e.name]=k(r,_,m(e.name),e.value))}if("link"===_&&i){const e=Array.from(r.styleSheets).find((e=>e.href===t.href));let n=null;e&&(n=d(e)),n&&(delete C.rel,delete C.href,C._cssText=O(n,e.href))}if("style"===_&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=d(t.sheet);e&&(C._cssText=O(e,P(r)))}if("input"===_||"textarea"===_||"select"===_){const e=t.value,r=t.checked;"radio"!==C.type&&"checkbox"!==C.type&&"submit"!==C.type&&"button"!==C.type&&e?C.value=h({element:t,type:v(t),tagName:_,value:e,maskInputOptions:s,maskInputFn:u}):r&&(C.checked=r)}"option"===_&&(t.selected&&!s.select?C.selected=!0:delete C.selected);if("canvas"===_&&p)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let r=0;r<t.width;r+=50)for(let n=0;n<t.height;n+=50){const o=e.getImageData,i=g in o?o[g]:o;if(new Uint32Array(i.call(e,r,n,Math.min(50,t.width-r),Math.min(50,t.height-n)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(C.rr_dataURL=t.toDataURL(c.type,c.quality));else if(!("__context"in t)){const e=t.toDataURL(c.type,c.quality),n=r.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(c.type,c.quality)&&(C.rr_dataURL=e)}if("img"===_&&l){b||(b=r.createElement("canvas"),I=b.getContext("2d"));const e=t,n=e.currentSrc||e.getAttribute("src")||"<unknown-src>",o=e.crossOrigin,i=()=>{e.removeEventListener("load",i);try{b.width=e.naturalWidth,b.height=e.naturalHeight,I.drawImage(e,0,0),C.rr_dataURL=b.toDataURL(c.type,c.quality)}catch(t){if("anonymous"!==e.crossOrigin)return e.crossOrigin="anonymous",void(e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i));console.warn(`Cannot inline img src=${n}! Error: ${t}`)}"anonymous"===e.crossOrigin&&(o?C.crossOrigin=o:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}if("audio"===_||"video"===_){const e=C;e.rr_mediaState=t.paused?"paused":"played",e.rr_mediaCurrentTime=t.currentTime,e.rr_mediaPlaybackRate=t.playbackRate,e.rr_mediaMuted=t.muted,e.rr_mediaLoop=t.loop,e.rr_mediaVolume=t.volume}y||(t.scrollLeft&&(C.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(C.rr_scrollTop=t.scrollTop));if(T){const{width:e,height:r}=t.getBoundingClientRect();C={class:C.class,rr_width:`${e}px`,rr_height:`${r}px`}}"iframe"!==_||f(C.src)||(t.contentDocument||(C.rr_src=C.src),delete C.src);let N;try{customElements.get(_)&&(N=!0)}catch(A){}return{type:a.Element,tagName:_,attributes:C,childNodes:[],isSVG:D(t)||void 0,needBlock:T,rootId:E,isCustom:N}}(t,{doc:r,blockClass:o,blockSelector:i,inlineStylesheet:u,maskInputOptions:c,maskInputFn:p,dataURLOptions:f,inlineImages:y,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:_,rootId:C});case t.TEXT_NODE:return function(t,e){var r;const{needsMask:n,maskTextFn:o,rootId:i}=e,s=t.parentNode&&t.parentNode.tagName;let u=t.textContent;const c="STYLE"===s||void 0,l="SCRIPT"===s||void 0;if(c&&u){try{t.nextSibling||t.previousSibling||(null==(r=t.parentNode.sheet)?void 0:r.cssRules)&&(u=d(t.parentNode.sheet))}catch(p){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${p}`,t)}u=O(u,P(e.doc))}l&&(u="SCRIPT_PLACEHOLDER");!c&&!l&&u&&n&&(u=o?o(u,t.parentElement):u.replace(/[\S]/g,"*"));return{type:a.Text,textContent:u||"",isStyle:c,rootId:i}}(t,{doc:r,needsMask:s,maskTextFn:l,rootId:C});case t.CDATA_SECTION_NODE:return{type:a.CDATA,textContent:"",rootId:C};case t.COMMENT_NODE:return{type:a.Comment,textContent:t.textContent||"",rootId:C};default:return!1}}function G(t){return null==t?"":t.toLowerCase()}function W(t,e){const{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:s,maskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E={},inlineImages:S=!1,recordCanvas:b=!1,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R=5e3,onStylesheetLoad:N,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:O=(()=>!1),newlyAddedElement:w=!1}=e;let{needsMask:M}=e,{preserveWhiteSpace:x=!0}=e;if(!M&&t.childNodes){M=B(t,s,d,void 0===M)}const L=j(t,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,dataURLOptions:E,inlineImages:S,recordCanvas:b,keepIframeSrcFn:O,newlyAddedElement:w});if(!L)return console.warn(t,"not serialized"),null;let D;D=n.hasNode(t)?n.getId(t):!function(t,e){if(e.comment&&t.type===a.Comment)return!0;if(t.type===a.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&"js"===y(t.attributes.href)))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(G(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===G(t.attributes.name)||"icon"===G(t.attributes.rel)||"apple-touch-icon"===G(t.attributes.rel)||"shortcut icon"===G(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&G(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(G(t.attributes.property).match(/^(og|twitter|fb):/)||G(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===G(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===G(t.attributes.name)||"googlebot"===G(t.attributes.name)||"bingbot"===G(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===G(t.attributes.name)||"generator"===G(t.attributes.name)||"framework"===G(t.attributes.name)||"publisher"===G(t.attributes.name)||"progid"===G(t.attributes.name)||G(t.attributes.property).match(/^article:/)||G(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===G(t.attributes.name)||"yandex-verification"===G(t.attributes.name)||"csrf-token"===G(t.attributes.name)||"p:domain_verify"===G(t.attributes.name)||"verify-v1"===G(t.attributes.name)||"verification"===G(t.attributes.name)||"shopify-checkout-api-token"===G(t.attributes.name)))return!0}}return!1}(L,v)&&(x||L.type!==a.Text||L.isStyle||L.textContent.replace(/^\s+|\s+$/gm,"").length)?_():T;const P=Object.assign(L,{id:D});if(n.add(t,P),D===T)return null;I&&I(t);let k=!p;if(P.type===a.Element){k=k&&!P.needBlock,delete P.needBlock;const e=t.shadowRoot;e&&l(e)&&(P.isShadowHost=!0)}if((P.type===a.Document||P.type===a.Element)&&k){v.headWhitespace&&P.type===a.Element&&"head"===P.tagName&&(x=!1);const e={doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:b,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:A,keepIframeSrcFn:O};if(P.type===a.Element&&"textarea"===P.tagName&&void 0!==P.attributes.value);else for(const r of Array.from(t.childNodes)){const t=W(r,e);t&&P.childNodes.push(t)}if(u(t)&&t.shadowRoot)for(const r of Array.from(t.shadowRoot.childNodes)){const n=W(r,e);n&&(l(t.shadowRoot)&&(n.isShadow=!0),P.childNodes.push(n))}}return t.parentNode&&c(t.parentNode)&&l(t.parentNode)&&(P.isShadow=!0),P.type===a.Element&&"iframe"===P.tagName&&function(t,e,r){const n=t.contentWindow;if(!n)return;let o,i=!1;try{o=n.document.readyState}catch(a){return}if("complete"!==o){const n=setTimeout((()=>{i||(e(),i=!0)}),r);return void t.addEventListener("load",(()=>{clearTimeout(n),i=!0,e()}))}const s="about:blank";if(n.location.href!==s||t.src===s||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,(()=>{const e=t.contentDocument;if(e&&C){const r=W(e,{doc:e,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:b,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:A,keepIframeSrcFn:O});r&&C(t,r)}}),R),P.type===a.Element&&"link"===P.tagName&&"string"==typeof P.attributes.rel&&("stylesheet"===P.attributes.rel||"preload"===P.attributes.rel&&"string"==typeof P.attributes.href&&"css"===y(P.attributes.href))&&function(t,e,r){let n,o=!1;try{n=t.sheet}catch(s){return}if(n)return;const i=setTimeout((()=>{o||(e(),o=!0)}),r);t.addEventListener("load",(()=>{clearTimeout(i),o=!0,e()}))}(t,(()=>{if(N){const e=W(t,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:b,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:A,keepIframeSrcFn:O});e&&N(t,e)}}),A),P}const V=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function H(t,e={}){let r=1,n=1;function o(t){const e=t.match(/\n/g);e&&(r+=e.length);const o=t.lastIndexOf("\n");n=-1===o?n+t.length:t.length-o}function i(){const t={line:r,column:n};return e=>(e.position=new u(t),m(),e)}const a=class _Position2{constructor(t){s(this,"content"),s(this,"start"),s(this,"end"),s(this,"source"),this.start=t,this.end={line:r,column:n},this.source=e.source,this.content=_Position2.content}};s(a,"content");let u=a;u.content=t;const c=[];function l(o){const i=new Error(`${e.source||""}:${r}:${n}: ${o}`);if(i.reason=o,i.filename=e.source,i.line=r,i.column=n,i.source=t,!e.silent)throw i;c.push(i)}function d(){return h(/^{\s*/)}function p(){return h(/^}/)}function f(){let e;const r=[];for(m(),g(r);t.length&&"}"!==t.charAt(0)&&(e=N()||A());)e&&(r.push(e),g(r));return r}function h(e){const r=e.exec(t);if(!r)return;const n=r[0];return o(n),t=t.slice(n.length),r}function m(){h(/^\s*/)}function g(t=[]){let e;for(;e=v();)e&&t.push(e),e=v();return t}function v(){const e=i();if("/"!==t.charAt(0)||"*"!==t.charAt(1))return;let r=2;for(;""!==t.charAt(r)&&("*"!==t.charAt(r)||"/"!==t.charAt(r+1));)++r;if(r+=2,""===t.charAt(r-1))return l("End of comment missing");const s=t.slice(2,r-2);return n+=2,o(s),t=t.slice(r),n+=2,e({type:"comment",comment:s})}const y=new RegExp("^(("+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^{]"].join("|")+")+)");function E(){for(m();"}"==t[0];)l("extra closing bracket"),t=t.slice(1),m();const e=h(y);if(!e)return;return function(t){const e=[];let r="",n=0,o=0,i=null;for(const s of t){const t=r.endsWith("\\");i?i!==s||t||(i=null):"("===s?n++:")"===s?n--:"["===s?o++:"]"===s?o--:"'\"".includes(s)&&(i=s),","===s&&0===n&&0===o?(e.push(r),r=""):r+=s}r&&e.push(r);return e}(e[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(t=>t.replace(/,/g,"\u200c")))).map((t=>t.replace(/\u200C/g,",").trim()))}function S(){const t=i(),e=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!e)return;const r=X(e[0]);if(!h(/^:\s*/))return l("property missing ':'");const n=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),o=t({type:"declaration",property:r.replace(V,""),value:n?X(n[0]).replace(V,""):""});return h(/^[;\s]*/),o}function T(){const t=[];if(!d())return l("missing '{'");let e;for(g(t);e=S();)!1!==e&&(t.push(e),g(t)),e=S();return p()?t:l("missing '}'")}function _(){let t;const e=[],r=i();for(;t=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),h(/^,\s*/);if(e.length)return r({type:"keyframe",values:e,declarations:T()})}const b=R("import"),I=R("charset"),C=R("namespace");function R(t){const e=new RegExp("^@"+t+"\\s*((?:"+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^;]"].join("|")+")+);");return()=>{const r=i(),n=h(e);if(!n)return;const o={type:t};return o[t]=n[1].trim(),r(o)}}function N(){if("@"===t[0])return function(){const t=i();let e=h(/^@([-\w]+)?keyframes\s*/);if(!e)return;const r=e[1];if(e=h(/^([-\w]+)\s*/),!e)return l("@keyframes missing name");const n=e[1];if(!d())return l("@keyframes missing '{'");let o,s=g();for(;o=_();)s.push(o),s=s.concat(g());return p()?t({type:"keyframes",name:n,vendor:r,keyframes:s}):l("@keyframes missing '}'")}()||function(){const t=i(),e=h(/^@media *([^{]+)/);if(!e)return;const r=X(e[1]);if(!d())return l("@media missing '{'");const n=g().concat(f());return p()?t({type:"media",media:r,rules:n}):l("@media missing '}'")}()||function(){const t=i(),e=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return t({type:"custom-media",name:X(e[1]),media:X(e[2])})}()||function(){const t=i(),e=h(/^@supports *([^{]+)/);if(!e)return;const r=X(e[1]);if(!d())return l("@supports missing '{'");const n=g().concat(f());return p()?t({type:"supports",supports:r,rules:n}):l("@supports missing '}'")}()||b()||I()||C()||function(){const t=i(),e=h(/^@([-\w]+)?document *([^{]+)/);if(!e)return;const r=X(e[1]),n=X(e[2]);if(!d())return l("@document missing '{'");const o=g().concat(f());return p()?t({type:"document",document:n,vendor:r,rules:o}):l("@document missing '}'")}()||function(){const t=i();if(!h(/^@page */))return;const e=E()||[];if(!d())return l("@page missing '{'");let r,n=g();for(;r=S();)n.push(r),n=n.concat(g());return p()?t({type:"page",selectors:e,declarations:n}):l("@page missing '}'")}()||function(){const t=i();if(!h(/^@host\s*/))return;if(!d())return l("@host missing '{'");const e=g().concat(f());return p()?t({type:"host",rules:e}):l("@host missing '}'")}()||function(){const t=i();if(!h(/^@font-face\s*/))return;if(!d())return l("@font-face missing '{'");let e,r=g();for(;e=S();)r.push(e),r=r.concat(g());return p()?t({type:"font-face",declarations:r}):l("@font-face missing '}'")}()}function A(){const t=i(),e=E();return e?(g(),t({type:"rule",selectors:e,declarations:T()})):l("selector missing")}return Y(function(){const t=f();return{type:"stylesheet",stylesheet:{source:e.source,rules:t,parsingErrors:c}}}())}function X(t){return t?t.replace(/^\s+|\s+$/g,""):""}function Y(t,e){const r=t&&"string"==typeof t.type,n=r?t:e;for(const o of Object.keys(t)){const e=t[o];Array.isArray(e)?e.forEach((t=>{Y(t,n)})):e&&"object"==typeof e&&Y(e,n)}return r&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:e||null}),t}const K={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function z(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Z=/(max|min)-device-(width|height)/,J=new RegExp(Z.source,"g"),q=/([^\\]):hover/,Q=new RegExp(q.source,"g");function $(t,e){const r=null==e?void 0:e.stylesWithHoverClass.get(t);if(r)return r;const n=H(t,{silent:!0});if(!n.stylesheet)return t;const o=[],i=[];!function t(e){"selectors"in e&&e.selectors&&e.selectors.forEach((t=>{q.test(t)&&o.push(t)})),"media"in e&&e.media&&Z.test(e.media)&&i.push(e.media),"rules"in e&&e.rules&&e.rules.forEach(t)}(n.stylesheet);let s=t;if(o.length>0){const t=new RegExp(o.filter(((t,e)=>o.indexOf(t)===e)).sort(((t,e)=>e.length-t.length)).map((t=>z(t))).join("|"),"g");s=s.replace(t,(t=>{const e=t.replace(Q,"$1.\\:hover");return`${t}, ${e}`}))}if(i.length>0){const t=new RegExp(i.filter(((t,e)=>i.indexOf(t)===e)).sort(((t,e)=>e.length-t.length)).map((t=>z(t))).join("|"),"g");s=s.replace(t,(t=>t.replace(J,"$1-$2")))}return null==e||e.stylesWithHoverClass.set(t,s),s}function tt(){return{stylesWithHoverClass:new Map}}function et(t,e){var r;const{doc:n,hackCss:o,cache:i}=e;switch(t.type){case a.Document:return n.implementation.createDocument(null,"",null);case a.DocumentType:return n.implementation.createDocumentType(t.name||"html",t.publicId,t.systemId);case a.Element:{const e=function(t){let e=K[t.tagName]?K[t.tagName]:t.tagName;return"link"===e&&t.attributes._cssText&&(e="style"),e}(t);let a;t.isSVG?a=n.createElementNS("http://www.w3.org/2000/svg",e):(t.isCustom&&(null==(r=n.defaultView)?void 0:r.customElements)&&!n.defaultView.customElements.get(t.tagName)&&n.defaultView.customElements.define(t.tagName,class extends n.defaultView.HTMLElement{}),a=n.createElement(e));const u={};for(const r in t.attributes){if(!Object.prototype.hasOwnProperty.call(t.attributes,r))continue;let c=t.attributes[r];if("option"===e&&"selected"===r&&!1===c)continue;if(null===c)continue;if(!0===c&&(c=""),r.startsWith("rr_")){u[r]=c;continue}const l="textarea"===e&&"value"===r,d="style"===e&&"_cssText"===r;if(d&&o&&"string"==typeof c&&(c=$(c,i)),!l&&!d||"string"!=typeof c)try{if(t.isSVG&&"xlink:href"===r)a.setAttributeNS("http://www.w3.org/1999/xlink",r,c.toString());else if("onload"===r||"onclick"===r||"onmouse"===r.substring(0,7))a.setAttribute("_"+r,c.toString());else{if("meta"===e&&"Content-Security-Policy"===t.attributes["http-equiv"]&&"content"===r){a.setAttribute("csp-content",c.toString());continue}("link"!==e||"preload"!==t.attributes.rel&&"modulepreload"!==t.attributes.rel||"script"!==t.attributes.as)&&("link"===e&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")||("img"===e&&t.attributes.srcset&&t.attributes.rr_dataURL?a.setAttribute("rrweb-original-srcset",t.attributes.srcset):a.setAttribute(r,c.toString())))}}catch(s){}else a.appendChild(n.createTextNode(c)),t.childNodes=[]}for(const r in u){const o=u[r];if("canvas"===e&&"rr_dataURL"===r){const t=n.createElement("img");t.onload=()=>{const e=a.getContext("2d");e&&e.drawImage(t,0,0,t.width,t.height)},t.src=o.toString(),a.RRNodeType&&(a.rr_dataURL=o.toString())}else if("img"===e&&"rr_dataURL"===r){const e=a;e.currentSrc.startsWith("data:")||(e.setAttribute("rrweb-original-src",t.attributes.src),e.src=o.toString())}if("rr_width"===r)a.style.width=o.toString();else if("rr_height"===r)a.style.height=o.toString();else if("rr_mediaCurrentTime"===r&&"number"==typeof o)a.currentTime=o;else if("rr_mediaState"===r)switch(o){case"played":a.play().catch((t=>console.warn("media playback error",t)));break;case"paused":a.pause()}else"rr_mediaPlaybackRate"===r&&"number"==typeof o?a.playbackRate=o:"rr_mediaMuted"===r&&"boolean"==typeof o?a.muted=o:"rr_mediaLoop"===r&&"boolean"==typeof o?a.loop=o:"rr_mediaVolume"===r&&"number"==typeof o&&(a.volume=o)}if(t.isShadowHost)if(a.shadowRoot)for(;a.shadowRoot.firstChild;)a.shadowRoot.removeChild(a.shadowRoot.firstChild);else a.attachShadow({mode:"open"});return a}case a.Text:return n.createTextNode(t.isStyle&&o?$(t.textContent,i):t.textContent);case a.CDATA:return n.createCDATASection(t.textContent);case a.Comment:return n.createComment(t.textContent);default:return null}}function rt(t,e){const{doc:r,mirror:n,skipChild:o=!1,hackCss:i=!0,afterAppend:s,cache:c}=e;if(n.has(t.id)){const e=n.getNode(t.id),r=n.getMeta(e);if(d=t,(l=r)&&d&&l.type===d.type&&(l.type===a.Document?l.compatMode===d.compatMode:l.type===a.DocumentType?l.name===d.name&&l.publicId===d.publicId&&l.systemId===d.systemId:l.type===a.Comment||l.type===a.Text||l.type===a.CDATA?l.textContent===d.textContent:l.type===a.Element&&l.tagName===d.tagName&&JSON.stringify(l.attributes)===JSON.stringify(d.attributes)&&l.isSVG===d.isSVG&&l.needBlock===d.needBlock))return n.getNode(t.id)}var l,d;let p=et(t,{doc:r,hackCss:i,cache:c});if(!p)return null;if(t.rootId&&n.getNode(t.rootId)!==r&&n.replace(t.rootId,r),t.type===a.Document&&(r.close(),r.open(),"BackCompat"===t.compatMode&&t.childNodes&&t.childNodes[0].type!==a.DocumentType&&(t.childNodes[0].type===a.Element&&"xmlns"in t.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===t.childNodes[0].attributes.xmlns?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),p=r),n.add(p,t),(t.type===a.Document||t.type===a.Element)&&!o)for(const f of t.childNodes){const e=rt(f,{doc:r,mirror:n,skipChild:!1,hackCss:i,afterAppend:s,cache:c});if(e){if(f.isShadow&&u(p)&&p.shadowRoot)p.shadowRoot.appendChild(e);else if(t.type===a.Document&&f.type==a.Element){const t=e;let r=null;t.childNodes.forEach((t=>{"BODY"===t.nodeName&&(r=t)})),r?(t.removeChild(r),p.appendChild(e),t.appendChild(r)):p.appendChild(e)}else p.appendChild(e);s&&s(e,f.id)}else console.warn("Failed to rebuild",f)}return p}function nt(t,e){const{doc:r,onVisit:n,hackCss:o=!0,afterAppend:i,cache:s,mirror:u=new Mirror}=e,c=rt(t,{doc:r,mirror:u,skipChild:!1,hackCss:o,afterAppend:i,cache:s});return function(t,e){for(const n of t.getIds())t.has(n)&&(r=t.getNode(n),e(r));var r}(u,(t=>{n&&n(t),function(t,e){const r=e.getMeta(t);if((null==r?void 0:r.type)!==a.Element)return;const n=t;for(const o in r.attributes){if(!Object.prototype.hasOwnProperty.call(r.attributes,o)||!o.startsWith("rr_"))continue;const t=r.attributes[o];"rr_scrollLeft"===o&&(n.scrollLeft=t),"rr_scrollTop"===o&&(n.scrollTop=t)}}(t,u)})),c}function ot(t,e,r=document){const n={capture:!0,passive:!0};return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}const it="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";function st(t,e,r={}){let n=null,o=0;return function(...i){const s=Date.now();o||!1!==r.leading||(o=s);const a=e-(s-o),u=this;a<=0||a>e?(n&&(clearTimeout(n),n=null),o=s,t.apply(u,i)):n||!1===r.trailing||(n=setTimeout((()=>{o=!1===r.leading?0:Date.now(),n=null,t.apply(u,i)}),a))}}function at(t,e,r,n,o=window){const i=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,n?r:{set(t){setTimeout((()=>{r.set.call(this,t)}),0),i&&i.set&&i.set.call(this,t)}}),()=>at(t,e,i||{},!0)}function ut(t,e,r){try{if(!(e in t))return()=>{};const n=t[e],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=o,()=>{t[e]=n}}catch{return()=>{}}}e.mirror={map:{},getId:()=>(console.error(it),-1),getNode:()=>(console.error(it),null),removeNodeFromMap(){console.error(it)},has:()=>(console.error(it),!1),reset(){console.error(it)}},"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(e.mirror=new Proxy(e.mirror,{get:(t,e,r)=>("map"===e&&console.error(it),Reflect.get(t,e,r))}));let ct=Date.now;function lt(t){var e,r,n,o,i,s;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null==(r=null==(e=null==a?void 0:a.body)?void 0:e.parentElement)?void 0:r.scrollLeft)||(null==(n=null==a?void 0:a.body)?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null==(i=null==(o=null==a?void 0:a.body)?void 0:o.parentElement)?void 0:i.scrollTop)||(null==(s=null==a?void 0:a.body)?void 0:s.scrollTop)||0}}function dt(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function pt(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ft(t){if(!t)return null;return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}function ht(t,e,r,n){if(!t)return!1;const o=ft(t);if(!o)return!1;try{if("string"==typeof e){if(o.classList.contains(e))return!0;if(n&&null!==o.closest("."+e))return!0}else if(F(o,e,n))return!0}catch(i){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1}function mt(t,e){return-1!==e.getId(t)}function gt(t,e,r){return!("TITLE"!==t.tagName||!r.headTitleMutations)||e.getId(t)===T}function vt(t,e){if(c(t))return!1;const r=e.getId(t);return!e.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||vt(t.parentNode,e))}function yt(t){return Boolean(t.changedTouches)}function Et(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}function St(t){const e={},r=(t,r)=>{const n={value:t,parent:r,children:[]};return e[t.node.id]=n,n},n=[];for(const o of t){const{nextId:t,parentId:i}=o;if(t&&t in e){const i=e[t];if(i.parent){const t=i.parent.children.indexOf(i);i.parent.children.splice(t,0,r(o,i.parent))}else{const t=n.indexOf(i);n.splice(t,0,r(o,null))}}else if(i in e){const t=e[i];t.children.push(r(o,t))}else n.push(r(o,null))}return n}function Tt(t,e){e(t.value);for(let r=t.children.length-1;r>=0;r--)Tt(t.children[r],e)}function _t(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function bt(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function It(t,e){var r,n;const o=null==(n=null==(r=t.ownerDocument)?void 0:r.defaultView)?void 0:n.frameElement;if(!o||o===e)return{x:0,y:0,relativeScale:1,absoluteScale:1};const i=o.getBoundingClientRect(),s=It(o,e),a=i.height/o.clientHeight;return{x:i.x*s.relativeScale+s.x,y:i.y*s.relativeScale+s.y,relativeScale:a,absoluteScale:s.absoluteScale*a}}function Ct(t){return Boolean(null==t?void 0:t.shadowRoot)}function Rt(t,e){const r=t[e[0]];return 1===e.length?r:Rt(r.cssRules[e[1]].cssRules,e.slice(2))}function Nt(t){const e=[...t],r=e.pop();return{positions:e,index:r}}function At(t){const e=new Set,r=[];for(let n=t.length;n--;){const o=t[n];e.has(o.id)||(r.push(o),e.add(o.id))}return r}/[1-9][0-9]{12}/.test(Date.now().toString())||(ct=()=>(new Date).getTime());class StyleSheetMirror{constructor(){o(this,"id",1),o(this,"styleIDMap",new WeakMap),o(this,"idStyleMap",new Map)}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let r;return r=void 0===e?this.id++:e,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ot(t){var e,r;let n=null;return(null==(r=null==(e=t.getRootNode)?void 0:e.call(t))?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(n=t.getRootNode().host),n}function wt(t){let e,r=t;for(;e=Ot(r);)r=e;return r}function Mt(t){const e=t.ownerDocument;if(!e)return!1;const r=wt(t);return e.contains(r)}function xt(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||Mt(t))}const Lt=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror,get _mirror(){return e.mirror},closestElementOfNode:ft,getBaseDimension:It,getNestedRule:Rt,getPositionsAndIndex:Nt,getRootShadowHost:wt,getShadowHost:Ot,getWindowHeight:dt,getWindowScroll:lt,getWindowWidth:pt,hasShadowRoot:Ct,hookSetter:at,inDom:xt,isAncestorRemoved:vt,isBlocked:ht,isIgnored:gt,isSerialized:mt,isSerializedIframe:_t,isSerializedStylesheet:bt,iterateResolveTree:Tt,legacy_isTouchEvent:yt,get nowTimestamp(){return ct},on:ot,patch:ut,polyfill:Et,queueToResolveTrees:St,shadowHostInDom:Mt,throttle:st,uniqueTextMutations:At},Symbol.toStringTag,{value:"Module"}));var Dt=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Dt||{}),Pt=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Pt||{}),kt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(kt||{}),Ut=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Ut||{}),Ft=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(Ft||{}),Bt=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(Bt||{}),jt=(t=>(t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back",t.Destroy="destroy",t))(jt||{});function Gt(t){return"__ln"in t}class DoubleLinkedList{constructor(){o(this,"length",0),o(this,"head",null),o(this,"tail",null)}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let r=0;r<t;r++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&Gt(t.previousSibling)){const r=t.previousSibling.__ln.next;e.next=r,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,r&&(r.previous=e)}else if(t.nextSibling&&Gt(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;e.previous=r,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,r&&(r.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Wt=(t,e)=>`${t}@${e}`;class MutationBuffer{constructor(){o(this,"frozen",!1),o(this,"locked",!1),o(this,"texts",[]),o(this,"attributes",[]),o(this,"attributeMap",new WeakMap),o(this,"removes",[]),o(this,"mapRemoves",[]),o(this,"movedMap",{}),o(this,"addedSet",new Set),o(this,"movedSet",new Set),o(this,"droppedSet",new Set),o(this,"mutationCb"),o(this,"blockClass"),o(this,"blockSelector"),o(this,"maskTextClass"),o(this,"maskTextSelector"),o(this,"inlineStylesheet"),o(this,"maskInputOptions"),o(this,"maskTextFn"),o(this,"maskInputFn"),o(this,"keepIframeSrcFn"),o(this,"recordCanvas"),o(this,"inlineImages"),o(this,"slimDOMOptions"),o(this,"dataURLOptions"),o(this,"doc"),o(this,"mirror"),o(this,"iframeManager"),o(this,"stylesheetManager"),o(this,"shadowDomManager"),o(this,"canvasManager"),o(this,"processedNodeManager"),o(this,"unattachedDoc"),o(this,"processMutations",(t=>{t.forEach(this.processMutation),this.emit()})),o(this,"emit",(()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,r=new DoubleLinkedList,n=t=>{let e=t,r=T;for(;r===T;)e=e&&e.nextSibling,r=e&&this.mirror.getId(e);return r},o=o=>{if(!o.parentNode||!xt(o)||"TEXTAREA"===o.parentNode.tagName)return;const i=c(o.parentNode)?this.mirror.getId(Ot(o)):this.mirror.getId(o.parentNode),s=n(o);if(-1===i||-1===s)return r.addNode(o);const a=W(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{_t(t,this.mirror)&&this.iframeManager.addIframe(t),bt(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),Ct(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});a&&(t.push({parentId:i,nextId:s,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Ht(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)Xt(this.droppedSet,a)||Ht(this.removes,a,this.mirror)?Xt(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);let i=null;for(;r.length;){let t=null;if(i){const e=this.mirror.getId(i.value.parentNode),r=n(i.value);-1!==e&&-1!==r&&(t=i)}if(!t){let e=r.tail;for(;e;){const r=e;if(e=e.previous,r){const e=this.mirror.getId(r.value.parentNode);if(-1===n(r.value))continue;if(-1!==e){t=r;break}{const e=r.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const n=e.parentNode.host;if(-1!==this.mirror.getId(n)){t=r;break}}}}}}if(!t){for(;r.head;)r.removeNode(r.head.value);break}i=t.previous,r.removeNode(t.value),o(t.value)}const s={texts:this.texts.map((t=>{const e=t.node;return e.parentNode&&"TEXTAREA"===e.parentNode.tagName&&this.genTextAreaValueMutation(e.parentNode),{id:this.mirror.getId(e),value:t.value}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>{const{attributes:e}=t;if("string"==typeof e.style){const r=JSON.stringify(t.styleDiff),n=JSON.stringify(t._unchangedStyles);r.length<e.style.length&&(r+n).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))})),o(this,"genTextAreaValueMutation",(t=>{let e=this.attributeMap.get(t);e||(e={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(e),this.attributeMap.set(t,e)),e.attributes.value=Array.from(t.childNodes,(t=>t.textContent||"")).join("")})),o(this,"processMutation",(t=>{if(!gt(t.target,this.mirror,this.slimDOMOptions))switch(t.type){case"characterData":{const e=t.target.textContent;ht(t.target,this.blockClass,this.blockSelector,!1)||e===t.oldValue||this.texts.push({value:B(t.target,this.maskTextClass,this.maskTextSelector,!0)&&e?this.maskTextFn?this.maskTextFn(e,ft(t.target)):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,o=t.target.getAttribute(n);if("value"===n){const t=v(r);o=h({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:t,value:o,maskInputFn:this.maskInputFn})}if(ht(t.target,this.blockClass,this.blockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if("IFRAME"===r.tagName&&"src"===n&&!this.keepIframeSrcFn(o)){if(r.contentDocument)return;n="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),"type"===n&&"INPUT"===r.tagName&&"password"===(t.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!U(r.tagName,n)&&(i.attributes[n]=k(this.doc,m(r.tagName),m(n),o),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue);for(const t of Array.from(r.style)){const e=r.style.getPropertyValue(t),o=r.style.getPropertyPriority(t);e!==n.style.getPropertyValue(t)||o!==n.style.getPropertyPriority(t)?i.styleDiff[t]=""===o?e:[e,o]:i._unchangedStyles[t]=[e,o]}for(const t of Array.from(n.style))""===r.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if(ht(t.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===t.target.tagName)return void this.genTextAreaValueMutation(t.target);t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const r=this.mirror.getId(e),n=c(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ht(t.target,this.blockClass,this.blockSelector,!1)||gt(e,this.mirror,this.slimDOMOptions)||!mt(e,this.mirror)||(this.addedSet.has(e)?(Vt(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===r||vt(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[Wt(r,n)]?Vt(this.movedSet,e):this.removes.push({parentId:n,id:r,isShadow:!(!c(t.target)||!l(t.target))||void 0})),this.mapRemoves.push(e))}))}})),o(this,"genAdds",((t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(gt(t,this.mirror,this.slimDOMOptions))return;this.movedSet.add(t);let r=null;e&&this.mirror.hasNode(e)&&(r=this.mirror.getId(e)),r&&-1!==r&&(this.movedMap[Wt(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ht(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach((t=>this.genAdds(t))),Ct(t)&&t.shadowRoot.childNodes.forEach((e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)})))}}))}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Vt(t,e){t.delete(e),e.childNodes.forEach((e=>Vt(t,e)))}function Ht(t,e,r){return 0!==t.length&&function(t,e,r){let n=e.parentNode;for(;n;){const e=r.getId(n);if(t.some((t=>t.id===e)))return!0;n=n.parentNode}return!1}(t,e,r)}function Xt(t,e){return 0!==t.size&&Yt(t,e)}function Yt(t,e){const{parentNode:r}=e;return!!r&&(!!t.has(r)||Yt(t,r))}let Kt;const zt=t=>{if(!Kt)return t;return(...e)=>{try{return t(...e)}catch(r){if(Kt&&!0===Kt(r))return;throw r}}},Zt=[];function Jt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function qt(t,e){var r,n;const o=new MutationBuffer;Zt.push(o),o.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const s=null==(n=null==(r=null==window?void 0:window.Zone)?void 0:r.__symbol__)?void 0:n.call(r,"MutationObserver");s&&window[s]&&(i=window[s]);const a=new i(zt(o.processMutations.bind(o)));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Qt({mouseInteractionCb:t,doc:e,mirror:r,blockClass:n,blockSelector:o,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const s=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,a=[];let u=null;return Object.keys(kt).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==s[t])).forEach((i=>{let s=m(i);const c=(e=>i=>{const s=Jt(i);if(ht(s,n,o,!0))return;let a=null,c=e;if("pointerType"in i){switch(i.pointerType){case"mouse":a=Ut.Mouse;break;case"touch":a=Ut.Touch;break;case"pen":a=Ut.Pen}a===Ut.Touch?kt[e]===kt.MouseDown?c="TouchStart":kt[e]===kt.MouseUp&&(c="TouchEnd"):Ut.Pen}else yt(i)&&(a=Ut.Touch);null!==a?(u=a,(c.startsWith("Touch")&&a===Ut.Touch||c.startsWith("Mouse")&&a===Ut.Mouse)&&(a=null)):kt[e]===kt.Click&&(a=u,u=null);const l=yt(i)?i.changedTouches[0]:i;if(!l)return;const d=r.getId(s),{clientX:p,clientY:f}=l;zt(t)({type:kt[c],id:d,x:p,y:f,...null!==a&&{pointerType:a}})})(i);if(window.PointerEvent)switch(kt[i]){case kt.MouseDown:case kt.MouseUp:s=s.replace("mouse","pointer");break;case kt.TouchStart:case kt.TouchEnd:return}a.push(ot(s,c,e))})),zt((()=>{a.forEach((t=>t()))}))}function $t({scrollCb:t,doc:e,mirror:r,blockClass:n,blockSelector:o,sampling:i}){return ot("scroll",zt(st(zt((i=>{const s=Jt(i);if(!s||ht(s,n,o,!0))return;const a=r.getId(s);if(s===e&&e.defaultView){const r=lt(e.defaultView);t({id:a,x:r.left,y:r.top})}else t({id:a,x:s.scrollLeft,y:s.scrollTop})})),i.scroll||100)),e)}const te=["INPUT","TEXTAREA","SELECT"],ee=new WeakMap;function re(t){return function(t,e){if(se("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||se("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||se("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||se("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const r=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(r)}else if(t.parentStyleSheet){const r=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(r)}return e}(t,[])}function ne(t,e,r){let n,o;return t?(t.ownerNode?n=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:n}):{}}function oe({mirror:t,stylesheetManager:e},r){var n,o,i;let s=null;s="#document"===r.nodeName?t.getId(r):t.getId(r.host);const a="#document"===r.nodeName?null==(n=r.defaultView)?void 0:n.Document:null==(i=null==(o=r.ownerDocument)?void 0:o.defaultView)?void 0:i.ShadowRoot,u=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&u?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var t;return null==(t=u.get)?void 0:t.call(this)},set(t){var r;const n=null==(r=u.set)?void 0:r.call(this,t);if(null!==s&&-1!==s)try{e.adoptStyleSheets(t,s)}catch(o){}return n}}),zt((()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):()=>{}}function ie(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};let n;!function(t,e){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:u,styleSheetRuleCb:c,styleDeclarationCb:l,canvasMutationCb:d,fontCb:p,selectionCb:f,customElementCb:h}=t;t.mutationCb=(...t)=>{e.mutation&&e.mutation(...t),r(...t)},t.mousemoveCb=(...t)=>{e.mousemove&&e.mousemove(...t),n(...t)},t.mouseInteractionCb=(...t)=>{e.mouseInteraction&&e.mouseInteraction(...t),o(...t)},t.scrollCb=(...t)=>{e.scroll&&e.scroll(...t),i(...t)},t.viewportResizeCb=(...t)=>{e.viewportResize&&e.viewportResize(...t),s(...t)},t.inputCb=(...t)=>{e.input&&e.input(...t),a(...t)},t.mediaInteractionCb=(...t)=>{e.mediaInteaction&&e.mediaInteaction(...t),u(...t)},t.styleSheetRuleCb=(...t)=>{e.styleSheetRule&&e.styleSheetRule(...t),c(...t)},t.styleDeclarationCb=(...t)=>{e.styleDeclaration&&e.styleDeclaration(...t),l(...t)},t.canvasMutationCb=(...t)=>{e.canvasMutation&&e.canvasMutation(...t),d(...t)},t.fontCb=(...t)=>{e.font&&e.font(...t),p(...t)},t.selectionCb=(...t)=>{e.selection&&e.selection(...t),f(...t)},t.customElementCb=(...t)=>{e.customElement&&e.customElement(...t),h(...t)}}(t,e),t.recordDOM&&(n=qt(t,t.doc));const o=function({mousemoveCb:t,sampling:e,doc:r,mirror:n}){if(!1===e.mousemove)return()=>{};const o="number"==typeof e.mousemove?e.mousemove:50,i="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let s,a=[];const u=st(zt((e=>{const r=Date.now()-s;t(a.map((t=>(t.timeOffset-=r,t))),e),a=[],s=null})),i),c=zt(st(zt((t=>{const e=Jt(t),{clientX:r,clientY:o}=yt(t)?t.changedTouches[0]:t;s||(s=ct()),a.push({x:r,y:o,id:n.getId(e),timeOffset:ct()-s}),u("undefined"!=typeof DragEvent&&t instanceof DragEvent?Pt.Drag:t instanceof MouseEvent?Pt.MouseMove:Pt.TouchMove)})),o,{trailing:!1})),l=[ot("mousemove",c,r),ot("touchmove",c,r),ot("drag",c,r)];return zt((()=>{l.forEach((t=>t()))}))}(t),i=Qt(t),s=$t(t),a=function({viewportResizeCb:t},{win:e}){let r=-1,n=-1;return ot("resize",zt(st(zt((()=>{const e=dt(),o=pt();r===e&&n===o||(t({width:Number(o),height:Number(e)}),r=e,n=o)})),200)),e)}(t,{win:r}),u=function({inputCb:t,doc:e,mirror:r,blockClass:n,blockSelector:o,ignoreClass:i,ignoreSelector:s,maskInputOptions:a,maskInputFn:u,sampling:c,userTriggeredOnInput:l}){function d(t){let r=Jt(t);const c=t.isTrusted,d=r&&r.tagName;if(r&&"OPTION"===d&&(r=r.parentElement),!r||!d||te.indexOf(d)<0||ht(r,n,o,!0))return;if(r.classList.contains(i)||s&&r.matches(s))return;let f=r.value,m=!1;const g=v(r)||"";"radio"===g||"checkbox"===g?m=r.checked:(a[d.toLowerCase()]||a[g])&&(f=h({element:r,maskInputOptions:a,tagName:d,type:g,value:f,maskInputFn:u})),p(r,l?{text:f,isChecked:m,userTriggered:c}:{text:f,isChecked:m});const y=r.name;"radio"===g&&y&&m&&e.querySelectorAll(`input[type="radio"][name="${y}"]`).forEach((t=>{if(t!==r){const e=t.value;p(t,l?{text:e,isChecked:!m,userTriggered:!1}:{text:e,isChecked:!m})}}))}function p(e,n){const o=ee.get(e);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){ee.set(e,n);const o=r.getId(e);zt(t)({...n,id:o})}}const f=("last"===c.input?["change"]:["input","change"]).map((t=>ot(t,zt(d),e))),m=e.defaultView;if(!m)return()=>{f.forEach((t=>t()))};const g=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),y=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&f.push(...y.map((t=>at(t[0],t[1],{set(){zt(d)({target:this,isTrusted:!1})}},!1,m)))),zt((()=>{f.forEach((t=>t()))}))}(t),c=function({mediaInteractionCb:t,blockClass:e,blockSelector:r,mirror:n,sampling:o,doc:i}){const s=zt((i=>st(zt((o=>{const s=Jt(o);if(!s||ht(s,e,r,!0))return;const{currentTime:a,volume:u,muted:c,playbackRate:l,loop:d}=s;t({type:i,id:n.getId(s),currentTime:a,volume:u,muted:c,playbackRate:l,loop:d})})),o.media||500))),a=[ot("play",s(Bt.Play),i),ot("pause",s(Bt.Pause),i),ot("seeked",s(Bt.Seeked),i),ot("volumechange",s(Bt.VolumeChange),i),ot("ratechange",s(Bt.RateChange),i)];return zt((()=>{a.forEach((t=>t()))}))}(t);let l=()=>{},d=()=>{},p=()=>{},f=()=>{};t.recordDOM&&(l=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:zt(((n,o,i)=>{const[s,a]=i,{id:u,styleId:c}=ne(o,e,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&t({id:u,styleId:c,adds:[{rule:s,index:a}]}),n.apply(o,i)}))});const i=n.CSSStyleSheet.prototype.deleteRule;let s,a;n.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:zt(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=ne(o,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,removes:[{index:s}]}),n.apply(o,i)}))}),n.CSSStyleSheet.prototype.replace&&(s=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:zt(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=ne(o,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,replace:s}),n.apply(o,i)}))})),n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:zt(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=ne(o,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,replaceSync:s}),n.apply(o,i)}))}));const u={};ae("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(ae("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),ae("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),ae("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));const c={};return Object.entries(u).forEach((([n,o])=>{c[n]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(c[n].insertRule,{apply:zt(((n,o,i)=>{const[s,a]=i,{id:u,styleId:c}=ne(o.parentStyleSheet,e,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&t({id:u,styleId:c,adds:[{rule:s,index:[...re(o),a||0]}]}),n.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(c[n].deleteRule,{apply:zt(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=ne(o.parentStyleSheet,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,removes:[{index:[...re(o),s]}]}),n.apply(o,i)}))})})),zt((()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=i,s&&(n.CSSStyleSheet.prototype.replace=s),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(u).forEach((([t,e])=>{e.prototype.insertRule=c[t].insertRule,e.prototype.deleteRule=c[t].deleteRule}))}))}(t,{win:r}),d=oe(t,t.doc),p=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:zt(((o,s,a)=>{var u;const[c,l,d]=a;if(r.has(c))return i.apply(s,[c,l,d]);const{id:p,styleId:f}=ne(null==(u=s.parentRule)?void 0:u.parentStyleSheet,e,n.styleMirror);return(p&&-1!==p||f&&-1!==f)&&t({id:p,styleId:f,set:{property:c,value:l,priority:d},index:re(s.parentRule)}),o.apply(s,a)}))});const s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:zt(((o,i,a)=>{var u;const[c]=a;if(r.has(c))return s.apply(i,[c]);const{id:l,styleId:d}=ne(null==(u=i.parentRule)?void 0:u.parentStyleSheet,e,n.styleMirror);return(l&&-1!==l||d&&-1!==d)&&t({id:l,styleId:d,remove:{property:c},index:re(i.parentRule)}),o.apply(i,a)}))}),zt((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s}))}(t,{win:r}),t.collectFonts&&(f=function({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const n=[],o=new WeakMap,i=r.FontFace;r.FontFace=function(t,e,r){const n=new i(t,e,r);return o.set(n,{family:t,buffer:"string"!=typeof e,descriptors:r,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),n};const s=ut(e.fonts,"add",(function(e){return function(r){return setTimeout(zt((()=>{const e=o.get(r);e&&(t(e),o.delete(r))})),0),e.apply(this,[r])}}));return n.push((()=>{r.FontFace=i})),n.push(s),zt((()=>{n.forEach((t=>t()))}))}(t)));const m=function(t){const{doc:e,mirror:r,blockClass:n,blockSelector:o,selectionCb:i}=t;let s=!0;const a=zt((()=>{const t=e.getSelection();if(!t||s&&(null==t?void 0:t.isCollapsed))return;s=t.isCollapsed||!1;const a=[],u=t.rangeCount||0;for(let e=0;e<u;e++){const i=t.getRangeAt(e),{startContainer:s,startOffset:u,endContainer:c,endOffset:l}=i;ht(s,n,o,!0)||ht(c,n,o,!0)||a.push({start:r.getId(s),startOffset:u,end:r.getId(c),endOffset:l})}i({ranges:a})}));return a(),ot("selectionchange",a)}(t),g=function({doc:t,customElementCb:e}){const r=t.defaultView;return r&&r.customElements?ut(r.customElements,"define",(function(t){return function(r,n,o){try{e({define:{name:r}})}catch(i){console.warn(`Custom element callback failed for ${r}`)}return t.apply(this,[r,n,o])}})):()=>{}}(t),y=[];for(const h of t.plugins)y.push(h.observer(h.callback,r,h.options));return zt((()=>{Zt.forEach((t=>t.reset())),null==n||n.disconnect(),o(),i(),s(),a(),u(),c(),l(),d(),p(),f(),m(),g(),y.forEach((t=>t()))}))}function se(t){return void 0!==window[t]}function ae(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class CrossOriginIframeMirror{constructor(t){o(this,"iframeIdToRemoteIdMap",new WeakMap),o(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=t}getId(t,e,r,n){const o=r||this.getIdToRemoteIdMap(t),i=n||this.getRemoteIdToIdMap(t);let s=o.get(e);return s||(s=this.generateIdFn(),o.set(e,s),i.set(s,e)),s}getIds(t,e){const r=this.getIdToRemoteIdMap(t),n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,r,n)))}getRemoteId(t,e,r){const n=r||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const o=n.get(e);return o||-1}getRemoteIds(t,e){const r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,r)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}class IframeManager{constructor(t){o(this,"iframes",new WeakMap),o(this,"crossOriginIframeMap",new WeakMap),o(this,"crossOriginIframeMirror",new CrossOriginIframeMirror(_)),o(this,"crossOriginIframeStyleMirror"),o(this,"crossOriginIframeRootIdMap",new WeakMap),o(this,"mirror"),o(this,"mutationCb"),o(this,"wrappedEmit"),o(this,"loadListener"),o(this,"stylesheetManager"),o(this,"recordCrossOriginIframes"),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=t.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const r=this.crossOriginIframeMap.get(t.source);if(!r)return;const n=this.transformCrossOriginEvent(r,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(t,e){var r;switch(e.type){case Dt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const r=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(e.data.node,r),{timestamp:e.timestamp,type:Dt.IncrementalSnapshot,data:{source:Pt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Dt.Meta:case Dt.Load:case Dt.DomContentLoaded:return!1;case Dt.Plugin:return e;case Dt.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Dt.IncrementalSnapshot:switch(e.data.source){case Pt.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(e.node,r)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Pt.Drag:case Pt.TouchMove:case Pt.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Pt.ViewportResize:return!1;case Pt.MediaInteraction:case Pt.MouseInteraction:case Pt.Scroll:case Pt.CanvasMutation:case Pt.Input:return this.replaceIds(e.data,t,["id"]),e;case Pt.StyleSheetRule:case Pt.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Pt.Font:return e;case Pt.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case Pt.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null==(r=e.data.styles)||r.forEach((e=>{this.replaceStyleIds(e,t,["styleId"])})),e}}return!1}replace(t,e,r,n){for(const o of n)(Array.isArray(e[o])||"number"==typeof e[o])&&(Array.isArray(e[o])?e[o]=t.getIds(r,e[o]):e[o]=t.getId(r,e[o]));return e}replaceIds(t,e,r){return this.replace(this.crossOriginIframeMirror,t,e,r)}replaceStyleIds(t,e,r){return this.replace(this.crossOriginIframeStyleMirror,t,e,r)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}patchRootIdOnNode(t,e){t.type===a.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((t=>{this.patchRootIdOnNode(t,e)}))}}class ShadowDomManager{constructor(t){o(this,"shadowDoms",new WeakSet),o(this,"mutationCb"),o(this,"scrollCb"),o(this,"bypassOptions"),o(this,"mirror"),o(this,"restoreHandlers",[]),this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!l(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=qt({...this.bypassOptions,doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push((()=>r.disconnect())),this.restoreHandlers.push($t({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(oe({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))}),0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,e){const r=this;this.restoreHandlers.push(ut(t.prototype,"attachShadow",(function(t){return function(n){const o=t.call(this,n);return this.shadowRoot&&xt(this)&&r.addShadowRoot(this.shadowRoot,e),o}})))}reset(){this.restoreHandlers.forEach((t=>{try{t()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="undefined"==typeof Uint8Array?[]:new Uint8Array(256),le=0;le<64;le++)ce[ue.charCodeAt(le)]=le;var de=function(t){var e,r,n,o,i,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(e=0;e<a;e+=4)r=ce[t.charCodeAt(e)],n=ce[t.charCodeAt(e+1)],o=ce[t.charCodeAt(e+2)],i=ce[t.charCodeAt(e+3)],l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c};const pe=new Map;const fe=(t,e,r)=>{if(!t||!ge(t,e)&&"object"!=typeof t)return;const n=function(t,e){let r=pe.get(t);return r||(r=new Map,pe.set(t,r)),r.has(e)||r.set(e,[]),r.get(e)}(r,t.constructor.name);let o=n.indexOf(t);return-1===o&&(o=n.length,n.push(t)),o};function he(t,e,r){if(t instanceof Array)return t.map((t=>he(t,e,r)));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){return{rr_type:t.constructor.name,base64:function(t){var e,r=new Uint8Array(t),n=r.length,o="";for(e=0;e<n;e+=3)o+=ue[r[e]>>2],o+=ue[(3&r[e])<<4|r[e+1]>>4],o+=ue[(15&r[e+1])<<2|r[e+2]>>6],o+=ue[63&r[e+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(t)}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[he(t.buffer,e,r),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:r}=t;return{rr_type:e,src:r}}if(t instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:t.toDataURL()}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[he(t.data,e,r),t.width,t.height]}}if(ge(t,e)||"object"==typeof t){return{rr_type:t.constructor.name,index:fe(t,e,r)}}return t}const me=(t,e,r)=>t.map((t=>he(t,e,r))),ge=(t,e)=>{const r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((t=>"function"==typeof e[t]));return Boolean(r.find((r=>t instanceof e[r])))};function ve(t,e,r,n){const o=[];try{const i=ut(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(o,...i){if(!ht(this,e,r,!0)){const t=function(t){return"experimental-webgl"===t?"webgl":t}(o);if("__context"in this||(this.__context=t),n&&["webgl","webgl2"].includes(t))if(i[0]&&"object"==typeof i[0]){const t=i[0];t.preserveDrawingBuffer||(t.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return t.apply(this,[o,...i])}}));o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((t=>t()))}}function ye(t,e,r,n,o,i,s){const a=[],u=Object.getOwnPropertyNames(t);for(const c of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if("function"!=typeof t[c])continue;const i=ut(t,c,(function(t){return function(...i){const a=t.apply(this,i);if(fe(a,s,this),"tagName"in this.canvas&&!ht(this.canvas,n,o,!0)){const t=me(i,s,this),n={type:e,property:c,args:t};r(this.canvas,n)}return a}}));a.push(i)}catch{const n=at(t,c,{set(t){r(this.canvas,{type:e,property:c,args:[t],setter:!0})}});a.push(n)}return a}const Ee="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfQogIGNvbnN0IHdvcmtlciA9IHNlbGY7CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMgfSA9IGUuZGF0YTsKICAgICAgY29uc3QgdHJhbnNwYXJlbnRCYXNlNjQgPSBnZXRUcmFuc3BhcmVudEJsb2JGb3IoCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGRhdGFVUkxPcHRpb25zCiAgICAgICk7CiAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7CiAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCk7CiAgICAgIGJpdG1hcC5jbG9zZSgpOwogICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICBjb25zdCB0eXBlID0gYmxvYi50eXBlOwogICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTsKICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgaWYgKCFsYXN0QmxvYk1hcC5oYXMoaWQpICYmIGF3YWl0IHRyYW5zcGFyZW50QmFzZTY0ID09PSBiYXNlNjQpIHsKICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpCiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodAogICAgICB9KTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQgfSk7CiAgICB9CiAgfTsKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UtYml0bWFwLWRhdGEtdXJsLXdvcmtlci1CWjFyN1JKRC5qcy5tYXAK",Se="undefined"!=typeof window&&window.Blob&&new Blob([(Te=Ee,Uint8Array.from(atob(Te),(t=>t.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});var Te;function _e(t){let e;try{if(e=Se&&(window.URL||window.webkitURL).createObjectURL(Se),!e)throw"";const r=new Worker(e,{name:null==t?void 0:t.name});return r.addEventListener("error",(()=>{(window.URL||window.webkitURL).revokeObjectURL(e)})),r}catch(r){return new Worker("data:text/javascript;base64,"+Ee,{name:null==t?void 0:t.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}class CanvasManager{constructor(t){o(this,"pendingCanvasMutations",new Map),o(this,"rafStamps",{latestId:0,invokeId:null}),o(this,"mirror"),o(this,"mutationCb"),o(this,"resetObservers"),o(this,"frozen",!1),o(this,"locked",!1),o(this,"processMutation",((t,e)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)}));const{sampling:e="all",win:r,blockClass:n,blockSelector:i,recordCanvas:s,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,s&&"all"===e&&this.initCanvasMutationObserver(r,n,i),s&&"number"==typeof e&&this.initCanvasFPSObserver(e,r,n,i,{dataURLOptions:a})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(t,e,r,n,o){const i=ve(e,r,n,!0),s=new Map,a=new _e;a.onmessage=t=>{const{id:e}=t.data;if(s.set(e,!1),!("base64"in t.data))return;const{base64:r,type:n,width:o,height:i}=t.data;this.mutationCb({id:e,type:Ft["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:n}]},0,0]}]})};const u=1e3/t;let c,l=0;const d=t=>{l&&t-l<u||(l=t,(()=>{const t=[];return e.document.querySelectorAll("canvas").forEach((e=>{ht(e,r,n,!0)||t.push(e)})),t})().forEach((async t=>{var e;const r=this.mirror.getId(t);if(s.get(r))return;if(0===t.width||0===t.height)return;if(s.set(r,!0),["webgl","webgl2"].includes(t.__context)){const r=t.getContext(t.__context);!1===(null==(e=null==r?void 0:r.getContextAttributes())?void 0:e.preserveDrawingBuffer)&&r.clear(r.COLOR_BUFFER_BIT)}const n=await createImageBitmap(t);a.postMessage({id:r,bitmap:n,width:t.width,height:t.height,dataURLOptions:o.dataURLOptions},[n])}))),c=requestAnimationFrame(d)};c=requestAnimationFrame(d),this.resetObservers=()=>{i(),cancelAnimationFrame(c)}}initCanvasMutationObserver(t,e,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const n=ve(t,e,r,!1),o=function(t,e,r,n){const o=[],i=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const s of i)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[s])continue;const i=ut(e.CanvasRenderingContext2D.prototype,s,(function(o){return function(...i){return ht(this.canvas,r,n,!0)||setTimeout((()=>{const r=me(i,e,this);t(this.canvas,{type:Ft["2D"],property:s,args:r})}),0),o.apply(this,i)}}));o.push(i)}catch{const r=at(e.CanvasRenderingContext2D.prototype,s,{set(e){t(this.canvas,{type:Ft["2D"],property:s,args:[e],setter:!0})}});o.push(r)}return()=>{o.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,r),i=function(t,e,r,n,o){const i=[];return i.push(...ye(e.WebGLRenderingContext.prototype,Ft.WebGL,t,r,n,0,e)),void 0!==e.WebGL2RenderingContext&&i.push(...ye(e.WebGL2RenderingContext.prototype,Ft.WebGL2,t,r,n,0,e)),()=>{i.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,r,this.mirror);this.resetObservers=()=>{n(),o(),i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((t,e)=>{const r=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,r)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||-1===e)return;const n=r.map((t=>{const{type:e,...r}=t;return r})),{type:o}=r[0];this.mutationCb({id:e,type:o,commands:n}),this.pendingCanvasMutations.delete(t)}}class StylesheetManager{constructor(t){o(this,"trackedLinkElements",new WeakSet),o(this,"mutationCb"),o(this,"adoptedStyleSheetCb"),o(this,"styleMirror",new StyleSheetMirror),this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const r={id:e,styleIds:[]},n=[];for(const o of t){let t;this.styleMirror.has(o)?t=this.styleMirror.getId(o):(t=this.styleMirror.add(o),n.push({styleId:t,rules:Array.from(o.rules||CSSRule,((t,e)=>({rule:p(t),index:e})))})),r.styleIds.push(t)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ProcessedNodeManager{constructor(){o(this,"nodeMap",new WeakMap),o(this,"active",!1)}inOtherBuffer(t,e){const r=this.nodeMap.get(t);return r&&Array.from(r).some((t=>t!==e))}add(t,e){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}destroy(){}}let be,Ie,Ce,Re=!1;try{if(2!==Array.from([1],(t=>2*t))[0]){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=(null==(r=t.contentWindow)?void 0:r.Array.from)||Array.from,document.body.removeChild(t)}}catch(Ur){console.debug("Unable to override Array.from",Ur)}const Ne=f();function Ae(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:s="rr-ignore",ignoreSelector:a=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,inlineStylesheet:l=!0,maskAllInputs:d,maskInputOptions:p,slimDOMOptions:f,maskInputFn:h,maskTextFn:m,hooks:g,packFn:v,sampling:y={},dataURLOptions:E={},mousemoveWait:S,recordDOM:T=!0,recordCanvas:_=!1,recordCrossOriginIframes:b=!1,recordAfter:I=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:C=!1,collectFonts:R=!1,inlineImages:N=!1,plugins:A,keepIframeSrcFn:O=(()=>!1),ignoreCSSAttributes:w=new Set([]),errorHandler:M}=t;Kt=M;const x=!b||window.parent===window;let L=!1;if(!x)try{window.parent.document&&(L=!1)}catch(K){L=!0}if(x&&!e)throw new Error("emit function is required");if(!x&&!L)return()=>{};void 0!==S&&void 0===y.mousemove&&(y.mousemove=S),Ne.reset();const D=!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},P=!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===f,headMetaDescKeywords:"all"===f,headTitleMutations:"all"===f}:f||{};let k;Et();let U=0;const F=t=>{for(const e of A||[])e.eventProcessor&&(t=e.eventProcessor(t));return v&&!L&&(t=v(t)),t};be=(t,o)=>{var i;const s=t;if(s.timestamp=ct(),!(null==(i=Zt[0])?void 0:i.isFrozen())||s.type===Dt.FullSnapshot||s.type===Dt.IncrementalSnapshot&&s.data.source===Pt.Mutation||Zt.forEach((t=>t.unfreeze())),x)null==e||e(F(s),o);else if(L){const t={type:"rrweb",event:F(s),origin:window.location.origin,isCheckout:o};window.parent.postMessage(t,"*")}if(s.type===Dt.FullSnapshot)k=s,U=0;else if(s.type===Dt.IncrementalSnapshot){if(s.data.source===Pt.Mutation&&s.data.isAttachIframe)return;U++;const t=n&&U>=n,e=r&&s.timestamp-k.timestamp>r;(t||e)&&Ie(!0)}};const B=t=>{be({type:Dt.IncrementalSnapshot,data:{source:Pt.Mutation,...t}})},j=t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.Scroll,...t}}),G=t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.CanvasMutation,...t}}),V=new StylesheetManager({mutationCb:B,adoptedStyleSheetCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.AdoptedStyleSheet,...t}})}),H=new IframeManager({mirror:Ne,mutationCb:B,stylesheetManager:V,recordCrossOriginIframes:b,wrappedEmit:be});for(const W of A||[])W.getMirror&&W.getMirror({nodeMirror:Ne,crossOriginIframeMirror:H.crossOriginIframeMirror,crossOriginIframeStyleMirror:H.crossOriginIframeStyleMirror});const X=new ProcessedNodeManager;Ce=new CanvasManager({recordCanvas:_,mutationCb:G,win:window,blockClass:o,blockSelector:i,mirror:Ne,sampling:y.canvas,dataURLOptions:E});const Y=new ShadowDomManager({mutationCb:B,scrollCb:j,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskInputOptions:D,dataURLOptions:E,maskTextFn:m,maskInputFn:h,recordCanvas:_,inlineImages:N,sampling:y,slimDOMOptions:P,iframeManager:H,stylesheetManager:V,canvasManager:Ce,keepIframeSrcFn:O,processedNodeManager:X},mirror:Ne});Ie=(t=!1)=>{if(!T)return;be({type:Dt.Meta,data:{href:window.location.href,width:pt(),height:dt()}},t),V.reset(),Y.init(),Zt.forEach((t=>t.lock()));const e=function(t,e){const{mirror:r=new Mirror,blockClass:n="rr-block",blockSelector:o=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:u=!1,recordCanvas:c=!1,maskAllInputs:l=!1,maskTextFn:d,maskInputFn:p,slimDOM:f=!1,dataURLOptions:h,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T=(()=>!1)}=e||{};return W(t,{doc:t,mirror:r,blockClass:n,blockSelector:o,maskTextClass:i,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===l?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===l?{password:!0}:l,maskTextFn:d,maskInputFn:p,slimDOMOptions:!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===f,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===f?{}:f,dataURLOptions:h,inlineImages:u,recordCanvas:c,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:Ne,blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskAllInputs:D,maskTextFn:m,slimDOM:P,dataURLOptions:E,recordCanvas:_,inlineImages:N,onSerialize:t=>{_t(t,Ne)&&H.addIframe(t),bt(t,Ne)&&V.trackLinkElement(t),Ct(t)&&Y.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{H.attachIframe(t,e),Y.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{V.attachLinkElement(t,e)},keepIframeSrcFn:O});if(!e)return console.warn("Failed to snapshot the document");be({type:Dt.FullSnapshot,data:{node:e,initialOffset:lt(window)}},t),Zt.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,Ne.getId(document))};try{const t=[],e=t=>{var e;return zt(ie)({mutationCb:B,mousemoveCb:(t,e)=>be({type:Dt.IncrementalSnapshot,data:{source:e,positions:t}}),mouseInteractionCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.MouseInteraction,...t}}),scrollCb:j,viewportResizeCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.ViewportResize,...t}}),inputCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.Input,...t}}),mediaInteractionCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.MediaInteraction,...t}}),styleSheetRuleCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.StyleSheetRule,...t}}),styleDeclarationCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.StyleDeclaration,...t}}),canvasMutationCb:G,fontCb:t=>be({type:Dt.IncrementalSnapshot,data:{source:Pt.Font,...t}}),selectionCb:t=>{be({type:Dt.IncrementalSnapshot,data:{source:Pt.Selection,...t}})},customElementCb:t=>{be({type:Dt.IncrementalSnapshot,data:{source:Pt.CustomElement,...t}})},blockClass:o,ignoreClass:s,ignoreSelector:a,maskTextClass:u,maskTextSelector:c,maskInputOptions:D,inlineStylesheet:l,sampling:y,recordDOM:T,recordCanvas:_,inlineImages:N,userTriggeredOnInput:C,collectFonts:R,doc:t,maskInputFn:h,maskTextFn:m,keepIframeSrcFn:O,blockSelector:i,slimDOMOptions:P,dataURLOptions:E,mirror:Ne,iframeManager:H,stylesheetManager:V,shadowDomManager:Y,processedNodeManager:X,canvasManager:Ce,ignoreCSSAttributes:w,plugins:(null==(e=null==A?void 0:A.filter((t=>t.observer)))?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>be({type:Dt.Plugin,data:{plugin:t.name,payload:e}})}))))||[]},g)};H.addLoadListener((r=>{try{t.push(e(r.contentDocument))}catch(n){console.warn(n)}}));const r=()=>{Ie(),t.push(e(document)),Re=!0};return"interactive"===document.readyState||"complete"===document.readyState?r():(t.push(ot("DOMContentLoaded",(()=>{be({type:Dt.DomContentLoaded,data:{}}),"DOMContentLoaded"===I&&r()}))),t.push(ot("load",(()=>{be({type:Dt.Load,data:{}}),"load"===I&&r()}),window))),()=>{t.forEach((t=>t())),X.destroy(),Re=!1,Kt=void 0}}catch(z){console.warn(z)}}Ae.addCustomEvent=(t,e)=>{if(!Re)throw new Error("please add custom event after start recording");be({type:Dt.Custom,data:{tag:t,payload:e}})},Ae.freezePage=()=>{Zt.forEach((t=>t.freeze()))},Ae.takeFullSnapshot=t=>{if(!Re)throw new Error("please take full snapshot after start recording");Ie(t)},Ae.mirror=Ne;var Oe=Object.defineProperty,we=(t,e,r)=>(((t,e,r)=>{e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),Me=Object.defineProperty,xe=(t,e,r)=>(((t,e,r)=>{e in t?Me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),Le=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Le||{});let De=class Mirror2{constructor(){xe(this,"idNodeMap",new Map),xe(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;return(null==(e=this.getMeta(t))?void 0:e.id)??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}replace(t,e){const r=this.getNode(t);if(r){const t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Pe(t){const e=[];for(const r in t){const n=t[r];if("string"!=typeof n)continue;const o=je(r);e.push(`${o}: ${n};`)}return e.join(" ")}const ke=/-([a-z])/g,Ue=/^--[a-zA-Z0-9-]+$/,Fe=t=>Ue.test(t)?t:t.replace(ke,((t,e)=>e?e.toUpperCase():"")),Be=/\B([A-Z])/g,je=t=>t.replace(Be,"-$1").toLowerCase();class BaseRRNode{constructor(...t){we(this,"parentElement",null),we(this,"parentNode",null),we(this,"ownerDocument"),we(this,"firstChild",null),we(this,"lastChild",null),we(this,"previousSibling",null),we(this,"nextSibling",null),we(this,"ELEMENT_NODE",1),we(this,"TEXT_NODE",3),we(this,"nodeType"),we(this,"nodeName"),we(this,"RRNodeType")}get childNodes(){const t=[];let e=this.firstChild;for(;e;)t.push(e),e=e.nextSibling;return t}contains(t){if(!(t instanceof BaseRRNode))return!1;if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}appendChild(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(t,e){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class BaseRRDocument extends BaseRRNode{constructor(...t){super(t),we(this,"nodeType",9),we(this,"nodeName","#document"),we(this,"compatMode","CSS1Compat"),we(this,"RRNodeType",Le.Document),we(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find((t=>t.RRNodeType===Le.Element&&"HTML"===t.tagName))||null}get body(){var t;return(null==(t=this.documentElement)?void 0:t.childNodes.find((t=>t.RRNodeType===Le.Element&&"BODY"===t.tagName)))||null}get head(){var t;return(null==(t=this.documentElement)?void 0:t.childNodes.find((t=>t.RRNodeType===Le.Element&&"HEAD"===t.tagName)))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(t){const e=t.RRNodeType;if((e===Le.Element||e===Le.DocumentType)&&this.childNodes.some((t=>t.RRNodeType===e)))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${e===Le.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const r=Ge(this,t);return r.parentElement=null,r}insertBefore(t,e){const r=t.RRNodeType;if((r===Le.Element||r===Le.DocumentType)&&this.childNodes.some((t=>t.RRNodeType===r)))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${r===Le.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const n=We(this,t,e);return n.parentElement=null,n}removeChild(t){return Ve(this,t)}open(){this.firstChild=null,this.lastChild=null}close(){}write(t){let e;if('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'===t?e="-//W3C//DTD XHTML 1.0 Transitional//EN":'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'===t&&(e="-//W3C//DTD HTML 4.0 Transitional//EN"),e){const t=this.createDocumentType("html",e,"");this.open(),this.appendChild(t)}}createDocument(t,e,r){return new BaseRRDocument}createDocumentType(t,e,r){const n=new BaseRRDocumentType(t,e,r);return n.ownerDocument=this,n}createElement(t){const e=new BaseRRElement(t);return e.ownerDocument=this,e}createElementNS(t,e){return this.createElement(e)}createTextNode(t){const e=new BaseRRText(t);return e.ownerDocument=this,e}createComment(t){const e=new BaseRRComment(t);return e.ownerDocument=this,e}createCDATASection(t){const e=new BaseRRCDATASection(t);return e.ownerDocument=this,e}toString(){return"RRDocument"}}class BaseRRDocumentType extends BaseRRNode{constructor(t,e,r){super(),we(this,"nodeType",10),we(this,"RRNodeType",Le.DocumentType),we(this,"name"),we(this,"publicId"),we(this,"systemId"),we(this,"textContent",null),this.name=t,this.publicId=e,this.systemId=r,this.nodeName=t}toString(){return"RRDocumentType"}}class BaseRRElement extends BaseRRNode{constructor(t){super(),we(this,"nodeType",1),we(this,"RRNodeType",Le.Element),we(this,"tagName"),we(this,"attributes",{}),we(this,"shadowRoot",null),we(this,"scrollLeft"),we(this,"scrollTop"),this.tagName=t.toUpperCase(),this.nodeName=t.toUpperCase()}get textContent(){let t="";return this.childNodes.forEach((e=>t+=e.textContent)),t}set textContent(t){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(t))}get classList(){return new ClassList(this.attributes.class,(t=>{this.attributes.class=t}))}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const t=this.attributes.style?function(t){const e={},r=/:(.+)/;return t.replace(/\/\*.*?\*\//g,"").split(/;(?![^(]*\))/g).forEach((function(t){if(t){const n=t.split(r);n.length>1&&(e[Fe(n[0].trim())]=n[1].trim())}})),e}(this.attributes.style):{},e=/\B([A-Z])/g;return t.setProperty=(r,n,o)=>{if(e.test(r))return;const i=Fe(r);n?t[i]=n:delete t[i],"important"===o&&(t[i]+=" !important"),this.attributes.style=Pe(t)},t.removeProperty=r=>{if(e.test(r))return"";const n=Fe(r),o=t[n]||"";return delete t[n],this.attributes.style=Pe(t),o},t}getAttribute(t){return this.attributes[t]||null}setAttribute(t,e){this.attributes[t]=e}setAttributeNS(t,e,r){this.setAttribute(e,r)}removeAttribute(t){delete this.attributes[t]}appendChild(t){return Ge(this,t)}insertBefore(t,e){return We(this,t,e)}removeChild(t){return Ve(this,t)}attachShadow(t){const e=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=e,e}dispatchEvent(t){return!0}toString(){let t="";for(const e in this.attributes)t+=`${e}="${this.attributes[e]}" `;return`${this.tagName} ${t}`}}class BaseRRMediaElement extends BaseRRElement{constructor(){super(...arguments),we(this,"currentTime"),we(this,"volume"),we(this,"paused"),we(this,"muted"),we(this,"playbackRate"),we(this,"loop")}attachShadow(t){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class BaseRRText extends BaseRRNode{constructor(t){super(),we(this,"nodeType",3),we(this,"nodeName","#text"),we(this,"RRNodeType",Le.Text),we(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class BaseRRComment extends BaseRRNode{constructor(t){super(),we(this,"nodeType",8),we(this,"nodeName","#comment"),we(this,"RRNodeType",Le.Comment),we(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class BaseRRCDATASection extends BaseRRNode{constructor(t){super(),we(this,"nodeName","#cdata-section"),we(this,"nodeType",4),we(this,"RRNodeType",Le.CDATA),we(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class ClassList{constructor(t,e){if(we(this,"onChange"),we(this,"classes",[]),we(this,"add",((...t)=>{for(const e of t){const t=String(e);this.classes.indexOf(t)>=0||this.classes.push(t)}this.onChange&&this.onChange(this.classes.join(" "))})),we(this,"remove",((...t)=>{this.classes=this.classes.filter((e=>-1===t.indexOf(e))),this.onChange&&this.onChange(this.classes.join(" "))})),t){const e=t.trim().split(/\s+/);this.classes.push(...e)}this.onChange=e}}function Ge(t,e){return e.parentNode&&e.parentNode.removeChild(e),t.lastChild?(t.lastChild.nextSibling=e,e.previousSibling=t.lastChild):(t.firstChild=e,e.previousSibling=null),t.lastChild=e,e.nextSibling=null,e.parentNode=t,e.parentElement=t,e.ownerDocument=t.ownerDocument,e}function We(t,e,r){if(!r)return Ge(t,e);if(r.parentNode!==t)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return e===r||(e.parentNode&&e.parentNode.removeChild(e),e.previousSibling=r.previousSibling,r.previousSibling=e,e.nextSibling=r,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,e.parentElement=t,e.parentNode=t,e.ownerDocument=t.ownerDocument),e}function Ve(t,e){if(e.parentNode!==t)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return e.previousSibling?e.previousSibling.nextSibling=e.nextSibling:t.firstChild=e.nextSibling,e.nextSibling?e.nextSibling.previousSibling=e.previousSibling:t.lastChild=e.previousSibling,e.previousSibling=null,e.nextSibling=null,e.parentElement=null,e.parentNode=null,e}var He=(t=>(t[t.PLACEHOLDER=0]="PLACEHOLDER",t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",t[t.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",t[t.ENTITY_NODE=6]="ENTITY_NODE",t[t.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE",t[t.DOCUMENT_NODE=9]="DOCUMENT_NODE",t[t.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",t[t.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",t))(He||{});const Xe={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},Ye={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let Ke=null;function ze(t,e,r,n=e.mirror||e.ownerDocument.mirror){t=function(t,e,r,n){var o;r.afterAppend&&!Ke&&(Ke=new WeakSet,setTimeout((()=>{Ke=null}),0));if(!qe(t,e)){const i=Je(e,r.mirror,n);null==(o=t.parentNode)||o.replaceChild(i,t),t=i}switch(e.RRNodeType){case Le.Document:if(!Qe(t,e,r.mirror,n)){const o=n.getMeta(e);o&&(r.mirror.removeNodeFromMap(t),t.close(),t.open(),r.mirror.add(t,o),null==Ke||Ke.add(t))}break;case Le.Element:{const o=t,i=e;switch(i.tagName){case"IFRAME":{const o=t.contentDocument;if(!o)break;ze(o,e.contentDocument,r,n);break}}i.shadowRoot&&(o.shadowRoot||o.attachShadow({mode:"open"}),Ze(o.shadowRoot,i.shadowRoot,r,n)),function(t,e,r){const n=t.attributes,o=e.attributes;for(const i in o){const n=o[i],s=r.getMeta(e);if((null==s?void 0:s.isSVG)&&Xe[i])t.setAttributeNS(Xe[i],i,n);else if("CANVAS"===e.tagName&&"rr_dataURL"===i){const e=document.createElement("img");e.src=n,e.onload=()=>{const r=t.getContext("2d");r&&r.drawImage(e,0,0,e.width,e.height)}}else{if("IFRAME"===e.tagName&&"srcdoc"===i)continue;t.setAttribute(i,n)}}for(const{name:i}of Array.from(n))i in o||t.removeAttribute(i);e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.scrollTop&&(t.scrollTop=e.scrollTop)}(o,i,n);break}}return t}(t,e,r,n),Ze(t,e,r,n),function(t,e,r){var n;switch(e.RRNodeType){case Le.Document:{const t=e.scrollData;t&&r.applyScroll(t,!0);break}case Le.Element:{const n=t,o=e;switch(o.scrollData&&r.applyScroll(o.scrollData,!0),o.inputData&&r.applyInput(o.inputData),o.tagName){case"AUDIO":case"VIDEO":{const e=t,r=o;void 0!==r.paused&&(r.paused?e.pause():e.play()),void 0!==r.muted&&(e.muted=r.muted),void 0!==r.volume&&(e.volume=r.volume),void 0!==r.currentTime&&(e.currentTime=r.currentTime),void 0!==r.playbackRate&&(e.playbackRate=r.playbackRate),void 0!==r.loop&&(e.loop=r.loop);break}case"CANVAS":{const o=e;if(null!==o.rr_dataURL){const t=document.createElement("img");t.onload=()=>{const e=n.getContext("2d");e&&e.drawImage(t,0,0,t.width,t.height)},t.src=o.rr_dataURL}o.canvasMutations.forEach((e=>r.applyCanvas(e.event,e.mutation,t)));break}case"STYLE":{const t=n.sheet;t&&e.rules.forEach((e=>r.applyStyleSheetMutation(e,t)));break}}break}case Le.Text:case Le.Comment:case Le.CDATA:t.textContent!==e.data&&(t.textContent=e.data)}(null==Ke?void 0:Ke.has(t))&&(Ke.delete(t),null==(n=r.afterAppend)||n.call(r,t,r.mirror.getId(t)))}(t,e,r)}function Ze(t,e,r,n){const o=Array.from(t.childNodes),i=e.childNodes;if(0===o.length&&0===i.length)return;let s,a,u=0,c=o.length-1,l=0,d=i.length-1,p=o[u],f=o[c],h=i[l],m=i[d];for(;u<=c&&l<=d;)if(void 0===p)p=o[++u];else if(void 0===f)f=o[--c];else if(Qe(p,h,r.mirror,n))p=o[++u],h=i[++l];else if(Qe(f,m,r.mirror,n))f=o[--c],m=i[--d];else if(Qe(p,m,r.mirror,n)){try{t.insertBefore(p,f.nextSibling)}catch(y){console.warn(y)}p=o[++u],m=i[--d]}else if(Qe(f,h,r.mirror,n)){try{t.insertBefore(f,p)}catch(y){console.warn(y)}f=o[--c],h=i[++l]}else{if(!s){s={};for(let t=u;t<=c;t++){const e=o[t];e&&r.mirror.hasNode(e)&&(s[r.mirror.getId(e)]=t)}}a=s[n.getId(h)];const e=o[a];if(void 0!==a&&e&&Qe(e,h,r.mirror,n)){try{t.insertBefore(e,p)}catch(y){console.warn(y)}o[a]=void 0}else{const e=Je(h,r.mirror,n);"#document"===t.nodeName&&p&&(e.nodeType===e.DOCUMENT_TYPE_NODE&&p.nodeType===p.DOCUMENT_TYPE_NODE||e.nodeType===e.ELEMENT_NODE&&p.nodeType===p.ELEMENT_NODE)&&(t.removeChild(p),r.mirror.removeNodeFromMap(p),p=o[++u]);try{t.insertBefore(e,p||null)}catch(y){console.warn(y)}}h=i[++l]}if(u>c){const e=i[d+1];let o=null;for(e&&(o=r.mirror.getNode(n.getId(e)));l<=d;++l){const e=Je(i[l],r.mirror,n);try{t.insertBefore(e,o)}catch(y){console.warn(y)}}}else if(l>d)for(;u<=c;u++){const e=o[u];if(e&&e.parentNode===t)try{t.removeChild(e),r.mirror.removeNodeFromMap(e)}catch(y){console.warn(y)}}let g=t.firstChild,v=e.firstChild;for(;null!==g&&null!==v;)ze(g,v,r,n),g=g.nextSibling,v=v.nextSibling}function Je(t,e,r){const n=r.getId(t),o=r.getMeta(t);let i=null;if(n>-1&&(i=e.getNode(n)),null!==i&&qe(i,t))return i;switch(t.RRNodeType){case Le.Document:i=new Document;break;case Le.DocumentType:i=document.implementation.createDocumentType(t.name,t.publicId,t.systemId);break;case Le.Element:{let e=t.tagName.toLowerCase();e=Ye[e]||e,i=o&&"isSVG"in o&&(null==o?void 0:o.isSVG)?document.createElementNS(Xe.svg,e):document.createElement(t.tagName);break}case Le.Text:i=document.createTextNode(t.data);break;case Le.Comment:i=document.createComment(t.data);break;case Le.CDATA:i=document.createCDATASection(t.data)}o&&e.add(i,{...o});try{null==Ke||Ke.add(i)}catch(s){}return i}function qe(t,e){return t.nodeType===e.nodeType&&(t.nodeType!==t.ELEMENT_NODE||t.tagName.toUpperCase()===e.tagName)}function Qe(t,e,r,n){const o=r.getId(t),i=n.getId(e);return-1!==o&&o===i&&qe(t,e)}class RRDocument extends BaseRRDocument{constructor(t){super(),we(this,"UNSERIALIZED_STARTING_ID",-2),we(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),we(this,"mirror",new Mirror22),we(this,"scrollData",null),t&&(this.mirror=t)}get unserializedId(){return this._unserializedId--}createDocument(t,e,r){return new RRDocument}createDocumentType(t,e,r){const n=new $e(t,e,r);return n.ownerDocument=this,n}createElement(t){const e=t.toUpperCase();let r;switch(e){case"AUDIO":case"VIDEO":r=new RRMediaElement(e);break;case"IFRAME":r=new RRIFrameElement(e,this.mirror);break;case"CANVAS":r=new RRCanvasElement(e);break;case"STYLE":r=new RRStyleElement(e);break;default:r=new RRElement(e)}return r.ownerDocument=this,r}createComment(t){const e=new er(t);return e.ownerDocument=this,e}createCDATASection(t){const e=new rr(t);return e.ownerDocument=this,e}createTextNode(t){const e=new tr(t);return e.ownerDocument=this,e}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const $e=BaseRRDocumentType;class RRElement extends BaseRRElement{constructor(){super(...arguments),we(this,"inputData",null),we(this,"scrollData",null)}}class RRMediaElement extends BaseRRMediaElement{}class RRCanvasElement extends RRElement{constructor(){super(...arguments),we(this,"rr_dataURL",null),we(this,"canvasMutations",[])}getContext(){return null}}class RRStyleElement extends RRElement{constructor(){super(...arguments),we(this,"rules",[])}}class RRIFrameElement extends RRElement{constructor(t,e){super(t),we(this,"contentDocument",new RRDocument),this.contentDocument.mirror=e}}const tr=BaseRRText,er=BaseRRComment,rr=BaseRRCDATASection;function nr(t,e,r,n){let o;switch(t.nodeType){case He.DOCUMENT_NODE:n&&"IFRAME"===n.nodeName?o=n.contentDocument:(o=e,o.compatMode=t.compatMode);break;case He.DOCUMENT_TYPE_NODE:{const r=t;o=e.createDocumentType(r.name,r.publicId,r.systemId);break}case He.ELEMENT_NODE:{const r=t,n=(i=r)instanceof HTMLFormElement?"FORM":i.tagName.toUpperCase();o=e.createElement(n);const s=o;for(const{name:t,value:e}of Array.from(r.attributes))s.attributes[t]=e;r.scrollLeft&&(s.scrollLeft=r.scrollLeft),r.scrollTop&&(s.scrollTop=r.scrollTop);break}case He.TEXT_NODE:o=e.createTextNode(t.textContent||"");break;case He.CDATA_SECTION_NODE:o=e.createCDATASection(t.data);break;case He.COMMENT_NODE:o=e.createComment(t.textContent||"");break;case He.DOCUMENT_FRAGMENT_NODE:o=n.attachShadow({mode:"open"});break;default:return null}var i;let s=r.getMeta(t);return e instanceof RRDocument&&(s||(s=ir(o,e.unserializedId),r.add(t,s)),e.mirror.add(o,{...s})),o}function or(t,e=function(){return new De}(),r=new RRDocument){return function t(n,o){const i=nr(n,r,e,o);if(null!==i)if("IFRAME"!==(null==o?void 0:o.nodeName)&&n.nodeType!==He.DOCUMENT_FRAGMENT_NODE&&(null==o||o.appendChild(i),i.parentNode=o,i.parentElement=o),"IFRAME"===n.nodeName){const e=n.contentDocument;e&&t(e,i)}else n.nodeType!==He.DOCUMENT_NODE&&n.nodeType!==He.ELEMENT_NODE&&n.nodeType!==He.DOCUMENT_FRAGMENT_NODE||(n.nodeType===He.ELEMENT_NODE&&n.shadowRoot&&t(n.shadowRoot,i),n.childNodes.forEach((e=>t(e,i))))}(t,null),r}class Mirror22{constructor(){we(this,"idNodeMap",new Map),we(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;return(null==(e=this.getMeta(t))?void 0:e.id)??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}replace(t,e){const r=this.getNode(t);if(r){const t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ir(t,e){switch(t.RRNodeType){case Le.Document:return{id:e,type:t.RRNodeType,childNodes:[]};case Le.DocumentType:{const r=t;return{id:e,type:t.RRNodeType,name:r.name,publicId:r.publicId,systemId:r.systemId}}case Le.Element:return{id:e,type:t.RRNodeType,tagName:t.tagName.toLowerCase(),attributes:{},childNodes:[]};case Le.Text:case Le.Comment:return{id:e,type:t.RRNodeType,textContent:t.textContent||""};case Le.CDATA:return{id:e,type:t.RRNodeType,textContent:""}}}function sr(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map((function(t){t(r)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,r)}))}}}const ar=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"}));function ur(t=window,e=document){if("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)return;const r=t.HTMLElement||t.Element,n=468,o={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||u,scrollIntoView:r.prototype.scrollIntoView},i=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now;const s=(a=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(a)?1:0);var a;function u(t,e){this.scrollLeft=t,this.scrollTop=e}function c(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function d(e,r){const n=t.getComputedStyle(e,null)["overflow"+r];return"auto"===n||"scroll"===n}function p(t){const e=l(t,"Y")&&d(t,"Y"),r=l(t,"X")&&d(t,"X");return e||r}function f(e){let r,o,s,a=(i()-e.startTime)/n;var u;a=a>1?1:a,u=a,r=.5*(1-Math.cos(Math.PI*u)),o=e.startX+(e.x-e.startX)*r,s=e.startY+(e.y-e.startY)*r,e.method.call(e.scrollable,o,s),o===e.x&&s===e.y||t.requestAnimationFrame(f.bind(t,e))}function h(r,n,s){let a,c,l,d;const p=i();r===e.body?(a=t,c=t.scrollX||t.pageXOffset,l=t.scrollY||t.pageYOffset,d=o.scroll):(a=r,c=r.scrollLeft,l=r.scrollTop,d=u),f({scrollable:a,method:d,startTime:p,startX:c,startY:l,x:n,y:s})}t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):o.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?o.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(!0===c(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}const t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0===c(arguments[0]))return void o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);const r=function(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}(this),n=r.getBoundingClientRect(),i=this.getBoundingClientRect();r!==e.body?(h.call(this,r,r.scrollLeft+i.left-n.left,r.scrollTop+i.top-n.top),"fixed"!==t.getComputedStyle(r).position&&t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}class Timer{constructor(t=[],e){o(this,"timeOffset",0),o(this,"speed"),o(this,"actions"),o(this,"raf",null),o(this,"lastTimestamp"),this.actions=t,this.speed=e.speed}addAction(t){const e=!0===this.raf;if(!this.actions.length||this.actions[this.actions.length-1].delay<=t.delay)this.actions.push(t);else{const e=this.findActionIndex(t);this.actions.splice(e,0,t)}e&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const t=performance.now();for(this.timeOffset+=(t-this.lastTimestamp)*this.speed,this.lastTimestamp=t;this.actions.length;){const t=this.actions[0];if(!(this.timeOffset>=t.delay))break;this.actions.shift(),t.doAction()}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(!0!==this.raf&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(t){this.speed=t}isActive(){return null!==this.raf}findActionIndex(t){let e=0,r=this.actions.length-1;for(;e<=r;){const n=Math.floor((e+r)/2);if(this.actions[n].delay<t.delay)e=n+1;else{if(!(this.actions[n].delay>t.delay))return n+1;r=n-1}}return e}}function cr(t,e){if(t.type===Dt.IncrementalSnapshot&&t.data.source===Pt.MouseMove&&t.data.positions&&t.data.positions.length){const r=t.data.positions[0].timeOffset,n=t.timestamp+r;return t.delay=n-e,n-e}return t.delay=t.timestamp-e,t.delay}function lr(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var dr,pr;(pr=dr||(dr={}))[pr.NotStarted=0]="NotStarted",pr[pr.Running=1]="Running",pr[pr.Stopped=2]="Stopped";var fr={type:"xstate.init"};function hr(t){return void 0===t?[]:[].concat(t)}function mr(t){return{type:"xstate.assign",assignment:t}}function gr(t,e){return"string"==typeof(t="string"==typeof t&&e&&e[t]?e[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function vr(t){return function(e){return t===e}}function yr(t){return"string"==typeof t?{type:t}:t}function Er(t,e){return{value:t,context:e,actions:[],changed:!1,matches:vr(t)}}function Sr(t,e,r){var n=e,o=!1;return[t.filter((function(t){if("xstate.assign"===t.type){o=!0;var e=Object.assign({},n);return"function"==typeof t.assignment?e=t.assignment(n,r):Object.keys(t.assignment).forEach((function(o){e[o]="function"==typeof t.assignment[o]?t.assignment[o](n,r):t.assignment[o]})),n=e,!1}return!0})),n,o]}function Tr(t,e){void 0===e&&(e={});var r=lr(Sr(hr(t.states[t.initial].entry).map((function(t){return gr(t,e.actions)})),t.context,fr),2),n=r[0],o=r[1],i={config:t,_options:e,initialState:{value:t.initial,actions:n,context:o,matches:vr(t.initial)},transition:function(e,r){var n,o,s="string"==typeof e?{value:e,context:t.context}:e,a=s.value,u=s.context,c=yr(r),l=t.states[a];if(l.on){var d=hr(l.on[c.type]);try{for(var p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),f=p.next();!f.done;f=p.next()){var h=f.value;if(void 0===h)return Er(a,u);var m="string"==typeof h?{target:h}:h,g=m.target,v=m.actions,y=void 0===v?[]:v,E=m.cond,S=void 0===E?function(){return!0}:E,T=void 0===g,_=null!=g?g:a,b=t.states[_];if(S(u,c)){var I=lr(Sr((T?hr(y):[].concat(l.exit,y,b.entry).filter((function(t){return t}))).map((function(t){return gr(t,i._options.actions)})),u,c),3),C=I[0],R=I[1],N=I[2],A=null!=g?g:a;return{value:A,context:R,actions:C,changed:g!==a||C.length>0||N,matches:vr(A)}}}}catch(pr){n={error:pr}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}return Er(a,u)}};return i}var _r=function(t,e){return t.actions.forEach((function(r){var n=r.exec;return n&&n(t.context,e)}))};function br(t){var e=t.initialState,r=dr.NotStarted,n=new Set,o={_machine:t,send:function(o){r===dr.Running&&(e=t.transition(e,o),_r(e,yr(o)),n.forEach((function(t){return t(e)})))},subscribe:function(t){return n.add(t),t(e),{unsubscribe:function(){return n.delete(t)}}},start:function(n){if(n){var i="object"==typeof n?n:{context:t.config.context,value:n};e={value:i.value,actions:[],context:i.context,matches:vr(i.value)}}return r=dr.Running,_r(e,fr),o},stop:function(){return r=dr.Stopped,n.clear(),o},get state(){return e},get status(){return r}};return o}function Ir(t,{getCastFn:e,applyEventsSynchronously:r,emitter:n}){return br(Tr({id:"player",context:t,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:mr({lastPlayedEvent:(t,e)=>"CAST_EVENT"===e.type?e.payload.event:t.lastPlayedEvent}),recordTimeOffset:mr(((t,e)=>{let r=t.timeOffset;return"payload"in e&&"timeOffset"in e.payload&&(r=e.payload.timeOffset),{...t,timeOffset:r,baselineTime:t.events[0].timestamp+r}})),play(t){var o;const{timer:i,events:s,baselineTime:a,lastPlayedEvent:u}=t;i.clear();for(const e of s)cr(e,a);const c=function(t,e){for(let r=t.length-1;r>=0;r--){const n=t[r];if(n.type===Dt.Meta&&n.timestamp<=e)return t.slice(r)}return t}(s,a);let l=null==u?void 0:u.timestamp;(null==u?void 0:u.type)===Dt.IncrementalSnapshot&&u.data.source===Pt.MouseMove&&(l=u.timestamp+(null==(o=u.data.positions[0])?void 0:o.timeOffset)),a<(l||0)&&n.emit(jt.PlayBack);const d=new Array;for(const r of c)if(!(l&&l<a&&(r.timestamp<=l||r===u)))if(r.timestamp<a)d.push(r);else{const t=e(r,!1);i.addAction({doAction:()=>{t()},delay:r.delay})}r(d),n.emit(jt.Flush),i.start()},pause(t){t.timer.clear()},resetLastPlayedEvent:mr((t=>({...t,lastPlayedEvent:null}))),startLive:mr({baselineTime:(t,e)=>(t.timer.start(),"TO_LIVE"===e.type&&e.payload.baselineTime?e.payload.baselineTime:Date.now())}),addEvent:mr(((t,r)=>{const{baselineTime:n,timer:o,events:i}=t;if("ADD_EVENT"===r.type){const{event:t}=r.payload;cr(t,n);let s=i.length-1;if(!i[s]||i[s].timestamp<=t.timestamp)i.push(t);else{let e=-1,r=0;for(;r<=s;){const e=Math.floor((r+s)/2);i[e].timestamp<=t.timestamp?r=e+1:s=e-1}-1===e&&(e=r),i.splice(e,0,t)}const a=t.timestamp<n,u=e(t,a);a?u():o.isActive()&&o.addAction({doAction:()=>{u()},delay:t.delay})}return{...t,events:i}}))}}))}const Cr=new Map;function Rr(t,e){let r=Cr.get(t);return r||(r=new Map,Cr.set(t,r)),r.has(e)||r.set(e,[]),r.get(e)}function Nr(t,e,r){return async n=>{if(n&&"object"==typeof n&&"rr_type"in n){if(r&&(r.isUnchanged=!1),"ImageBitmap"===n.rr_type&&"args"in n){const o=await Nr(t,e,r)(n.args);return await createImageBitmap.apply(null,o)}if("index"in n){if(r||null===e)return n;const{rr_type:t,index:o}=n;return Rr(e,t)[o]}if("args"in n){const{rr_type:o,args:i}=n;return new(0,window[o])(...await Promise.all(i.map(Nr(t,e,r))))}if("base64"in n)return de(n.base64);if("src"in n){const e=t.get(n.src);if(e)return e;{const e=new Image;return e.src=n.src,t.set(n.src,e),e}}if("data"in n&&"Blob"===n.rr_type){const o=await Promise.all(n.data.map(Nr(t,e,r)));return new Blob(o,{type:n.type})}}else if(Array.isArray(n)){return await Promise.all(n.map(Nr(t,e,r)))}return n}}const Ar=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];async function Or({mutation:t,target:e,type:r,imageMap:n,errorHandler:o}){try{const o=function(t,e){try{return e===Ft.WebGL?t.getContext("webgl")||t.getContext("experimental-webgl"):t.getContext("webgl2")}catch(r){return null}}(e,r);if(!o)return;if(t.setter)return void(o[t.property]=t.args[0]);const i=o[t.property],s=await Promise.all(t.args.map(Nr(n,o)));!function(t,e){if(!(null==e?void 0:e.constructor))return;const{name:r}=e.constructor;if(!Ar.includes(r))return;const n=Rr(t,r);n.includes(e)||n.push(e)}(o,i.apply(o,s))}catch(i){o(t,i)}}async function wr({event:t,mutation:e,target:r,imageMap:n,canvasEventMap:o,errorHandler:i}){try{const s=o.get(t)||e,a="commands"in s?s.commands:[s];if([Ft.WebGL,Ft.WebGL2].includes(e.type)){for(let t=0;t<a.length;t++){const o=a[t];await Or({mutation:o,type:e.type,target:r,imageMap:n,errorHandler:i})}return}await async function({event:t,mutations:e,target:r,imageMap:n,errorHandler:o}){const i=r.getContext("2d");if(!i)return void o(e[0],new Error("Canvas context is null"));const s=e.map((async t=>Promise.all(t.args.map(Nr(n,i)))));(await Promise.all(s)).forEach(((r,s)=>{const a=e[s];try{if(a.setter)return void(i[a.property]=a.args[0]);const e=i[a.property];"drawImage"===a.property&&"string"==typeof a.args[0]?(n.get(t),e.apply(i,a.args)):e.apply(i,r)}catch(u){o(a,u)}}))}({event:t,mutations:a,target:r,imageMap:n,errorHandler:i})}catch(s){i(e,s)}}class MediaManager{constructor(t){o(this,"mediaMap",new Map),o(this,"warn"),o(this,"service"),o(this,"speedService"),o(this,"emitter"),o(this,"getCurrentTime"),o(this,"metadataCallbackMap",new Map),this.warn=t.warn,this.service=t.service,this.speedService=t.speedService,this.emitter=t.emitter,this.getCurrentTime=t.getCurrentTime,this.emitter.on(jt.Start,this.start.bind(this)),this.emitter.on(jt.SkipStart,this.start.bind(this)),this.emitter.on(jt.Pause,this.pause.bind(this)),this.emitter.on(jt.Finish,this.pause.bind(this)),this.speedService.subscribe((()=>{this.syncAllMediaElements()}))}syncAllMediaElements(t={pause:!1}){this.mediaMap.forEach(((e,r)=>{this.syncTargetWithState(r),t.pause&&r.pause()}))}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:t,target:e,mediaState:r}){if(r.isPlaying){const n=(t-r.lastInteractionTimeOffset)/1e3*r.playbackRate,o="duration"in e&&e.duration;if(Number.isNaN(o))return void this.waitForMetadata(e);let i=r.currentTimeAtLastInteraction+n;e.loop&&!1!==o&&(i%=o),e.currentTime=i}else e.pause(),e.currentTime=r.currentTimeAtLastInteraction}waitForMetadata(t){if(this.metadataCallbackMap.has(t))return;if(!("addEventListener"in t))return;const e=()=>{this.metadataCallbackMap.delete(t);const e=this.mediaMap.get(t);e&&this.seekTo({time:this.getCurrentTime(),target:t,mediaState:e})};this.metadataCallbackMap.set(t,e),t.addEventListener("loadedmetadata",e,{once:!0})}getMediaStateFromMutation({target:t,timeOffset:e,mutation:r}){const n=this.mediaMap.get(t),{type:o,playbackRate:i,currentTime:s,muted:a,volume:u,loop:c}=r;return{isPlaying:o===Bt.Play||o!==Bt.Pause&&((null==n?void 0:n.isPlaying)||null!==t.getAttribute("autoplay")),currentTimeAtLastInteraction:s??(null==n?void 0:n.currentTimeAtLastInteraction)??0,lastInteractionTimeOffset:e,playbackRate:i??(null==n?void 0:n.playbackRate)??1,volume:u??(null==n?void 0:n.volume)??1,muted:a??(null==n?void 0:n.muted)??null===t.getAttribute("muted"),loop:c??(null==n?void 0:n.loop)??null===t.getAttribute("loop")}}syncTargetWithState(t){const e=this.mediaMap.get(t);if(!e)return;const{muted:r,loop:n,volume:o,isPlaying:i}=e,s=this.service.state.matches("paused"),a=e.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:t,mediaState:e}),t.volume!==o&&(t.volume=o),t.muted=r,t.loop=n,t.playbackRate!==a&&(t.playbackRate=a),i&&!s?t.play():t.pause()}catch(u){this.warn(`Failed to replay media interactions: ${u.message||u}`)}}addMediaElements(t,e,r){if(!["AUDIO","VIDEO"].includes(t.nodeName))return;const n=t,o=r.getMeta(n);if(!o||!("attributes"in o))return;const i=this.service.state.matches("paused"),s=o.attributes;let a=!1;a=s.rr_mediaState?"played"===s.rr_mediaState:null!==n.getAttribute("autoplay"),a&&i&&n.pause();let u=1;"number"==typeof s.rr_mediaPlaybackRate&&(u=s.rr_mediaPlaybackRate);let c=!1;c="boolean"==typeof s.rr_mediaMuted?s.rr_mediaMuted:null!==n.getAttribute("muted");let l=!1;l="boolean"==typeof s.rr_mediaLoop?s.rr_mediaLoop:null!==n.getAttribute("loop");let d=1;"number"==typeof s.rr_mediaVolume&&(d=s.rr_mediaVolume);let p=0;"number"==typeof s.rr_mediaCurrentTime&&(p=s.rr_mediaCurrentTime),this.mediaMap.set(n,{isPlaying:a,currentTimeAtLastInteraction:p,lastInteractionTimeOffset:e,playbackRate:u,volume:d,muted:c,loop:l}),this.syncTargetWithState(n)}mediaMutation({target:t,timeOffset:e,mutation:r}){this.mediaMap.set(t,this.getMediaStateFromMutation({target:t,timeOffset:e,mutation:r})),this.syncTargetWithState(t)}isSupportedMediaElement(t){return["AUDIO","VIDEO"].includes(t.nodeName)}reset(){this.mediaMap.clear()}}const Mr=sr||ar,xr="[replayer]",Lr={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function Dr(t){return t.type==Dt.IncrementalSnapshot&&(t.data.source==Pt.TouchMove||t.data.source==Pt.MouseInteraction&&t.data.type==kt.TouchStart)}const{addCustomEvent:Pr}=Ae,{freezePage:kr}=Ae;e.EventType=Dt,e.IncrementalSource=Pt,e.MouseInteractions=kt,e.Replayer=class Replayer{constructor(t,e){if(o(this,"wrapper"),o(this,"iframe"),o(this,"service"),o(this,"speedService"),o(this,"config"),o(this,"usingVirtualDom",!1),o(this,"virtualDom",new RRDocument),o(this,"mouse"),o(this,"mouseTail",null),o(this,"tailPositions",[]),o(this,"emitter",Mr()),o(this,"nextUserInteractionEvent"),o(this,"legacy_missingNodeRetryMap",{}),o(this,"cache",tt()),o(this,"imageMap",new Map),o(this,"canvasEventMap",new Map),o(this,"mirror",f()),o(this,"styleMirror",new StyleSheetMirror),o(this,"mediaManager"),o(this,"firstFullSnapshot",null),o(this,"newDocumentQueue",[]),o(this,"mousePos",null),o(this,"touchActive",null),o(this,"lastMouseDownEvent",null),o(this,"lastHoveredRootNode"),o(this,"lastSelectionData",null),o(this,"constructedStyleMutations",[]),o(this,"adoptedStyleSheets",[]),o(this,"handleResize",(t=>{this.iframe.style.display="inherit";for(const e of[this.mouseTail,this.iframe])e&&(e.setAttribute("width",String(t.width)),e.setAttribute("height",String(t.height)))})),o(this,"applyEventsSynchronously",(t=>{for(const e of t){switch(e.type){case Dt.DomContentLoaded:case Dt.Load:case Dt.Custom:continue;case Dt.FullSnapshot:case Dt.Meta:case Dt.Plugin:case Dt.IncrementalSnapshot:}this.getCastFn(e,!0)()}})),o(this,"getCastFn",((t,e=!1)=>{let r;switch(t.type){case Dt.DomContentLoaded:case Dt.Load:break;case Dt.Custom:r=()=>{this.emitter.emit(jt.CustomEvent,t)};break;case Dt.Meta:r=()=>this.emitter.emit(jt.Resize,{width:t.data.width,height:t.data.height});break;case Dt.FullSnapshot:r=()=>{var r;if(this.firstFullSnapshot){if(this.firstFullSnapshot===t)return void(this.firstFullSnapshot=!0)}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(t,e),null==(r=this.iframe.contentWindow)||r.scrollTo(t.data.initialOffset)};break;case Dt.IncrementalSnapshot:r=()=>{if(this.applyIncremental(t,e),!e&&(t===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const e of this.service.state.context.events)if(!(e.timestamp<=t.timestamp)&&this.isUserInteraction(e)){e.delay-t.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=e);break}if(this.nextUserInteractionEvent){const e=this.nextUserInteractionEvent.delay-t.delay,r={speed:Math.min(Math.round(e/5e3),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:r}),this.emitter.emit(jt.SkipStart,r)}}}}return()=>{r&&r();for(const r of this.config.plugins||[])r.handler&&r.handler(t,e,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:t}});const n=this.service.state.context.events.length-1;if(!this.config.liveMode&&t===this.service.state.context.events[n]){const e=()=>{n<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(jt.Finish))};let r=50;t.type===Dt.IncrementalSnapshot&&t.data.source===Pt.MouseMove&&t.data.positions.length&&(r+=Math.max(0,-t.data.positions[0].timeOffset)),setTimeout(e,r)}this.emitter.emit(jt.EventCast,t)}})),!(null==e?void 0:e.liveMode)&&t.length<2)throw new Error("Replayer need at least 2 events.");const r={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:1e4,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:Lr,useVirtualDom:!0,logger:console};this.config=Object.assign({},r,e),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(jt.Resize,this.handleResize),this.setupDom();for(const o of this.config.plugins||[])o.getMirror&&o.getMirror({nodeMirror:this.mirror});this.emitter.on(jt.Flush,(()=>{if(this.usingVirtualDom){const r={mirror:this.mirror,applyCanvas:(t,e,r)=>{wr({event:t,mutation:e,target:r,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(t,e)=>{t.source===Pt.StyleSheetRule?this.applyStyleSheetRule(t,e):t.source===Pt.StyleDeclaration&&this.applyStyleDeclaration(t,e)},afterAppend:(t,e)=>{for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(t,{id:e,replayer:this})}};if(this.iframe.contentDocument)try{ze(this.iframe.contentDocument,this.virtualDom,r,this.virtualDom.mirror)}catch(t){console.warn(t)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const t in this.legacy_missingNodeRetryMap)try{const e=this.legacy_missingNodeRetryMap[t],n=Je(e.node,this.mirror,this.virtualDom.mirror);ze(n,e.node,r,this.virtualDom.mirror),e.node=n}catch(e){this.warn(e)}this.constructedStyleMutations.forEach((t=>{this.applyStyleSheetMutation(t)})),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach((t=>{this.applyAdoptedStyleSheet(t)})),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),!0===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[t,e]=this.lastMouseDownEvent;t.dispatchEvent(e)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)})),this.emitter.on(jt.PlayBack,(()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()}));const n=new Timer([],{speed:this.config.speed});this.service=Ir({events:t.map((t=>e&&e.unpackFn?e.unpackFn(t):t)).sort(((t,e)=>t.timestamp-e.timestamp)),timer:n,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe((t=>{this.emitter.emit(jt.StateChange,{player:t})})),this.speedService=br(Tr({id:"speed",context:{normalSpeed:-1,timer:n},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(t,e)=>{"payload"in e&&t.timer.setSpeed(e.payload.speed)},recordSpeed:mr({normalSpeed:t=>t.timer.speed}),restoreSpeed:t=>{t.timer.setSpeed(t.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe((t=>{this.emitter.emit(jt.StateChange,{speed:t})})),this.mediaManager=new MediaManager({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const i=this.service.state.context.events.find((t=>t.type===Dt.Meta)),s=this.service.state.context.events.find((t=>t.type===Dt.FullSnapshot));if(i){const{width:t,height:e}=i.data;setTimeout((()=>{this.emitter.emit(jt.Resize,{width:t,height:e})}),0)}s&&setTimeout((()=>{var t;this.firstFullSnapshot||(this.firstFullSnapshot=s,this.rebuildFullSnapshot(s),null==(t=this.iframe.contentWindow)||t.scrollTo(s.data.initialOffset))}),1),this.service.state.context.events.find(Dr)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(t,e){return this.emitter.on(t,e),this}off(t,e){return this.emitter.off(t,e),this}setConfig(t){Object.keys(t).forEach((e=>{t[e],this.config[e]=t[e]})),this.config.skipInactive||this.backToNormal(),void 0!==t.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:t.speed}}),void 0!==t.mouseTail&&(!1===t.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const t=this.service.state.context.events[0],e=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:t.timestamp,endTime:e.timestamp,totalTime:e.timestamp-t.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:t,events:e}=this.service.state.context;return t-e[0].timestamp}getMirror(){return this.mirror}play(t=0){var e,r;this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:t}}),null==(r=null==(e=this.iframe.contentDocument)?void 0:e.getElementsByTagName("html")[0])||r.classList.remove("rrweb-paused"),this.emitter.emit(jt.Start)}pause(t){var e,r;void 0===t&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof t&&(this.play(t),this.service.send({type:"PAUSE"})),null==(r=null==(e=this.iframe.contentDocument)?void 0:e.getElementsByTagName("html")[0])||r.classList.add("rrweb-paused"),this.emitter.emit(jt.Pause)}resume(t=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(t),this.emitter.emit(jt.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(jt.Destroy)}startLive(t){this.service.send({type:"TO_LIVE",payload:{baselineTime:t}})}addEvent(t){const e=this.config.unpackFn?this.config.unpackFn(t):t;Dr(e)&&this.mouse.classList.add("touch-device"),Promise.resolve().then((()=>this.service.send({type:"ADD_EVENT",payload:{event:e}})))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=tt()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const t=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&t.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",t.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(ur(this.iframe.contentWindow,this.iframe.contentDocument),Et(this.iframe.contentWindow))}rebuildFullSnapshot(t,e=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const r=[],n=(e,n)=>{if(this.collectIframeAndAttachDocument(r,e),this.mediaManager.isSupportedMediaElement(e)){const{events:r}=this.service.state.context;this.mediaManager.addMediaElements(e,t.timestamp-r[0].timestamp,this.mirror)}for(const t of this.config.plugins||[])t.onBuild&&t.onBuild(e,{id:n,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),nt(t.data.node,{doc:this.iframe.contentDocument,afterAppend:n,cache:this.cache,mirror:this.mirror}),n(this.iframe.contentDocument,t.data.node.id);for(const{mutationInQueue:s,builtNode:a}of r)this.attachDocumentToIframe(s,a),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==s));const{documentElement:o,head:i}=this.iframe.contentDocument;this.insertStyleRules(o,i),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(jt.FullsnapshotRebuilded,t),e||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(t,e){var r;const n=(o=this.config.blockClass,[`.${o} { background: currentColor }`,"noscript { display: none !important; }"]).concat(this.config.insertStyleRules);var o;if(this.config.pauseAnimation&&n.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),this.usingVirtualDom){const r=this.virtualDom.createElement("style");this.virtualDom.mirror.add(r,ir(r,this.virtualDom.unserializedId)),t.insertBefore(r,e),r.rules.push({source:Pt.StyleSheetRule,adds:n.map(((t,e)=>({rule:t,index:e})))})}else{const o=document.createElement("style");t.insertBefore(o,e);for(let t=0;t<n.length;t++)null==(r=o.sheet)||r.insertRule(n[t],t)}}attachDocumentToIframe(t,e){const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,n=[],o=(t,o)=>{this.collectIframeAndAttachDocument(n,t);const i=r.getMeta(t);if((null==i?void 0:i.type)===a.Element&&"HTML"===(null==i?void 0:i.tagName.toUpperCase())){const{documentElement:t,head:r}=e.contentDocument;this.insertStyleRules(t,r)}if(!this.usingVirtualDom)for(const e of this.config.plugins||[])e.onBuild&&e.onBuild(t,{id:o,replayer:this})};rt(t.node,{doc:e.contentDocument,mirror:r,hackCss:!0,skipChild:!1,afterAppend:o,cache:this.cache}),o(e.contentDocument,t.node.id);for(const{mutationInQueue:i,builtNode:s}of n)this.attachDocumentToIframe(i,s),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==i))}collectIframeAndAttachDocument(t,e){if(_t(e,this.mirror)){const r=this.newDocumentQueue.find((t=>t.parentId===this.mirror.getId(e)));r&&t.push({mutationInQueue:r,builtNode:e})}}waitForStylesheetLoad(){var t;const e=null==(t=this.iframe.contentDocument)?void 0:t.head;if(e){const t=new Set;let r,n=this.service.state;const o=()=>{n=this.service.state};this.emitter.on(jt.Start,o),this.emitter.on(jt.Pause,o);const i=()=>{this.emitter.off(jt.Start,o),this.emitter.off(jt.Pause,o)};e.querySelectorAll('link[rel="stylesheet"]').forEach((e=>{e.sheet||(t.add(e),e.addEventListener("load",(()=>{t.delete(e),0===t.size&&-1!==r&&(n.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(jt.LoadStylesheetEnd),r&&clearTimeout(r),i())})))})),t.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(jt.LoadStylesheetStart),r=setTimeout((()=>{n.matches("playing")&&this.play(this.getCurrentTime()),r=-1,i()}),this.config.loadTimeout))}}async preloadAllImages(){const t=[];for(const e of this.service.state.context.events)if(e.type===Dt.IncrementalSnapshot&&e.data.source===Pt.CanvasMutation){t.push(this.deserializeAndPreloadCanvasEvents(e.data,e));("commands"in e.data?e.data.commands:[e.data]).forEach((t=>{this.preloadImages(t,e)}))}return Promise.all(t)}preloadImages(t,e){if("drawImage"===t.property&&"string"==typeof t.args[0]&&!this.imageMap.has(e)){const t=document.createElement("canvas"),e=t.getContext("2d"),r=null==e?void 0:e.createImageData(t.width,t.height);null==e||e.putImageData(r,0,0)}}async deserializeAndPreloadCanvasEvents(t,e){if(!this.canvasEventMap.has(e)){const r={isUnchanged:!0};if("commands"in t){const n=await Promise.all(t.commands.map((async t=>{const e=await Promise.all(t.args.map(Nr(this.imageMap,null,r)));return{...t,args:e}})));!1===r.isUnchanged&&this.canvasEventMap.set(e,{...t,commands:n})}else{const n=await Promise.all(t.args.map(Nr(this.imageMap,null,r)));!1===r.isUnchanged&&this.canvasEventMap.set(e,{...t,args:n})}}}applyIncremental(t,e){var r,n,o;const{data:i}=t;switch(i.source){case Pt.Mutation:try{this.applyMutation(i,e)}catch(s){this.warn(`Exception in mutation ${s.message||s}`,i)}break;case Pt.Drag:case Pt.TouchMove:case Pt.MouseMove:if(e){const t=i.positions[i.positions.length-1];this.mousePos={x:t.x,y:t.y,id:t.id,debugData:i}}else i.positions.forEach((r=>{const n={doAction:()=>{this.moveAndHover(r.x,r.y,r.id,e,i)},delay:r.timeOffset+t.timestamp-this.service.state.context.baselineTime};this.timer.addAction(n)})),this.timer.addAction({doAction(){},delay:t.delay-(null==(r=i.positions[0])?void 0:r.timeOffset)});break;case Pt.MouseInteraction:{if(-1===i.id)break;const t=new Event(m(kt[i.type])),r=this.mirror.getNode(i.id);if(!r)return this.debugNodeNotFound(i,i.id);this.emitter.emit(jt.MouseInteraction,{type:i.type,target:r});const{triggerFocus:n}=this.config;switch(i.type){case kt.Blur:"blur"in r&&r.blur();break;case kt.Focus:n&&r.focus&&r.focus({preventScroll:!0});break;case kt.Click:case kt.TouchStart:case kt.TouchEnd:case kt.MouseDown:case kt.MouseUp:e?(i.type===kt.TouchStart?this.touchActive=!0:i.type===kt.TouchEnd&&(this.touchActive=!1),i.type===kt.MouseDown?this.lastMouseDownEvent=[r,t]:i.type===kt.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:i.x||0,y:i.y||0,id:i.id,debugData:i}):(i.type===kt.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(i.x||0,i.y||0,i.id,e,i),i.type===kt.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):i.type===kt.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):i.type===kt.TouchEnd?this.mouse.classList.remove("touch-active"):r.dispatchEvent(t));break;case kt.TouchCancel:e?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:r.dispatchEvent(t)}break}case Pt.Scroll:if(-1===i.id)break;if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);t.scrollData=i;break}this.applyScroll(i,e);break;case Pt.ViewportResize:this.emitter.emit(jt.Resize,{width:i.width,height:i.height});break;case Pt.Input:if(-1===i.id)break;if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);t.inputData=i;break}this.applyInput(i);break;case Pt.MediaInteraction:{const e=this.usingVirtualDom?this.virtualDom.mirror.getNode(i.id):this.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);const r=e,{events:n}=this.service.state.context;this.mediaManager.mediaMutation({target:r,timeOffset:t.timestamp-n[0].timestamp,mutation:i});break}case Pt.StyleSheetRule:case Pt.StyleDeclaration:this.usingVirtualDom?i.styleId?this.constructedStyleMutations.push(i):i.id&&(null==(n=this.virtualDom.mirror.getNode(i.id))||n.rules.push(i)):this.applyStyleSheetMutation(i);break;case Pt.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);e.canvasMutations.push({event:t,mutation:i})}else{const e=this.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);wr({event:t,mutation:i,target:e,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break;case Pt.Font:try{const t=new FontFace(i.family,i.buffer?new Uint8Array(JSON.parse(i.fontSource)):i.fontSource,i.descriptors);null==(o=this.iframe.contentDocument)||o.fonts.add(t)}catch(s){this.warn(s)}break;case Pt.Selection:if(e){this.lastSelectionData=i;break}this.applySelection(i);break;case Pt.AdoptedStyleSheet:this.usingVirtualDom?this.adoptedStyleSheets.push(i):this.applyAdoptedStyleSheet(i)}}applyMutation(t,e){if(this.config.useVirtualDom&&!this.usingVirtualDom&&e&&(this.usingVirtualDom=!0,or(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const a in this.legacy_missingNodeRetryMap)try{const t=this.legacy_missingNodeRetryMap[a],e=nr(t.node,this.virtualDom,this.mirror);e&&(t.node=e)}catch(u){this.warn(u)}const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;t.removes=t.removes.filter((e=>!!r.getNode(e.id)||(this.warnNodeNotFound(t,e.id),!1))),t.removes.forEach((e=>{var n;const o=r.getNode(e.id);if(!o)return;let i=r.getNode(e.parentId);if(!i)return this.warnNodeNotFound(t,e.parentId);if(e.isShadow&&Ct(i)&&(i=i.shadowRoot),r.removeNodeFromMap(o),i)try{i.removeChild(o),this.usingVirtualDom&&"#text"===o.nodeName&&"STYLE"===i.nodeName&&(null==(n=i.rules)?void 0:n.length)>0&&(i.rules=[])}catch(u){if(!(u instanceof DOMException))throw u;this.warn("parent could not remove child in mutation",i,o,t)}}));const n={...this.legacy_missingNodeRetryMap},o=[],i=t=>{var e,i;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let s=r.getNode(t.parentId);if(!s)return t.node.type===a.Document?this.newDocumentQueue.push(t):o.push(t);t.node.isShadow&&(Ct(s)||s.attachShadow({mode:"open"}),s=s.shadowRoot);let u=null,c=null;if(t.previousId&&(u=r.getNode(t.previousId)),t.nextId&&(c=r.getNode(t.nextId)),(t=>{let e=null;return t.nextId&&(e=r.getNode(t.nextId)),null!==t.nextId&&void 0!==t.nextId&&-1!==t.nextId&&!e})(t))return o.push(t);if(t.node.rootId&&!r.getNode(t.node.rootId))return;const l=t.node.rootId?r.getNode(t.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(_t(s,r))return void this.attachDocumentToIframe(t,s);const d=(t,e)=>{if(!this.usingVirtualDom)for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(t,{id:e,replayer:this})},p=rt(t.node,{doc:l,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:d});if(-1===t.previousId||-1===t.nextId)return void(n[t.node.id]={node:p,mutation:t});const f=r.getMeta(s);if(f&&f.type===a.Element&&"textarea"===f.tagName&&t.node.type===a.Text){const t=Array.isArray(s.childNodes)?s.childNodes:Array.from(s.childNodes);for(const e of t)e.nodeType===s.TEXT_NODE&&s.removeChild(e)}else if((null==f?void 0:f.type)===a.Document){const r=s;t.node.type===a.DocumentType&&(null==(e=r.childNodes[0])?void 0:e.nodeType)===Node.DOCUMENT_TYPE_NODE&&r.removeChild(r.childNodes[0]),"HTML"===p.nodeName&&r.documentElement&&r.removeChild(r.documentElement)}if(u&&u.nextSibling&&u.nextSibling.parentNode?s.insertBefore(p,u.nextSibling):c&&c.parentNode?s.contains(c)?s.insertBefore(p,c):s.insertBefore(p,null):s.appendChild(p),d(p,t.node.id),this.usingVirtualDom&&"#text"===p.nodeName&&"STYLE"===s.nodeName&&(null==(i=s.rules)?void 0:i.length)>0&&(s.rules=[]),_t(p,this.mirror)){const t=this.mirror.getId(p),e=this.newDocumentQueue.find((e=>e.parentId===t));e&&(this.attachDocumentToIframe(e,p),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e)))}(t.previousId||t.nextId)&&this.legacy_resolveMissingNode(n,s,p,t)};t.adds.forEach((t=>{i(t)}));const s=Date.now();for(;o.length;){const t=St(o);if(o.length=0,Date.now()-s>500){this.warn("Timeout in the loop, please check the resolve tree data:",t);break}for(const e of t){r.getNode(e.value.parentId)?Tt(e,(t=>{i(t)})):this.debug("Drop resolve tree since there is no parent for the root node.",e)}}Object.keys(n).length&&Object.assign(this.legacy_missingNodeRetryMap,n),At(t.texts).forEach((e=>{var n;const o=r.getNode(e.id);if(!o){if(t.removes.find((t=>t.id===e.id)))return;return this.warnNodeNotFound(t,e.id)}if(o.textContent=e.value,this.usingVirtualDom){const t=o.parentNode;(null==(n=null==t?void 0:t.rules)?void 0:n.length)>0&&(t.rules=[])}})),t.attributes.forEach((e=>{var n;const o=r.getNode(e.id);if(!o){if(t.removes.find((t=>t.id===e.id)))return;return this.warnNodeNotFound(t,e.id)}for(const t in e.attributes)if("string"==typeof t){const s=e.attributes[t];if(null===s)o.removeAttribute(t);else if("string"==typeof s)try{if("_cssText"===t&&("LINK"===o.nodeName||"STYLE"===o.nodeName))try{const t=r.getMeta(o);Object.assign(t.attributes,e.attributes);const n=rt(t,{doc:o.ownerDocument,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache}),i=o.nextSibling,s=o.parentNode;if(n&&s){s.removeChild(o),s.insertBefore(n,i),r.replace(e.id,n);break}}catch(i){}if("value"===t&&"TEXTAREA"===o.nodeName){const t=o;t.childNodes.forEach((e=>t.removeChild(e)));const e=null==(n=o.ownerDocument)?void 0:n.createTextNode(s);e&&t.appendChild(e)}else o.setAttribute(t,s)}catch(u){this.warn("An error occurred may due to the checkout feature.",u)}else if("style"===t){const t=s,e=o;for(const r in t)if(!1===t[r])e.style.removeProperty(r);else if(t[r]instanceof Array){const n=t[r];e.style.setProperty(r,n[0],n[1])}else{const n=t[r];e.style.setProperty(r,n)}}}}))}applyScroll(t,e){var r,n;const o=this.mirror.getNode(t.id);if(!o)return this.debugNodeNotFound(t,t.id);const i=this.mirror.getMeta(o);if(o===this.iframe.contentDocument)null==(r=this.iframe.contentWindow)||r.scrollTo({top:t.y,left:t.x,behavior:e?"auto":"smooth"});else if((null==i?void 0:i.type)===a.Document)null==(n=o.defaultView)||n.scrollTo({top:t.y,left:t.x,behavior:e?"auto":"smooth"});else try{o.scrollTo({top:t.y,left:t.x,behavior:e?"auto":"smooth"})}catch(s){}}applyInput(t){const e=this.mirror.getNode(t.id);if(!e)return this.debugNodeNotFound(t,t.id);try{e.checked=t.isChecked,e.value=t.text}catch(r){}}applySelection(t){try{const e=new Set,r=t.ranges.map((({start:t,startOffset:r,end:n,endOffset:o})=>{const i=this.mirror.getNode(t),s=this.mirror.getNode(n);if(!i||!s)return;const a=new Range;a.setStart(i,r),a.setEnd(s,o);const u=i.ownerDocument,c=null==u?void 0:u.getSelection();return c&&e.add(c),{range:a,selection:c}}));e.forEach((t=>t.removeAllRanges())),r.forEach((t=>{var e;return t&&(null==(e=t.selection)?void 0:e.addRange(t.range))}))}catch(e){}}applyStyleSheetMutation(t){var e;let r=null;t.styleId?r=this.styleMirror.getStyle(t.styleId):t.id&&(r=(null==(e=this.mirror.getNode(t.id))?void 0:e.sheet)||null),r&&(t.source===Pt.StyleSheetRule?this.applyStyleSheetRule(t,r):t.source===Pt.StyleDeclaration&&this.applyStyleDeclaration(t,r))}applyStyleSheetRule(t,e){var r,n,o,i;if(null==(r=t.adds)||r.forEach((({rule:t,index:r})=>{try{if(Array.isArray(r)){const{positions:n,index:o}=Nt(r);Rt(e.cssRules,n).insertRule(t,o)}else{const n=void 0===r?void 0:Math.min(r,e.cssRules.length);null==e||e.insertRule(t,n)}}catch(n){}})),null==(n=t.removes)||n.forEach((({index:t})=>{try{if(Array.isArray(t)){const{positions:r,index:n}=Nt(t);Rt(e.cssRules,r).deleteRule(n||0)}else null==e||e.deleteRule(t)}catch(r){}})),t.replace)try{null==(o=e.replace)||o.call(e,t.replace)}catch(s){}if(t.replaceSync)try{null==(i=e.replaceSync)||i.call(e,t.replaceSync)}catch(s){}}applyStyleDeclaration(t,e){if(t.set){Rt(e.rules,t.index).style.setProperty(t.set.property,t.set.value,t.set.priority)}if(t.remove){Rt(e.rules,t.index).style.removeProperty(t.remove.property)}}applyAdoptedStyleSheet(t){var e;const r=this.mirror.getNode(t.id);if(!r)return;null==(e=t.styles)||e.forEach((t=>{var e;let n=null,o=null;if(Ct(r)?o=(null==(e=r.ownerDocument)?void 0:e.defaultView)||null:"#document"===r.nodeName&&(o=r.defaultView),o)try{n=new o.CSSStyleSheet,this.styleMirror.add(n,t.styleId),this.applyStyleSheetRule({source:Pt.StyleSheetRule,adds:t.rules},n)}catch(i){}}));let n=0;const o=(t,e)=>{const r=e.map((t=>this.styleMirror.getStyle(t))).filter((t=>null!==t));Ct(t)?t.shadowRoot.adoptedStyleSheets=r:"#document"===t.nodeName&&(t.adoptedStyleSheets=r),r.length!==e.length&&n<10&&(setTimeout((()=>o(t,e)),0+100*n),n++)};o(r,t.styleIds)}legacy_resolveMissingNode(t,e,r,n){const{previousId:o,nextId:i}=n,s=o&&t[o],a=i&&t[i];if(s){const{node:n,mutation:o}=s;e.insertBefore(n,r),delete t[o.node.id],delete this.legacy_missingNodeRetryMap[o.node.id],(o.previousId||o.nextId)&&this.legacy_resolveMissingNode(t,e,n,o)}if(a){const{node:n,mutation:o}=a;e.insertBefore(n,r.nextSibling),delete t[o.node.id],delete this.legacy_missingNodeRetryMap[o.node.id],(o.previousId||o.nextId)&&this.legacy_resolveMissingNode(t,e,n,o)}}moveAndHover(t,e,r,n,o){const i=this.mirror.getNode(r);if(!i)return this.debugNodeNotFound(o,r);const s=It(i,this.iframe),a=t*s.absoluteScale+s.x,u=e*s.absoluteScale+s.y;this.mouse.style.left=`${a}px`,this.mouse.style.top=`${u}px`,n||this.drawMouseTail({x:a,y:u}),this.hoverElements(i)}drawMouseTail(t){if(!this.mouseTail)return;const{lineCap:e,lineWidth:r,strokeStyle:n,duration:o}=!0===this.config.mouseTail?Lr:Object.assign({},Lr,this.config.mouseTail),i=()=>{if(!this.mouseTail)return;const t=this.mouseTail.getContext("2d");t&&this.tailPositions.length&&(t.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),t.beginPath(),t.lineWidth=r,t.lineCap=e,t.strokeStyle=n,t.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach((e=>t.lineTo(e.x,e.y))),t.stroke())};this.tailPositions.push(t),i(),setTimeout((()=>{this.tailPositions=this.tailPositions.filter((e=>e!==t)),i()}),o/this.speedService.state.context.timer.speed)}hoverElements(t){var e;null==(e=this.lastHoveredRootNode||this.iframe.contentDocument)||e.querySelectorAll(".\\:hover").forEach((t=>{t.classList.remove(":hover")})),this.lastHoveredRootNode=t.getRootNode();let r=t;for(;r;)r.classList&&r.classList.add(":hover"),r=r.parentElement}isUserInteraction(t){return t.type===Dt.IncrementalSnapshot&&(t.data.source>Pt.Mutation&&t.data.source<=Pt.Input)}backToNormal(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(jt.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(t,e){this.warn(`Node with id '${e}' not found. `,t)}warnCanvasMutationFailed(t,e){this.warn("Has error on canvas update",e,"canvas mutation:",t)}debugNodeNotFound(t,e){this.debug(`Node with id '${e}' not found. `,t)}warn(...t){this.config.showWarning&&this.config.logger.warn(xr,...t)}debug(...t){this.config.showDebug&&this.config.logger.log(xr,...t)}},e.ReplayerEvents=jt,e.addCustomEvent=Pr,e.canvasMutation=wr,e.freezePage=kr,e.record=Ae,e.utils=Lt},1104:function(t,e){!function(t){"use strict";var e,r,n=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},o=function(t){if("loading"===document.readyState)return"loading";var e=n();if(e){if(t<e.domInteractive)return"loading";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return"dom-interactive";if(0===e.domComplete||t<e.domComplete)return"dom-content-loaded"}return"complete"},i=function(t){var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},s=function(t,e){var r="";try{for(;t&&9!==t.nodeType;){var n=t,o=n.id?"#"+n.id:i(n)+(n.classList&&n.classList.value&&n.classList.value.trim()&&n.classList.value.trim().length?"."+n.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+o.length>(e||100)-1)return r||o;if(r=r?o+">"+r:o,n.id)break;t=n.parentNode}}catch(t){}return r},a=function(t,e,r,n){var o,i;return function(s){e.value>=0&&(s||n)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,r),t(e))}},u=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},c=-1,l=function(){return c},d=function(t){addEventListener("pageshow",(function(e){e.persisted&&(c=e.timeStamp,t(e))}),!0)},p=function(){var t=n();return t&&t.activationStart||0},f=function(t,e,r,o){var i,s=(null===(i=n())||void 0===i?void 0:i.navigationId)||"1",a=n(),u="navigate";return r?u=r:l()>=0?u="back-forward-cache":a&&(document.prerendering||p()>0?u="prerender":document.wasDiscarded?u="restore":a.type&&(u=a.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:u,navigationId:o||s}},h=function(t){return PerformanceObserver.supportedEntryTypes.includes("soft-navigation")&&t&&t.reportSoftNavs},m=function(t){if(t){var e=window.performance.getEntriesByType("soft-navigation").filter((function(e){return e.navigationId===t}));return e?e[0]:void 0}},g=function(t,e,r){var n=h(r);try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var o=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return o.observe(Object.assign({type:t,buffered:!0,includeSoftNavigationObservations:n},r||{})),o}}catch(t){}},v=function(t){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t()}))},y=function(t){var e=!1;return function(){e||(t(),e=!0)}},E=-1,S=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},T=function(t){"hidden"===document.visibilityState&&E>-1&&(E="visibilitychange"===t.type?t.timeStamp:0,b())},_=function(){addEventListener("visibilitychange",T,!0),addEventListener("prerenderingchange",T,!0)},b=function(){removeEventListener("visibilitychange",T,!0),removeEventListener("prerenderingchange",T,!0)},I=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(E=-1),E<0&&(E=S(),_(),d((function(){setTimeout((function(){E=S(),_()}),0)}))),{get firstHiddenTime(){return E}}},C=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},R=[1800,3e3],N=function(t,e){var r,o=h(e=e||{}),i=0,s=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1";C((function(){var r,n=I(),c=f("FCP"),l=g("paint",(function(u){u.forEach((function(u){if("first-contentful-paint"===u.name){o?u.navigationId&&u.navigationId!==c.navigationId&&function(o,s){if(c=f("FCP",0,o,s),r=a(t,c,R,e.reportAllChanges),"soft-navigation"===o){n=I(!0);var u=s?m(s):null;i=u&&u.startTime||0}}("soft-navigation",u.navigationId):l.disconnect();var d=0;if(u.navigationId&&u.navigationId!==s){var h=m(u.navigationId),g=h&&h.startTime?h.startTime:0;d=Math.max(u.startTime-g,0)}else d=Math.max(u.startTime-p(),0);var v=o&&u.navigationId?m(u.navigationId):null,y=v&&v.startTime?v.startTime:0;(u.startTime<n.firstHiddenTime||o&&u.navigationId&&u.navigationId!==c.navigationId&&u.navigationId!==s&&y>i)&&(c.value=d,c.entries.push(u),c.navigationId=u.navigationId||"1",r(!0))}}))}),e);l&&(r=a(t,c,R,e.reportAllChanges),d((function(n){c=f("FCP",0,"back-forward-cache",c.navigationId),r=a(t,c,R,e.reportAllChanges),u((function(){c.value=performance.now()-n.timeStamp,r(!0)}))})))}))},A=[.1,.25],O=0,w=1/0,M=0,x="",L=!1,D=function(t){var e;x||(x=(null===(e=n())||void 0===e?void 0:e.navigationId)||"1"),t.forEach((function(t){t.interactionId&&(L&&t.navigationId&&t.navigationId!==x&&(x=t.navigationId,O=0,w=1/0,M=0),w=Math.min(w,t.interactionId),M=Math.max(M,t.interactionId),O=M?(M-w)/7+1:0)}))},P=function(){return e?O:performance.interactionCount||0},k=function(t){"interactionCount"in performance||e||(e=g("event",D,{type:"event",buffered:!0,durationThreshold:0,includeSoftNavigationObservations:L=t||!1}))},U=[],F=new Map,B=0,j=function(){B=P(),U.length=0,F.clear()},G=function(){var t=Math.min(U.length-1,Math.floor((P()-B)/50));return U[t]},W=[],V=function(t){if(W.forEach((function(e){return e(t)})),t.interactionId||"first-input"===t.entryType){var e=U[U.length-1],r=F.get(t.interactionId);if(r||U.length<10||t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t);else{var n={id:t.interactionId,latency:t.duration,entries:[t]};F.set(n.id,n),U.push(n)}U.sort((function(t,e){return e.latency-t.latency})),U.length>10&&U.splice(10).forEach((function(t){return F.delete(t.id)}))}}},H=function(t){var e=self.requestIdleCallback||self.setTimeout,r=-1;return t=y(t),"hidden"===document.visibilityState?t():(r=e(t),v(t)),r},X=[200,500],Y=function(t,e){if("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype){var r=h(e=e||{}),n=!1,o=0;C((function(){var i;k(r);var s,c=f("INP"),l=function(r,i){if(j(),c=f("INP",0,r,i),s=a(t,c,X,e.reportAllChanges),n=!1,"soft-navigation"===r){var u=m(i);o=u&&u.startTime?u.startTime:0}},p=function(t){H((function(){var r;t.forEach(V),(r=G())&&(r.latency!==c.value||e&&e.reportAllChanges)&&(c.value=r.latency,c.entries=r.entries),s()}))},h=g("event",p,{durationThreshold:null!==(i=e.durationThreshold)&&void 0!==i?i:40,opts:e});s=a(t,c,X,e.reportAllChanges),h&&(h.observe({type:"first-input",buffered:!0,includeSoftNavigationObservations:r}),v((function(){p(h.takeRecords()),s(!0)})),d((function(){j(),l("back-forward-cache",c.navigationId),u((function(){return s()}))})),r&&g("soft-navigation",(function(r){r.forEach((function(r){var i=m(r.navigationId),u=i&&i.startTime?i.startTime:0;r.navigationId&&r.navigationId!==c.navigationId&&u>o&&(!n&&c.value>0&&s(!0),l("soft-navigation",r.navigationId),s=a(t,c,X,e.reportAllChanges))}))}),e))}))}},K=[],z=[],Z=0,J=new WeakMap,q=new Map,Q=-1,$=function(t){K=K.concat(t),tt()},tt=function(){Q<0&&(Q=H(et))},et=function(){q.size>10&&q.forEach((function(t,e){F.has(e)||q.delete(e)}));var t=U.map((function(t){return J.get(t.entries[0])})),e=z.length-50;z=z.filter((function(r,n){return n>=e||t.includes(r)}));for(var r=new Set,n=0;n<z.length;n++){var o=z[n];st(o.startTime,o.processingEnd).forEach((function(t){r.add(t)}))}var i=K.length-1-50;K=K.filter((function(t,e){return t.startTime>Z&&e>i||r.has(t)})),Q=-1};W.push((function(t){t.interactionId&&t.target&&!q.has(t.interactionId)&&q.set(t.interactionId,t.target)}),(function(t){var e,r=t.startTime+t.duration;Z=Math.max(Z,t.processingEnd);for(var n=z.length-1;n>=0;n--){var o=z[n];if(Math.abs(r-o.renderTime)<=8){(e=o).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:r,entries:[t]},z.push(e)),(t.interactionId||"first-input"===t.entryType)&&J.set(t,e),tt()}));var rt,nt,ot,it,st=function(t,e){for(var r,n=[],o=0;r=K[o];o++)if(!(r.startTime+r.duration<t)){if(r.startTime>e)break;n.push(r)}return n},at=[2500,4e3],ut=[800,1800],ct=function t(e){document.prerendering?C((function(){return t(e)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(e)}),!0):setTimeout(e,0)},lt=function(t,e){var r=h(e=e||{}),o=f("TTFB"),i=a(t,o,ut,e.reportAllChanges);ct((function(){var s=n();if(s){var u=s.responseStart;o.value=Math.max(u-p(),0),o.entries=[s],i(!0),d((function(){o=f("TTFB",0,"back-forward-cache",o.navigationId),(i=a(t,o,ut,e.reportAllChanges))(!0)})),r&&g("soft-navigation",(function(r){r.forEach((function(r){r.navigationId&&((o=f("TTFB",0,"soft-navigation",r.navigationId)).entries=[r],(i=a(t,o,ut,e.reportAllChanges))(!0))}))}),e)}}))},dt={passive:!0,capture:!0},pt=new Date,ft=function(t,e){rt||(rt=e,nt=t,ot=new Date,gt(removeEventListener),ht())},ht=function(){if(nt>=0&&nt<ot-pt){var t={entryType:"first-input",name:rt.type,target:rt.target,cancelable:rt.cancelable,startTime:rt.timeStamp,processingStart:rt.timeStamp+nt};it.forEach((function(e){e([t])})),it=[]}},mt=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var r=function(){ft(t,e),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,dt),removeEventListener("pointercancel",n,dt)};addEventListener("pointerup",r,dt),addEventListener("pointercancel",n,dt)}(e,t):ft(e,t)}},gt=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,mt,dt)}))},vt=[100,300],yt=function(t,e){var r,o=h(e=e||{}),i=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1";C((function(){var r,n=I(),s=f("FID"),u=function(u){u.forEach((function(u){var l,d;o?u.navigationId&&u.navigationId!==s.navigationId&&(l="soft-navigation",d=u.navigationId,"soft-navigation"===l&&(n=I(!0)),s=f("FID",0,l,d),r=a(t,s,vt,e.reportAllChanges)):c.disconnect(),u.startTime<n.firstHiddenTime&&(s.value=u.processingStart-u.startTime,s.entries.push(u),s.navigationId=u.navigationId||i,r(!0))}))},c=g("first-input",u,e);r=a(t,s,vt,e.reportAllChanges),c&&(v((function(){u(c.takeRecords()),o||c.disconnect()})),d((function(){var n;s=f("FID",0,"back-forward-cache",s.navigationId),r=a(t,s,vt,e.reportAllChanges),it=[],nt=-1,rt=null,gt(addEventListener),n=u,it.push(n),ht()})))}))};t.CLSThresholds=A,t.FCPThresholds=R,t.FIDThresholds=vt,t.INPThresholds=X,t.LCPThresholds=at,t.TTFBThresholds=ut,t.onCLS=function(t,e){!function(t,e){var r=h(e=e||{}),n=!1,o=0;N(y((function(){var i,s=f("CLS",0),c=0,l=[],p=function(r,u){if(s=f("CLS",0,r,u),i=a(t,s,A,e.reportAllChanges),c=0,n=!1,"soft-navigation"===r){var l=m(u);o=l&&l.startTime||0}},h=function(t){t.forEach((function(t){if(r&&t.navigationId&&t.navigationId!==s.navigationId&&(c>s.value&&(s.value=c,s.entries=l),i(!0),p("soft-navigation",t.navigationId)),!t.hadRecentInput){var e=l[0],n=l[l.length-1];c&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(c+=t.value,l.push(t)):(c=t.value,l=[t])}})),c>s.value&&(s.value=c,s.entries=l,i())},y=g("layout-shift",h,e);y&&(i=a(t,s,A,e.reportAllChanges),v((function(){h(y.takeRecords()),i(!0),n=!0})),d((function(){p("back-forward-cache",s.navigationId),u((function(){return i()}))})),r&&g("soft-navigation",(function(r){r.forEach((function(r){var u=r.navigationId,c=u?m(u):null;u&&u!==s.navigationId&&c&&(c.startTime||0)>o&&(n||i(!0),p("soft-navigation",r.navigationId),i=a(t,s,A,e.reportAllChanges))}))}),e),setTimeout(i,0))})))}((function(e){var r=function(t){var e,r={};if(t.entries.length){var n=t.entries.reduce((function(t,e){return t&&t.value>e.value?t:e}));if(n&&n.sources&&n.sources.length){var i=(e=n.sources).find((function(t){return t.node&&1===t.node.nodeType}))||e[0];i&&(r={largestShiftTarget:s(i.node),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:i,largestShiftEntry:n,loadState:o(n.startTime)})}}return Object.assign(t,{attribution:r})}(e);t(r)}),e)},t.onFCP=function(t,e){N((function(e){var r=function(t){var e,r=(null===(e=n())||void 0===e?void 0:e.navigationId)||"1",i={timeToFirstByte:0,firstByteToFCP:t.value,loadState:o(l())};if(t.entries.length){var s,a=t.entries[t.entries.length-1],u=0;if(t.navigationId&&t.navigationId!==r)u=(s=m(t.navigationId))?s.startTime:0;else if(s=n()){var c=s.responseStart,d=s.activationStart||0;u=Math.max(0,c-d)}s&&(i={timeToFirstByte:u,firstByteToFCP:t.value-u,loadState:o(t.entries[0].startTime),navigationEntry:s,fcpEntry:a})}return Object.assign(t,{attribution:i})}(e);t(r)}),e)},t.onFID=function(t,e){yt((function(e){var r=function(t){var e=t.entries[0],r={eventTarget:s(e.target),eventType:e.name,eventTime:e.startTime,eventEntry:e,loadState:o(e.startTime)};return Object.assign(t,{attribution:r})}(e);t(r)}),e)},t.onINP=function(t,e){r||(r=g("long-animation-frame",$)),Y((function(e){var r=function(t){var e=t.entries[0],r=J.get(e),n=e.processingStart,i=r.processingEnd,a=r.entries.sort((function(t,e){return t.processingStart-e.processingStart})),u=st(e.startTime,i),c=t.entries.find((function(t){return t.target})),l=c&&c.target||q.get(e.interactionId),d=[e.startTime+e.duration,i].concat(u.map((function(t){return t.startTime+t.duration}))),p=Math.max.apply(Math,d),f={interactionTarget:s(l),interactionTargetElement:l,interactionType:e.name.startsWith("key")?"keyboard":"pointer",interactionTime:e.startTime,nextPaintTime:p,processedEventEntries:a,longAnimationFrameEntries:u,inputDelay:n-e.startTime,processingDuration:i-n,presentationDelay:Math.max(p-i,0),loadState:o(e.startTime)};return Object.assign(t,{attribution:f})}(e);t(r)}),e)},t.onLCP=function(t,e){!function(t,e){var r,o=!1,i=h(e=e||{}),s=0,c=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1",l="";C((function(){var r,n=I(),h=f("LCP"),y=function(i,u){if(h=f("LCP",0,i,u),r=a(t,h,at,e.reportAllChanges),o=!1,"soft-navigation"===i){n=I(!0);var c=m(u);s=c&&c.startTime?c.startTime:0}T()},E=function(t){t.forEach((function(t){if(t){i&&t.navigationId&&t.navigationId!==h.navigationId&&(o||r(!0),y("soft-navigation",t.navigationId));var e=0;if(t.navigationId&&t.navigationId!==c){var s=m(t.navigationId),a=s&&s.startTime?s.startTime:0;e=Math.max(t.startTime-a,0)}else e=Math.max(t.startTime-p(),0);t.startTime<n.firstHiddenTime&&(h.value=e,h.entries=[t],h.navigationId=t.navigationId||c,r())}}))},S=function(){_(),o||(E(C.takeRecords()),i||C.disconnect(),h.navigationId===l&&(o=!0,r(!0)))},T=function(){["keydown","click"].forEach((function(t){addEventListener(t,(function(){return b()}),!0)}))},_=function(){["keydown","click"].forEach((function(t){removeEventListener(t,(function(){return b()}),!0)}))},b=function(){l=h.navigationId,H(S)},C=g("largest-contentful-paint",E,e);C&&(r=a(t,h,at,e.reportAllChanges),T(),v((function(){l=h.navigationId,S()})),d((function(t){y("back-forward-cache",h.navigationId),u((function(){h.value=performance.now()-t.timeStamp,o=!0,r(!0)}))})),i&&g("soft-navigation",(function(t){t.forEach((function(t){var e=t.navigationId?m(t.navigationId):null;t.navigationId&&t.navigationId!==h.navigationId&&e&&(e.startTime||0)>s&&(o||r(!0),y("soft-navigation",t.navigationId))}))}),e))}))}((function(e){var r=function(t){var e,r=(null===(e=n())||void 0===e?void 0:e.navigationId)||"1",o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var i,a=0,u=0,c=0;if(t.navigationId&&t.navigationId!==r?a=c=(i=m(t.navigationId))?i.startTime:0:(a=(i=n())&&i.activationStart?i.activationStart:0,u=i&&i.responseStart?i.responseStart:0),i){var l=t.entries[t.entries.length-1],d=l.url&&performance.getEntriesByType("resource").filter((function(t){return t.name===l.url}))[0],p=Math.max(0,u-a),f=Math.max(p,d?(d.requestStart||d.startTime)-a:0),h=Math.max(f-c,d?d.responseEnd-a:0,0),g=Math.max(h-c,l?l.startTime-a:0,0);o={element:s(l.element),timeToFirstByte:p,resourceLoadDelay:f-p,resourceLoadDuration:h-f,elementRenderDelay:g-h,navigationEntry:i,lcpEntry:l},l.url&&(o.url=l.url),d&&(o.lcpResourceEntry=d)}}return Object.assign(t,{attribution:o})}(e);t(r)}),e)},t.onTTFB=function(t,e){lt((function(e){var r=function(t){var e={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(t.entries.length){var r=t.entries[0],n=r.activationStart||0,o=Math.max((r.workerStart||r.fetchStart)-n,0),i=Math.max(r.domainLookupStart-n||0,0),s=Math.max(r.connectStart-n||0,0),a=Math.max(r.connectEnd-n||0,0);e={waitingDuration:o,cacheDuration:i-o,dnsDuration:s-i,connectionDuration:a-s,requestDuration:t.value-a,navigationEntry:r}}return Object.assign(t,{attribution:e})}(e);t(r)}),e)}}(e)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{"use strict";r(634),r(3105);var t=r(3901),e=r(7410),n=r(3183),o=r(7421),i=r(4720),s=r(5221),a=r(7001),u=r(440),c=r(8087),l=r(8634),d=r(1344),p=r(371),f=r(1262),h=r(9313),m=r(9497),g=r(3744),v=r(8792),y=r(2365),E=r(7277),S=r(978),T=r(2928),_=r(1990),b=r(2906),I=r(8175),C=r(4698);if(e.supportedPerformanceTypes.has(o.PerformanceTypes.LongTask)){var R=window.__tti={e:[]};R.o=new PerformanceObserver((function(t){R.e=R.e.concat(t.getEntries())})),R.o.observe({type:o.PerformanceTypes.LongTask,buffered:!0})}var N,A,O,w,M,x,L,D,P,k,U,F=!1,B={get isInited(){return F},init:function(r){var a,d;if(F)console.warn("CoralogixRum already inited.");else if("object"==typeof window)if("function"==typeof Symbol){var _=(0,m.validateAndResolveInitConfig)(r);if(_){if(window[i.SDK_CONFIG_KEY]=_,!(0,g.isSamplingOn)(_.sessionSampleRate)||!(0,g.isSamplingOn)(_.sessionConfig.sessionSampleRate)){var I;if(!(null==(I=_.sessionConfig)?void 0:I.alwaysTrackSessionsWithErrors))return void(r.debug&&console.debug("CoralogixRum: Session tracking is disabled"));_.sessionConfig.onlyWithErrorConfig=Object.assign({},_.sessionConfig.onlyWithErrorConfig,{enable:!0})}_.debug||_.public_key||console.warn("rumAuth will be required in the future"),new l.SessionManager(_.sessionRecordingConfig).start();var R=_.ignoreUrls,B=_.labels,j=_.user_context,G=_.application,W=_.version,V=_.traceParentInHeader,H=_.environment;x=new c.CoralogixWebTracerProvider;var X={},Y=i.INSTRUMENTATIONS.map((function(t){var n,o=t.Instrument,i=t.confKey,s=t.disable,a=(0,e.getInstrumentationConfig)(null==_||null==(n=_.instrumentations)?void 0:n[i],X,s);if(a){var c;switch(i){case"errors":c=new o(Object.assign({},a,{ignoreErrors:null==r?void 0:r.ignoreErrors})),O=c;break;case"fetch":case"xhr":c=new o(Object.assign({},a,{ignoreUrls:R,traceParentInHeader:V}));break;case p.INTERNAL_INSTRUMENTATION_NAME:c=new o(a),(0,e.saveInternalRumData)(p.INTERNAL_INSTRUMENTATION_NAME,c);break;case C.MEMORY_USAGE_INSTRUMENTATION_NAME:_.memoryUsageConfig.enabled&&(0,C.isMeasureUserAgentSpecificMemoryAllowed)()&&(c=new o(a),M=c);break;default:c=new o(a)}return c instanceof u.CoralogixCustomLogInstrumentation&&(A=c),c instanceof b.CoralogixCustomMeasurementInstrumentation&&(w=c),c}return null})).filter((function(t){return Boolean(t)})),K=Object.assign({},i.OPTIONS_DEFAULTS.user_context,j);L=new n.CoralogixSpanAttributesProcessor(Object.assign(((a={})[i.CoralogixAttributes.APPLICATION_CONTEXT]=JSON.stringify({application:G,version:W}),a[i.CoralogixAttributes.USER_CONTEXT]=JSON.stringify(K),a),H?((d={})[i.CoralogixAttributes.ENVIRONMENT]=H,d):{})),B&&L.setCustomLabels(B),x.addSpanProcessor(L),k=new T.CoralogixNavigationProcessor,x.addSpanProcessor(k),P=new v.CoralogixSpanMapProcessor,x.addSpanProcessor(P),new E.SnapshotManager,D=new y.CoralogixSnapshotSpanProcessor,x.addSpanProcessor(D),x.addSpanProcessor(new t.BatchSpanProcessor(U=new s.CoralogixExporter,{maxExportBatchSize:i.MAX_EXPORT_BATCH_SIZE,scheduledDelayMillis:i.SCHEDULE_DELAY_MILLIS})),(0,h.handlePropagators)(r,x),N=(0,S.registerInstrumentations)({tracerProvider:x,instrumentations:Y});var z=(0,e.partition)(_.labelProviders||[],(function(t){var e=t.urlType;return e===o.UrlType.PAGE||!e})),Z=z[0],J=z[1];(0,e.saveInternalRumData)(i.PAGE_URL_LABEL_PROVIDERS_KEY,Z),(0,e.saveInternalRumData)(i.NETWORK_URL_LABEL_PROVIDERS_KEY,J),F=!0,null!=r&&r.debug&&console.info("CoralogixRum.init() complete"),(0,f.reportInternalEvent)("init")}}else console.warn("CoralogixRum: browser not supported, disabling instrumentation.");else console.warn("CoralogixRum: Non-browser environment detected, aborting")},shutdown:function(){var t,e,r,n,o,i;F&&(null==N||N(),N=void 0,this.stopSessionRecording(),null==(t=(0,d.getSessionManager)())||t.stop(),null==(e=L)||e.shutdown(),null==(r=k)||r.shutdown(),null==(n=P)||n.shutdown(),null==(o=D)||o.shutdown(),null==(i=U)||i.shutdown(),F=!1)},setApplicationContext:function(t){var e,r;F?null==(e=L)||e.setInternalLabels(Object.assign({},L.getInternalLabels(),((r={})[i.CoralogixAttributes.APPLICATION_CONTEXT]=t,r))):console.debug("CoralogixRum must be initiated before setting application context")},captureError:function(t){var e;F?null==(e=O)||e.reportError(_.ErrorSource.CAPTURED,t):console.debug("CoralogixRum must be initiated before reporting errors")},sendCustomMeasurement:function(t,e){var r;F?null==(r=w)||r.createCustomMeasurement(t,e):console.debug("CoralogixRum must be initiated before sending custom measurement")},addTiming:function(t,e){F?this.sendCustomMeasurement(t,(0,I.getTiming)(e)):console.debug("CoralogixRum must be initiated before adding timing")},measureUserAgentSpecificMemory:function(){F?M?M.startTrackingMemoryUsage():console.debug("Memory usage instrumentation is not enabled"):console.debug("CoralogixRum must be initiated before measuring user agent specific memory")},stopSessionRecording:function(){var t;null==(t=(0,d.getSessionRecorder)())||t.stopRecording()},startSessionRecording:function(){var t;null==(t=(0,d.getSessionRecorder)())||t.startRecording()},setUserContext:function(t){var e,r;F?null==(e=L)||e.setInternalLabels(Object.assign({},L.getInternalLabels(),((r={})[i.CoralogixAttributes.USER_CONTEXT]=t,r))):console.debug("CoralogixRum must be initiated before setting user context")},getUserContext:function(){var t;return null==(t=L)?void 0:t.getUserContext()},setLabels:function(t){var e;null==(e=L)||e.setCustomLabels(t)},getLabels:function(){var t;return(null==(t=L)?void 0:t.getCustomLabels())||{}},getSessionId:function(){var t;return null==(t=(0,d.getSessionManager)())||null==(t=t.getSession())?void 0:t.sessionId},log:function(t,e,r){var n;F?A?null==(n=A)||n.log(t,e,r):console.warn("Log was reported, but custom instrumentation is disabled."):console.debug("CoralogixRum must be initiated before using log")},debug:function(t,e){this.log(a.CoralogixLogSeverity.Debug,t,e)},verbose:function(t,e){this.log(a.CoralogixLogSeverity.Verbose,t,e)},info:function(t,e){this.log(a.CoralogixLogSeverity.Info,t,e)},warn:function(t,e){this.log(a.CoralogixLogSeverity.Warn,t,e)},error:function(t,e){this.log(a.CoralogixLogSeverity.Error,t,e)},critical:function(t,e){this.log(a.CoralogixLogSeverity.Critical,t,e)}};window.CoralogixRum=B})()})();